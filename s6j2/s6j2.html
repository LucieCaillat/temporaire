<!DOCTYPE html>
<html class="loaded" lang="fr"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script type="text/javascript" async="" src="s6j2_fichiers/insight.js"></script><script type="text/javascript" src="s6j2_fichiers/NRJS-71f55aa980e498e276b"></script><script type="text/javascript" async="" src="s6j2_fichiers/gtm_002.js"></script><script src="s6j2_fichiers/nr-1212.js"></script><script type="text/javascript" src="s6j2_fichiers/commons.js" async="" status="loaded"></script><script type="text/javascript" src="s6j2_fichiers/google-tag-manager.js" async="" status="loaded"></script><script type="text/javascript" async="" src="s6j2_fichiers/analytics.js"></script><script type="text/javascript" async="" src="s6j2_fichiers/mixpanel-2-latest.js"></script><script type="text/javascript" async="" src="s6j2_fichiers/conversion_async.js"></script><script src="s6j2_fichiers/conversations-embed.js" type="text/javascript" id="hubspot-messages-loader" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s6j2_fichiers/9310539_003.js" type="text/javascript" id="hs-analytics"></script><script src="s6j2_fichiers/9310539_002.js" type="text/javascript" id="cookieBanner-9310539" data-cookieconsent="ignore" data-hs-ignore="true" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s6j2_fichiers/fb.js" type="text/javascript" id="hs-ads-pixel-9310539" data-ads-portal-id="9310539" data-ads-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s6j2_fichiers/collectedforms.js" type="text/javascript" id="CollectedForms-9310539" crossorigin="anonymous" data-leadin-portal-id="9310539" data-leadin-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s6j2_fichiers/leadflows.js" type="text/javascript" id="LeadFlows-9310539" crossorigin="anonymous" data-leadin-portal-id="9310539" data-leadin-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script async="" crossorigin="anonymous" src="s6j2_fichiers/fs.js"></script><script src="s6j2_fichiers/773401719499556.js" async=""></script><script async="" src="s6j2_fichiers/fbevents.js"></script><script async="" src="s6j2_fichiers/gtm.js"></script><script type="text/javascript" async="" src="s6j2_fichiers/analytics_002.js"></script><script>window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"NRJS-71f55aa980e498e276b","applicationID":"576835834","transactionName":"dgpYEBRYDg9XQh8AA0YNVAsHRQZMVlFJF01GDVkT","queueTime":0,"applicationTime":358,"agent":""}</script>
<script>(window.NREUM||(NREUM={})).init={ajax:{deny_list:["bam.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={licenseKey:"NRJS-71f55aa980e498e276b",applicationID:"576835834"};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var i=e[n]={exports:{}};t[n][0].call(i.exports,function(e){var i=t[n][1][e];return r(i||e)},i,i.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,n){function r(){}function i(t,e,n,r){return function(){return s.recordSupportability("API/"+e+"/called"),o(t+e,[u.now()].concat(c(arguments)),n?null:this,r),n?void 0:this}}var o=t("handle"),a=t(10),c=t(11),f=t("ee").get("tracer"),u=t("loader"),s=t(4),d=NREUM;"undefined"==typeof window.newrelic&&(newrelic=d);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",v=l+"ixn-";a(p,function(t,e){d[e]=i(l,e,!0,"api")}),d.addPageAction=i(l,"addPageAction",!0),d.setCurrentRouteName=i(l,"routeName",!0),e.exports=newrelic,d.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(t,e){var n={},r=this,i="function"==typeof e;return o(v+"tracer",[u.now(),t,n],r),function(){if(f.emit((i?"":"no-")+"fn-start",[u.now(),r,i],n),i)try{return e.apply(this,arguments)}catch(t){throw f.emit("fn-err",[arguments,this,t],n),t}finally{f.emit("fn-end",[u.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){m[e]=i(v,e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),s.recordSupportability("API/noticeError/called"),o("err",[t,u.now(),!1,e])}},{}],2:[function(t,e,n){function r(t){if(NREUM.init){for(var e=NREUM.init,n=t.split("."),r=0;r<n.length-1;r++)if(e=e[n[r]],"object"!=typeof e)return;return e=e[n[n.length-1]]}}e.exports={getConfiguration:r}},{}],3:[function(t,e,n){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(o){}e.exports=function(t){return r?{passive:!0,capture:!!t}:!!t}},{}],4:[function(t,e,n){function r(t,e){var n=[a,t,{name:t},e];return o("storeMetric",n,null,"api"),n}function i(t,e){var n=[c,t,{name:t},e];return o("storeEventMetrics",n,null,"api"),n}var o=t("handle"),a="sm",c="cm";e.exports={constants:{SUPPORTABILITY_METRIC:a,CUSTOM_METRIC:c},recordSupportability:r,recordCustom:i}},{}],5:[function(t,e,n){function r(){return c.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,c=t(12);e.exports=r,e.exports.offset=a,e.exports.getLastTimestamp=i},{}],6:[function(t,e,n){function r(t){return!(!t||!t.protocol||"file:"===t.protocol)}e.exports=r},{}],7:[function(t,e,n){function r(t,e){var n=t.getEntries();n.forEach(function(t){"first-paint"===t.name?p("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&p("timing",["fcp",Math.floor(t.startTime)])})}function i(t,e){var n=t.getEntries();if(n.length>0){var r=n[n.length-1];if(f&&f<r.startTime)return;p("lcp",[r])}}function o(t){t.getEntries().forEach(function(t){t.hadRecentInput||p("cls",[t])})}function a(t){if(t instanceof g&&!y){var e=Math.round(t.timeStamp),n={type:t.type};e<=l.now()?n.fid=l.now()-e:e>l.offset&&e<=Date.now()?(e-=l.offset,n.fid=l.now()-e):e=l.now(),y=!0,p("timing",["fi",e,n])}}function c(t){"hidden"===t&&(f=l.now(),p("pageHide",[f]))}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var f,u,s,d,p=t("handle"),l=t("loader"),v=t(9),m=t(3),g=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){u=new PerformanceObserver(r);try{u.observe({entryTypes:["paint"]})}catch(h){}s=new PerformanceObserver(i);try{s.observe({entryTypes:["largest-contentful-paint"]})}catch(h){}d=new PerformanceObserver(o);try{d.observe({type:"layout-shift",buffered:!0})}catch(h){}}if("addEventListener"in document){var y=!1,w=["click","keydown","mousedown","pointerdown","touchstart"];w.forEach(function(t){document.addEventListener(t,a,m(!1))})}v(c)}},{}],8:[function(t,e,n){function r(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!o)return!1;for(var n=o.split("."),r=e.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var c=navigator.userAgent,f=c.match(a);f&&c.indexOf("Chrome")===-1&&c.indexOf("Chromium")===-1&&(i="Safari",o=f[1])}e.exports={agent:i,version:o,match:r}},{}],9:[function(t,e,n){function r(t){function e(){t(c&&document[c]?document[c]:document[o]?"hidden":"visible")}"addEventListener"in document&&a&&document.addEventListener(a,e,i(!1))}var i=t(3);e.exports=r;var o,a,c;"undefined"!=typeof document.hidden?(o="hidden",a="visibilitychange",c="visibilityState"):"undefined"!=typeof document.msHidden?(o="msHidden",a="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o="webkitHidden",a="webkitvisibilitychange",c="webkitVisibilityState")},{}],10:[function(t,e,n){function r(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],11:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(i<0?0:i);++r<i;)o[r]=t[e+r];return o}e.exports=r},{}],12:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function r(){}function i(t){function e(t){return t&&t instanceof r?t:t?u(t,f,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!l.aborted||o){t&&a&&t(n,r,i);for(var c=e(i),f=m(n),u=f.length,s=0;s<u;s++)f[s].apply(c,r);var p=d[w[n]];return p&&p.push([b,n,r,c]),c}}function o(t,e){y[t]=m(t).concat(e)}function v(t,e){var n=y[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)}function m(t){return y[t]||[]}function g(t){return p[t]=p[t]||i(n)}function h(t,e){l.aborted||s(t,function(t,n){e=e||"feature",w[n]=e,e in d||(d[e]=[])})}var y={},w={},b={on:o,addEventListener:o,removeEventListener:v,emit:n,get:g,listeners:m,context:e,buffer:h,abort:c,aborted:!1};return b}function o(t){return u(t,f,a)}function a(){return new r}function c(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var f="nr@context",u=t("gos"),s=t(10),d={},p={},l=e.exports=i();e.exports.getOrSetContext=o,l.backlog=d},{}],gos:[function(t,e,n){function r(t,e,n){if(i.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return t[e]=r,r}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){i.buffer([t],r),i.emit(t,e,n)}var i=t("ee").get("handle");e.exports=r,r.ee=i},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,o,function(){return i++})}var i=1,o="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!T++){var t=P.info=NREUM.info,e=g.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(O,function(e,n){t[e]||(t[e]=n)});var n=a();c("mark",["onload",n+P.offset],null,"api"),c("timing",["load",n]);var r=g.createElement("script");0===t.agent.indexOf("http://")||0===t.agent.indexOf("https://")?r.src=t.agent:r.src=v+"://"+t.agent,e.parentNode.insertBefore(r,e)}}function i(){"complete"===g.readyState&&o()}function o(){c("mark",["domContent",a()+P.offset],null,"api")}var a=t(5),c=t("handle"),f=t(10),u=t("ee"),s=t(8),d=t(6),p=t(2),l=t(3),v=p.getConfiguration("ssl")===!1?"http":"https",m=window,g=m.document,h="addEventListener",y="attachEvent",w=m.XMLHttpRequest,b=w&&w.prototype,E=!d(m.location);NREUM.o={ST:setTimeout,SI:m.setImmediate,CT:clearTimeout,XHR:w,REQ:m.Request,EV:m.Event,PR:m.Promise,MO:m.MutationObserver};var x=""+location,O={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1212.min.js"},M=w&&b&&b[h]&&!/CriOS/.test(navigator.userAgent),P=e.exports={offset:a.getLastTimestamp(),now:a,origin:x,features:{},xhrWrappable:M,userAgent:s,disabled:E};if(!E){t(1),t(7),g[h]?(g[h]("DOMContentLoaded",o,l(!1)),m[h]("load",r,l(!1))):(g[y]("onreadystatechange",i),m[y]("onload",r)),c("mark",["firstbyte",a.getLastTimestamp()],null,"api");var T=0}},{}],"wrap-function":[function(t,e,n){function r(t,e){function n(e,n,r,f,u){function nrWrapper(){var o,a,s,p;try{a=this,o=d(arguments),s="function"==typeof r?r(o,a):r||{}}catch(l){i([l,"",[o,a,f],s],t)}c(n+"start",[o,a,f],s,u);try{return p=e.apply(a,o)}catch(v){throw c(n+"err",[o,a,v],s,u),v}finally{c(n+"end",[o,a,p],s,u)}}return a(e)?e:(n||(n=""),nrWrapper[p]=e,o(e,nrWrapper,t),nrWrapper)}function r(t,e,r,i,o){r||(r="");var c,f,u,s="-"===r.charAt(0);for(u=0;u<e.length;u++)f=e[u],c=t[f],a(c)||(t[f]=n(c,s?f+r:r,i,f,o))}function c(n,r,o,a){if(!v||e){var c=v;v=!0;try{t.emit(n,r,o,e,a)}catch(f){i([f,n,r,o],t)}v=c}}return t||(t=s),n.inPlace=r,n.flag=p,n}function i(t,e){e||(e=s);try{e.emit("internal-error",t)}catch(n){}}function o(t,e,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(t);return r.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(o){i([o],n)}for(var a in t)l.call(t,a)&&(e[a]=t[a]);return e}function a(t){return!(t&&t instanceof Function&&t.apply&&!t[p])}function c(t,e){var n=e(t);return n[p]=t,o(t,n,s),n}function f(t,e,n){var r=t[e];t[e]=c(r,n)}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n];return e}var s=t("ee"),d=t(11),p="nr@original",l=Object.prototype.hasOwnProperty,v=!1;e.exports=r,e.exports.wrapFunction=c,e.exports.wrapInPlace=f,e.exports.argsToArray=u},{}]},{},["loader"]);</script>
    <meta name="viewport" content="width=device-width, user-scalable=no">

    <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="253cCIA6q4ll6W1t+8TPacQlbPa7Y3Utf6g8Hlv8fwWoDfIsL9r8uK24G7w71Xb1YHufwJXCkGpmD3sqEqrbmQ==">
    <title>Le tableau de bord | The Hacking Project</title>
<meta name="description" content="Nous cassons les codes de l'éducation, vous apprenez d'où vous voulez, en communauté.">
<meta name="robots" content="noindex, nofollow">
<meta property="og:title" content="Le tableau de bord">
<meta property="og:site_name" content="The Hacking Project">
<meta name="url" content="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/2">
<meta name="image" content="https://www.thehackingproject.org/packs/images/logo/20210910-THP-Logo_color_transparent-31229dd881904e010092de63be97cdfa.png">


    <link rel="apple-touch-icon" sizes="180x180" href="https://www.thehackingproject.org/assets/favicon/apple-touch-icon-c01aaccf467f7cc3d79bbce743d60779f5b833fdc4500cebd07a5e11a07a5c31.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://www.thehackingproject.org/assets/favicon/apple-touch-icon-120x120-precomposed-372de868f08319961b72ba7e3b1ed7121e75e29c8294334cb2c911409ea18131.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://www.thehackingproject.org/assets/favicon/apple-touch-icon-120x120-372de868f08319961b72ba7e3b1ed7121e75e29c8294334cb2c911409ea18131.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.thehackingproject.org/assets/favicon/favicon-32x32-804b12d1c41c60fe721477b7c3b0a32811dc610580dd40ac92f1cc04cbd05ca4.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.thehackingproject.org/assets/favicon/favicon-16x16-d96ba65e5785d32474df9ebc6fbfd5442c751d527b10981a474bc3b7a4079d01.png">
<link rel="manifest" href="https://www.thehackingproject.org/assets/favicon/manifest-cf975201fd8ac78a1f1a203357573d50031f1cc33436d099743df6428b8a38a2.json">
<link rel="mask-icon" href="https://www.thehackingproject.org/assets/favicon/safari-pinned-tab-8af1cfcf7525ccdccb490f9f5adad396653a4969b419e0a9a9d3a1088140a912.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://www.thehackingproject.org/assets/favicon/favicon-cbf10361dc90b277565960736d4897fddef5468bff6299811ea9498459d56d21.ico">
<meta name="msapplication-config" content="/assets/favicon/browserconfig-dab38db6040ef54ac56e91fdd77e3d7b06746a634e87b68c99b59b216cb8611a.xml">
<meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" media="screen" href="s6j2_fichiers/vendor-dab9e12f0ba58215899de05f149caa5f.css">
    <link rel="stylesheet" media="screen" href="s6j2_fichiers/dashboard-4ab6ba9737cbfc4c38b17a9a4de7833a.css">
    <link rel="stylesheet" media="screen" href="s6j2_fichiers/dashboard-ea5a94b9045ccb8d8ce8974b71b640603915dc183d5907c643.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="s6j2_fichiers/js.js"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-105991867-1');
  </script>
<!-- End Google Analytics -->

<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-P8XRQ3M");
</script>
<!-- End Google Tag Manager -->

<!-- Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
         fbq('init', '773401719499556');
        fbq('track', 'PageView');
    </script>
    <noscript>
     <img height="1" width="1"
    src="https://www.facebook.com/tr?id=773401719499556&ev=PageView
    &noscript=1"/>
    </noscript>
<!-- End Facebook Pixel Code -->

<script>
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_script'] = 'edge.fullstory.com/s/fs.js';
window['_fs_org'] = '14AEET';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
    o=n.createElement(t);o.async=1;o.crossOrigin='anonymous';o.src='https://'+_fs_script;
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};
    g.anonymize=function(){g.identify(!!0)};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.log = function(a,b){g("log",[a,b])};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
    g.setVars=function(n, p){g('setVars',[n,p]);};
    g._w={};y='XMLHttpRequest';g._w[y]=m[y];y='fetch';g._w[y]=m[y];
    if(m[y])m[y]=function(){return g._w[y].apply(this,arguments)};
    g._v="1.3.0";
})(window,document,window['_fs_namespace'],'script','user');
</script>
<!-- Start of HubSpot Embed Code -->
<script async="" defer="defer" id="hs-script-loader" src="s6j2_fichiers/9310539.js" type="text/javascript"></script>
<!-- End of HubSpot Embed Code -->


    <script src="s6j2_fichiers/thp-3cc5aa6fdf57842a7b6c714621cc7f2d3d31b51cb700b1de4e795d773.js"></script>
    <script src="s6j2_fichiers/manifest-1613feea780cfc5342f4.js"></script>
    <script src="s6j2_fichiers/vendor-ff3cb5540e737de52c97.js"></script>
    <script src="s6j2_fichiers/dashboard-25875e14460b4458b1bccffaa93d4a8cbee9691b06d54976fde.js"></script>

    <link href="s6j2_fichiers/css.css" rel="stylesheet">
  <script src="s6j2_fichiers/a"></script></head>

  <body class="vertical-layout 2-columns fixed-navbar menu-hide vertical-overlay-menu" data-open="click" data-menu="vertical-menu" data-color="bg-gradient-x-primary-blue" data-col="2-columns" data-thp-controller="days" data-thp-action="show" data-thp-layout="dashboard"><style type="text/css">html.hs-messages-widget-open.hs-messages-mobile,html.hs-messages-widget-open.hs-messages-mobile body{overflow:hidden!important;position:relative!important}html.hs-messages-widget-open.hs-messages-mobile body{height:100%!important;margin:0!important}#hubspot-messages-iframe-container{display:initial!important;z-index:2147483647;position:fixed!important;bottom:0!important}#hubspot-messages-iframe-container.widget-align-left{left:0!important}#hubspot-messages-iframe-container.widget-align-right{right:0!important}#hubspot-messages-iframe-container.internal{z-index:1016}#hubspot-messages-iframe-container.internal iframe{min-width:108px}#hubspot-messages-iframe-container .shadow-container{display:initial!important;z-index:-1;position:absolute;width:0;height:0;bottom:0;content:""}#hubspot-messages-iframe-container .shadow-container.internal{display:none!important}#hubspot-messages-iframe-container .shadow-container.active{width:400px;height:400px}#hubspot-messages-iframe-container iframe{display:initial!important;width:100%!important;height:100%!important;border:none!important;position:absolute!important;bottom:0!important;right:0!important;background:transparent!important}</style>
    <!-- Google Tag Manager (noscript) -->
<noscript>
<iframe height='0' src='https://www.googletagmanager.com/ns.html?id=GTM-P8XRQ3M' style='display:none;visibility:hidden' width='0'></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->



    <nav class="header-navbar navbar-expand-md navbar navbar-with-menu navbar-without-dd-arrow fixed-top navbar-semi-light" style="padding:0;">
<div class="navbar-wrapper">
<div class="navbar-container content">
<div class="collapse navbar-collapse show" id="navbar-mobile">
<ul class="nav navbar-nav mr-auto float-left">
<li class="nav-item mobile-menu d-md-none mr-auto">
<a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#">
<i class="ft-menu font-large-1"></i>
</a>
</li>
<li class="nav-item d-none d-md-block">
<a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#">
<i class="ft-menu"></i>
</a>
</li>
</ul>
<ul class="nav navbar-nav float-right">
<li class="dropdown dropdown-user nav-item">
<a class="dropdown-toggle nav-link dropdown-user-link" data-toggle="dropdown" href="#">
<span class="avatar avatar-online">

<img alt="avatar" style="max-height: 40px!important; width: auto" class="rounded-circle img-border" src="s6j2_fichiers/default_profile-a3318a5e66467f9958f16a172f9d15d6.jpg">

</span>
</a>
<div class="dropdown-menu dropdown-menu-right">
<div class="arrow_box_right">
<a class="dropdown-toggle nav-link dropdown-user-link" href="https://www.thehackingproject.org/fr/dashboard/profile/user"><span class="avatar avatar-online pt-0">

<img alt="avatar" style="max-height: 40px!important; width: auto" class="rounded-circle img-border" src="s6j2_fichiers/default_profile-a3318a5e66467f9958f16a172f9d15d6.jpg">

</span>
<span class="user-name text-bold-700 ml-1 text-dark">
Lucie
</span>
</a><div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.thehackingproject.org/fr/dashboard/profile/user/edit"><i class="ft-edit"></i>Éditer profil
</a><div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.thehackingproject.org/fr/dashboard/profile/user/edit?edit=danger"><i class="ft-alert-triangle"></i>Zone à risques
</a><div class="dropdown-divider"></div>
<a class="dropdown-item" rel="nofollow" data-method="delete" href="https://www.thehackingproject.org/users/sign_out?locale=fr"><i class="ft-power"></i>
Déconnexion
</a></div>
</div>
</li>
</ul>
</div>
</div>
</div>
</nav>

      <div class="main-menu menu-fixed menu-light menu-accordion menu-shadow" data-scroll-to-active="true">
<div class="navbar-header">
<ul class="nav navbar-nav flex-row">
<li class="nav-item mr-auto">
<a class="navbar-brand" href="https://www.thehackingproject.org/?locale=fr"><h3 class="brand-text">The Hacking Project</h3>
</a></li>
<li class="nav-item d-md-none">
<a class="nav-link close-navbar">
<i class="ft-x"></i>
</a>
</li>
</ul>
</div>
<div class="main-menu-content">
<ul class="navigation navigation-main" data-menu="menu-navigation" id="main-menu-navigation">
<li class="nav-item">
<a href="https://www.thehackingproject.org/fr/dashboard"><i class="ft-calendar"></i>
<span class="menu-title" data-i18n="">
Aujourd'hui
</span>
</a></li>
<li class="nav-item">
<a href="https://www.thehackingproject.org/fr/dashboard/dashboard"><i class="ft-monitor"></i>
<span class="menu-title" data-i18n="">
Mon dashboard
</span>
</a></li>
<li class="nav-item has-sub">
<a href="#"><i class="fas fa-user-graduate"></i>
<span class="menu-title" data-i18n="">
Mon inscription
</span>
</a><ul class="menu-content">
<li>
<a href="https://www.thehackingproject.org/parcours?locale=fr">Choisir un parcours</a>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/profile/curriculum_subscriptions/new">Nouveau parcours</a>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/profile/curriculum_subscriptions/7209/edit">Changer parcours</a>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/modalites">Modalités</a>
</li>
</ul>
</li>
<li class="nav-item">
<a href="https://www.thehackingproject.org/fr/dashboard/certifications"><i class="fa ft-download"></i>
<span class="menu-title" data-i18n="">
Documents
</span>
</a></li>
<br>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/help"><i class="fa ft-help-circle"></i>
<span class="menu-title" data-i18n="">
Aide
</span>
</a></li>
</ul>
</div>
</div>



    <div class="app-content content">
      <div class="content-wrapper">
        <div class="content-wrapper-before"></div>
        <div class="content-header row"></div>
        <div class="container">
<div class="row">
<div class="col-12">
<ol class="breadcrumb">
<li class="breadcrumb-item">
<a href="https://www.thehackingproject.org/fr/dashboard/dashboard">Dashboard</a>
</li>
<li class="breadcrumb-item">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1">Fullstack web</a>
</li>
<li class="breadcrumb-item">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3">Rails intermédiaire</a>
</li>
<li class="breadcrumb-item active">
Utiliser les routes et les formulaires
</li>
</ol>
</div>
</div>
<!-- / PARTIAL FOR FREE MOUSSES -->
<!-- / PARTIAL FOR NEXT -->
<div class="row">
<div class="col-12">
<div class="card">
<div class="card-body">
<div class="row">
<div class="col-12 col-xl-12 text-center mb-3">
<h2 class="mb-2">
Rails intermédiaire
</h2>
<h3>
Utiliser les routes et les formulaires
</h3>
<h4>
<i class="fa fa-pencil text-success" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Corrections cette journée là"></i>

</h4>
<h5>
Aujourd'hui tu vas te montrer le monde merveilleux des routes et comment les formulaires les utilisent
</h5>
</div>
<div class="col-12 col-xl-12 timeline-left" id="activity">
<div class="timeline pt-2">
<ul class="list-unstyled base-timeline activity-timeline">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/1"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/1">Lundi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-rocket text-danger" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Projet à rendre ce jour-là"></i>

Découverte de Rails
</div>
</div>
<small class="text-muted">
Maintenant que tu es un champion du backend, nous allons nous attaquer au frontend, et au web.
</small>
</li>
<li>
<div class="timeline-icon bg-primary">
<i class="ft-map-pin font-medium-1"></i>
</div>
<div class="act-time">
Mardi
</div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-pencil text-success" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Corrections cette journée là"></i>

Utiliser les routes et les formulaires
</div>
</div>
<small class="text-muted">
Aujourd'hui tu vas te montrer le monde merveilleux des routes et comment les formulaires les utilisent
</small>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/3"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/3">Mercredi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">

CRUD
</div>
</div>
<small class="text-muted">
Create, Read, Update, Destroy.
</small>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/4"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/4">Jeudi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-rocket text-danger" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Projet à rendre ce jour-là"></i>

Pimp du Gossip Project
</div>
</div>
<small class="text-muted">

</small>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/5"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/3/days/5">Vendredi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-pencil text-success" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Corrections cette journée là"></i>

Mettre en ligne ton site 🚀 et l'améliorer avec login &amp; Cookies 🍪
</div>
</div>
<small class="text-muted">
Tu vas faire une app qui sera accessible uniquement aux utilisateurs qui
 sont login. Mais avant, on va apprendre à la mettre en ligne sur Heroku
 !
</small>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Les fameuses corrections qui n'arrivent que les jours concernés -->
<div class="row">
<div class="col-12">
<div class="card">
<div class="card-header" style="border-top: 3px solid #5E66E5">
<h1>
Ressource : 
Les conventions REST et CRUD appliquées aux Routes et Controllers
</h1>
<a class="heading-elements-toggle">
<i class="la la-ellipsis-v font-medium-3"></i>
</a>
<div class="heading-elements">
<ul class="list-inline mb-0">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/lessons/163/lesson_submissions/new"><i class="ft-edit" data-original-title="Proposer une amélioration" data-placement="top" data-toggle="tooltip"></i>
</a></li>
<li>
<a data-action="collapse">
<i class="ft-minus"></i>
</a>
</li>
<li>
<a data-action="expand">
<i class="ft-maximize"></i>
</a>
</li>
</ul>
</div>
</div>
<div class="card-content collapse show">
<div class="card-body">
<div class="tab-pane active" id="home1" role="tabpanel">

<h2>1. Introduction</h2>
<p>Cette semaine, tu plonges à fond dans l'univers de Rails et au 
passage, tu vas créer de nombreuses applications&nbsp;: d'ici 10 jours, 
tu seras très étonné de ce que tu arrives déjà à produire. Aussi, on va 
prendre <b>dès maintenant les bonnes habitudes en appliquant les 
conventions et les bonnes pratiques qui feront de toi un VRAI rubyiste 
et non plus simplement une "personne qui écrit du Ruby"</b>. À travers cette ressource, je vais t'apprendre à organiser ton app Rails pour qu'elle soit <i>100&nbsp;% approved by tech</i>&nbsp;: les routes vont suivre les conventions et les controllers auront une structure efficace et standard.</p>

<p>Il ne s'agit pas là de faire de toi un puriste par simple envie de se
 conformer à la communauté Ruby. Les pratiques que je vais te détailler 
là vont te permettre de développer des applications complexes avec des 
routes nombreuses, dynamiques et imbriquées, des controllers variés, 
hébergeant chacun moult méthodes, des views en-veux-tu-en-voilà… Et le 
tout sans t'y perdre car cela va suivre une construction logique qui 
aidera tout le monde à s'y retrouver&nbsp;: toi, comme tes 
collègues&nbsp;!</p>

<p>Rails est basé sur <a href="https://fr.wikipedia.org/wiki/Representational_state_transfer" target="_blank">REST (representational state transfer)</a>,
 qui est un style d'architecture logicielle très courant sur le web. En 
suivant l'archi REST, on va mettre en place des opérations de type CRUD.
 T'y comprends rien&nbsp;? T'inquiètes, on va t'expliquer.</p>

<h2>2. Historique</h2>
<p>Le modèle REST a été créé en 2000 par un certain Roy Fielding, dans 
sa thèse d'étudiant (la classe non&nbsp;? Il est devenu quoi toi ton 
dernier mémoire étudiant&nbsp;? 🥴 ) </p>

<p>Pour simplifier, le REST établit la règle suivante: "en général, il y
 a 7 choses que l'on veut faire, sur Internet, quand on manipule une 
ressource". Une ressource, c'est généralement un élément de ta BDD par 
exemple la ressource potin, de The Gossip Project. Si tu es en mode 
REST, il y a donc 7 requêtes (ou demandes) que l'utilisateur doit 
pouvoir envoyer à ton serveur :</p>
<ol>
  <li><b>Afficher toutes les ressources</b> = <code>GET</code> tous les potins (l'<code>index</code> des potins donc)</li>
  <li><b>Afficher une des ressources</b> = <code>GET</code> juste un potin (<code>show</code> ton potin)</li>
  <li><b>Afficher la page de création d'une ressource</b> = <code>GET</code> la page avec le formulaire de création d'un nouveau potin (un <code>new</code> potin donc)</li>
  <li><b>Envoyer les informations pour créer une ressource</b> = <code>POST</code> les données du formulaire de création du potin (<code>create</code> ton potin)</li>
  <li><b>Afficher la page de modification d'une ressource</b> = <code>GET</code> la page avec le formulaire d'édition d'un potin existant (<code>edit</code> ton potin)</li>
  <li><b>Envoyer les informations pour éditer une ressource</b> = <code>PUT</code> ou <code>PATCH</code> les données du formulaire de mise à jour du potin (<code>update</code> ton potin)</li>
  <li><b>Supprimer une ressource</b> = <code>DELETE</code> un potin spécifique (<code>destroy</code> le potin)</li>
</ol>

<p>Et puis c'est tout&nbsp;! À partir de là on peut construire plein 
d'applications web, et si tu y réfléchis bien, un tas de sites que tu 
utilises chaque jour sont aussi basés sur le REST (remplace, dans la 
liste ci-dessus, "potin" par "post Facebook" ou "Story Instagram" ou 
"Vidéo Youtube"). Nous allons voir comment implémenter ça en Rails.</p>

<h2>3. La ressource</h2>
<h3>3.1. À la base de tout : le CRUD</h3>
<p>Plus haut nous avons vu les 7 méthodes du REST. Et bien si on 
réfléchit, on peut les réunir en 4 catégories qui correspondent au 
fameux CRUD dont on parle depuis des lustres :</p>

<ul>
  <li><b>CREATE</b>&nbsp;: regroupe l'affichage du formulaire de création (méthode <code>#new</code>) et son traitement + sauvegarde en base de la ressource (méthode <code>#create</code>).</li>
  <li><b>READ</b>&nbsp;: regroupe l'affichage d'une ressource précise (méthode <code>#show</code>) et l'affichage de toutes les ressources en base (méthode <code>#index</code>).</li>
  <li><b>UPDATE</b>&nbsp;: regroupe l'affichage du formulaire d'édition (méthode <code>#edit</code>) et son traitement + mise à jour en base de la ressource (méthode <code>#update</code>).</li>
  <li><b>DESTROY</b>&nbsp;: c'est la destruction en base d'une ressource (méthode <code>#destroy</code>). C'est la seule catégorie où il n'y a qu'une méthode.</li>
</ul>

<p>S'il y a une chose à retenir, c'est que <b>toute route sur Rails 
correspond à une requête du REST, et que derrière, cette route va 
pointer vers une action du CRUD, pour la ressource qui la concerne. 
Cette action s'effectuera au sein d'une méthode de controller puis 
renverra vers une view correspondante.</b> <br>
En d'autres termes, les routes suivent la convention REST (7 requêtes 
possibles) et pointent vers des controllers qui établissent une action 
du CRUD avec des méthodes ayant des noms fixés par convention&nbsp;: <code>#new</code>, <code>#create</code>, <code>#show</code>, <code>#index</code>, <code>#edit</code>, <code>#update</code> et <code>#destroy</code>.</p>

<p>OK, pour le moment, tu as du mal à imaginer que la page "qui montre 
juste la photo de mon utilisateur" soit une méthode de CRUD (ce n'est 
pas <code>show</code>, puisque cette méthode est déjà prise par la page 
profil 🤔), mais nous allons te donner plein d'exemples plus loin. Avec 
un peu d'entraînement, "penser REST" te permettra de structurer tes 
applications avec une facilité déconcertante.</p>

<h3>3.2. Les routes</h3>
<h4>3.2.1. Les routes, à la main et en détails</h4>
<p>Nous allons continuer avec l'exemple de nos chers potins. <br>
Nous venons donc de t'expliquer que les routes, en Rails, suivent la 
convention REST qui défini 7 requêtes différentes possibles. Voici donc à
 quoi ressembleraient nos routes Rails associées à la ressource potin 
(liée à un model <code>Gossip</code> et à un controller <code>gossips</code> qui gère les actions) :</p>
<pre class=" language-ruby"><code class=" language-ruby">get <span class="token string">"/gossips"</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> "gossips<span class="token comment">#index"
</span>get <span class="token string">"/gossips/:id"</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> "gossips<span class="token comment">#show"
</span>get <span class="token string">"/gossips/new"</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> "gossips<span class="token comment">#new"
</span>post <span class="token string">"/gossips"</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> "gossips<span class="token comment">#create"  # reçoit de l'info d'un formulaire donc verbe POST
</span>get <span class="token string">"/gossips/:id/edit"</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> "gossips<span class="token comment">#edit"
</span>put <span class="token string">"/gossips/:id"</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> "gossips<span class="token comment">#update" # reçoit de l'info d'un formulaire donc verbe PUT
</span>delete <span class="token string">"/gossips/:id"</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> "gossips<span class="token comment">#destroy" # une requête un peu spéciale pour supprimer donc verbe DELETE</span></code></pre>

<p>Tout cela sont des conventions en Rails&nbsp;: les URLs ressembleront
 à cela, les verbes HTTP leurs seront associés de cette façon et les 
méthodes de controller seront toujours nommées ainsi.</p>

<p>Comme tu peux le voir, en Rails, REST et CRUD sont donc imbriqués comme ceci :</p>
<ul>
  <li><b>CREATE</b><ul>
    <li>get <code>/gossips/new</code> affichera un formulaire de création de potin. Ce formulaire va envoyer un POST à la route…</li>
    <li>…post <code>/gossips</code> qui ira à la méthode <code>#create</code> de ton controller dont le rôle est de sauvegarder le potin en BDD</li>
  </ul></li>
  <li><b>READ</b><ul>
    <li>get <code>/gossips</code> affichera l'index des potins (= liste de tous les potins).</li>
    <li>get <code>/gossips/:id</code> affichera la page de "profil" du potin.</li>
  </ul></li>
  <li><b>UPDATE</b><ul>
    <li>get <code>/gossips/:id/edit</code> affichera un formulaire de mise à jour de potin. Ce formulaire va envoyer un PUT à la route…</li>
    <li>…put <code>/gossips/:id</code> qui ira à la méthode <code>#update</code> de ton controlle dont le rôle est de modifier ton potin en BDD</li>
  </ul></li>
  <li><b>DESTROY</b><ul>
    <li>delete <code>/gossips/:id</code> aura pour effet de supprimer ton potin en BDD</li>
  </ul></li>
</ul>


<div class="card box-shadow-0 border-info">
  <div class="card-content collapse show">
    <div class="card-body">
      <h4 class="card-title">🤓 QUESTION RÉCURRENTE</h4>
      <p class="card-text"><b>Jamy, c'est pas super intuitif, pourquoi le POST de création va à </b><code>/gossips</code><b> et non pas </b><code>/gossips/new</code><b>&nbsp;?</b></p>
      <p>C'est une convention. REST a parfois ses raisons que la raison 
ignore. Tu sais ce que l'on dit : Convention Over Configuration. Ne 
t'amuse pas à changer ces conventions au début, tu te le permettras avec
 un peu plus de bouteille 🍾 </p>
      <p>Mais inutile d'apprendre ces routes par cœur&nbsp;: Rails a des
 super helper, avec les adresses en path. Tu vas apprendre à le laisser 
gérer tout ça automatiquement. 🏝 </p>
    </div>
  </div>
</div>

<h4>3.2.2. les routes, automatisées à la sauce Rails Way™</h4>
<p>Bon, maintenant que je t'ai montré comment écrire les 7 types de 
routes qui suivent la convention, tu imagines bien que tu vas pas, à 
chaque nouvelle ressource ou nouveau controller, te taper de les écrire à
 la mano une à une&nbsp;! Encore une fois, la puissance de Rails est 
là&nbsp;: il existe un moyen d'automatiser l'écriture des routes qui 
suivent la convention. <br>
Pour cela, il suffit d'une seule ligne dans le fichier <code>routes.rb</code> :</p>

<pre class=" language-ruby"><code class=" language-ruby">resources <span class="token symbol">:gossips</span></code></pre>

<p>Une fois cette ligne écrite, tu peux voir son résultat en faisant un petit <code>$ rails routes</code>&nbsp;: </p>
<pre class=" language-shell"><code class=" language-shell">                   Prefix Verb   URI Pattern                                                                              Controller#Action
                  gossips GET    /gossips(.:format)                                                                       gossips#index
                          POST   /gossips(.:format)                                                                       gossips#create
               new_gossip GET    /gossips/new(.:format)                                                                   gossips#new
              edit_gossip GET    /gossips/:id/edit(.:format)                                                              gossips#edit
                   gossip GET    /gossips/:id(.:format)                                                                   gossips#show
                          PATCH  /gossips/:id(.:format)                                                                   gossips#update
                          PUT    /gossips/:id(.:format)                                                                   gossips#update
                          DELETE /gossips/:id(.:format)                                                                   gossips#destroy</code></pre>

<p>Et BIM. En une ligne dans <code>routes.rb</code>, tu as créé les 7 routes qui suivent la convention REST en l'appliquant à la table <code>gossips</code>. 👌</p>


<p>Sache aussi que tu peux imbriquer les routes entre elles et faire ce que l'on appelle des <i>nested resources</i>.
 Cela permet de gérer, par exemple, un CRUD pour des commentaires qui 
sont liés à un gossip&nbsp;: tu veux pouvoir afficher la liste des 
commentaires<b> mais seulement ceux liés à un gossip donné</b>. Tu veux pouvoir créer un commentaire <b>en le liant à un gossip donné</b>. etc. <br>
Cela nécessite, que pour chaque action CRUD sur un commentaire, que l'on
 sache de quel gossip (auquel le commentaire est lié) on parle.</p>
<p> Pour faire ça, voici ce qu'il faut écrire :</p>
<pre class=" language-ruby"><code class=" language-ruby">resources <span class="token symbol">:gossips</span> <span class="token keyword">do</span>
  resources <span class="token symbol">:comments</span>
<span class="token keyword">end</span></code></pre>

<p>Et voilà ce que cela ajoute dans <code>$ rails routes</code> :</p>
<pre class=" language-shell"><code class=" language-shell">                   Prefix Verb   URI Pattern                                                                              Controller#Action
                          GET    /message/:user_entry(.:format)                                                           message#show
          gossip_comments GET    /gossips/:gossip_id/comments(.:format)                                                   comments#index
                          POST   /gossips/:gossip_id/comments(.:format)                                                   comments#create
       new_gossip_comment GET    /gossips/:gossip_id/comments/new(.:format)                                               comments#new
      edit_gossip_comment GET    /gossips/:gossip_id/comments/:id/edit(.:format)                                          comments#edit
           gossip_comment GET    /gossips/:gossip_id/comments/:id(.:format)                                               comments#show
                          PATCH  /gossips/:gossip_id/comments/:id(.:format)                                               comments#update
                          PUT    /gossips/:gossip_id/comments/:id(.:format)                                               comments#update
                          DELETE /gossips/:gossip_id/comments/:id(.:format)                                               comments#destroy
</code></pre>
<p>Tu remarques alors que les URL commencent toutes par <code>/gossips/:gossip_id/</code> pour définir le gossip sur lequel on travaille (identifié par l'id qu'on stocke dans la variable d'URL <code>:gossip_id</code>). Le reste de l'URL suit la convention&nbsp;: la variable <code>:id</code>, quand elle apparaît comme dans <code>/gossips/:gossip_id/comments/:id/edit</code>, correspond alors à l'id du commentaire dans la table <code>comments</code>. <br>
Tu noteras ensuite que chaque route pointe vers le controller <code>comments</code> avec les méthodes conventionnelles (<code>create</code>, <code>new</code>, <code>destroy</code>, etc.).</p>



<div class="card box-shadow-0 border-info">
  <div class="card-content collapse show">
    <div class="card-body">
      <h4 class="card-title">🚀 ALERTE BONNE ASTUCE</h4>
      <p class="card-text">Par défaut, <code>resources</code> va créer 
les 7 routes vers les 7 méthodes du CRUD. Or, parfois, tu n'auras pas 
besoin de toutes ces routes. Par exemple&nbsp;: les commentaires de 
potins, tu veux pouvoir les créer, mais tu n'as pas envie que les gens 
puissent les modifier, ou les voir individuellement. Autre 
exemple&nbsp;: tu refuses que les gens puissent supprimer les potins. <br>
      Tu peux supprimer une route créée par <code>resources</code> avec un <code>except:</code> comme cela :</p>
      <pre class=" language-ruby"><code class=" language-ruby">resources <span class="token symbol">:gossips</span><span class="token punctuation">,</span> except<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token symbol">:destroy</span><span class="token punctuation">]</span> </code></pre>
      <p>Ou carrément restreindre les routes en faisant un petit <code>only:</code></p>
      <pre class=" language-ruby"><code class=" language-ruby">resources <span class="token symbol">:comments</span><span class="token punctuation">,</span> only<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token symbol">:create</span><span class="token punctuation">,</span> <span class="token symbol">:index</span><span class="token punctuation">,</span> <span class="token symbol">:destroy</span><span class="token punctuation">]</span></code></pre>
      <p>Tu peux utiliser <code>only:</code> ou <code>except:</code> comme cela t'arrange le mieux, et en précisant derrière le nom des méthodes concernées (<code>index</code>, <code>show</code>, <code>new</code>, <code>create</code>, <code>edit</code>, <code>update</code> ou <code>destroy</code>)</p>
    </div>
  </div>
</div>


<div class="card box-shadow-0 border-info">
  <div class="card-content collapse show">
    <div class="card-body">
      <h4 class="card-title">🚀 ALERTE BONNE ASTUCE (bis)</h4>
      <p class="card-text">Et c'est <b>là</b> que ma préconisation d'hier prend tout son sens&nbsp;: utilise <code>$ rails routes</code> souvent car c'est un précieux allié. <br>
      Une fois que tu utilises la ligne <code>resources</code>, lire le fichier <code>routes.rb</code> ne suffit plus.</p>
    </div>
  </div>
</div>


<h3>3.3. Les controllers</h3>
<h4>3.3.1. Leur contenu en CRUD</h4>
<p>Pour être cohérent avec les routes que l'on a définies, les 
controllers devront contenir les méthodes du CRUD. Voici ce à quoi 
devrait ressembler un controller typique, en prenant l'exemple des 
potins :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">GossipsController</span> &lt; <span class="token const">ApplicationController</span>

  <span class="token keyword">def</span> index
    <span class="token comment"># Méthode qui récupère tous les potins et les envoie à la view index (index.html.erb) pour affichage
</span>  <span class="token keyword">end</span>

  <span class="token keyword">def</span> show
    <span class="token comment"># Méthode qui récupère le potin concerné et l'envoie à la view show (show.html.erb) pour affichage
</span>  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token keyword">new</span>
    <span class="token comment"># Méthode qui crée un potin vide et l'envoie à une view qui affiche le formulaire pour 'le remplir' (new.html.erb)
</span>  <span class="token keyword">end</span>

  <span class="token keyword">def</span> create
    <span class="token comment"># Méthode qui créé un potin à partir du contenu du formulaire de new.html.erb, soumis par l'utilisateur
</span>    <span class="token comment"># pour info, le contenu de ce formulaire sera accessible dans le hash params (ton meilleur pote)
</span>    <span class="token comment"># Une fois la création faite, on redirige généralement vers la méthode show (pour afficher le potin créé)
</span>  <span class="token keyword">end</span>

  <span class="token keyword">def</span> edit
    <span class="token comment"># Méthode qui récupère le potin concerné et l'envoie à la view edit (edit.html.erb) pour affichage dans un formulaire d'édition
</span>  <span class="token keyword">end</span>

  <span class="token keyword">def</span> update
    <span class="token comment"># Méthode qui met à jour le potin à partir du contenu du formulaire de edit.html.erb, soumis par l'utilisateur
</span>    <span class="token comment"># pour info, le contenu de ce formulaire sera accessible dans le hash params
</span>    <span class="token comment"># Une fois la modification faite, on redirige généralement vers la méthode show (pour afficher le potin modifié)
</span>  <span class="token keyword">end</span>

  <span class="token keyword">def</span> destroy
    <span class="token comment"># Méthode qui récupère le potin concerné et le détruit en base
</span>    <span class="token comment"># Une fois la suppression faite, on redirige généralement vers la méthode index (pour afficher la liste à jour)
</span>  <span class="token keyword">end</span>
<span class="token keyword">end</span></code></pre>

<p>Et voilà. Avec ce template, tu vas pouvoir manipuler tes potins dans tous les sens&nbsp;!</p>


<h4>3.3.2. Exemples de controllers et de méthodes</h4>
<p>Pour illustrer un peu à quoi ressemblent les controllers d'une 
application web complexe, on va te décrire chaque controller et chaque 
méthode qui se cache derrière une page du site de THP. <br>
  Au premier jour de THP, les routes étaient faites à la main à base de "get bidule / post truc". À présent, notre <code>routes.rb</code> est principalement constitué de lignes en <code>resources</code>&nbsp;: vachement plus simple à lire et à comprendre.</p>

<h5>a) Premier exemple&nbsp;: la page actuelle</h5>
<p>Tu es sur la page qui affiche le contenu (ressources/projets) d'un jour précis (controller <code>days</code>)&nbsp;: cette page correspond à la méthode <code>days#show</code>.</p>

<h5>b) La page qui affiche les missions des moussaillons</h5>
<p>On a un controller <code>assignments</code> et on veut afficher toutes les missions : c'est tout simplement un index avec <code>assignments#index</code>.</p>

<h5>c) La page pour s'inscrire à une session</h5>
<p>On cherche à créer un objet <code>Subscription</code>&nbsp;: c'est donc via la méthode <code>subscriptions#new</code> qui initialise le formulaire d'inscription.</p>

<h5>d) La page qui affiche le programme de la session</h5>
<p>Cette page affiche les semaines (controller <code>weeks</code>) du programme. Cela peut être assimilé à son index&nbsp;: <code>weeks#index</code>.</p>

<h5>e) La page qui affiche le programme d'une semaine</h5>
<p>Il y a plusieurs solutions pour afficher le contenu d'une semaine 
donnée. Soit on affiche l'index des jours de la dite semaine (méthode <code>index</code> du controller <code>days</code> sur une route imbriquée où la semaine en question est identifiée avec une variable <code>:week_id</code>), soit on affiche le contenu d'une semaine précise. Finalement, c'est sur cette dernière option que nous sommes partis&nbsp;: <code>weeks#show</code>. Mais les deux solutions se valaient.</p>

<h5>f) La page dans notre dashboard admin (invisible pour vous) qui enlève un joker aux moussaillons qui font des bêtises</h5>
<p>Aah, on commence à être dans les trucs plus sympas. Il ne nous 
semblait pas pertinent de considérer les jokers comme des objets à part 
entière et de faire un model <code>Joker</code> : on a préféré stocker le nombre de jokers dans une colonne "jokers" de la table <code>subscriptions</code>. Mais en soi, les jokers sont quand même des ressources et on a fait le choix de créer un controller <code>jokers</code> afin de pouvoir appeler la méthode <code>jokers#destroy</code>. En l'absence de model <code>Joker</code>, elle ne fera qu'un truc du genre <code>@subscription.remove_joker</code> qui soustrait 1 à la colonne "jokers".</p>

<h5>g) La page dans notre dashboard admin (invisible pour vous) qui affiche un jour avec ses infos</h5>
<p>Ce cas est intéressant, sachant que l'on utilise déjà <code>days#show</code> pour gérer l'affichage aux moussaillons et corsaire de chaque journée. Ici, on a dû créer un second controller <code>days</code> qui permet de gérer les actions spécifiques à la partie "admin" du site web (réservée à l'équipe de THP). <br>
Pour faire ça, on a eu recours à une petite astuce de Rails, répondant au doux nom de <a href="https://guides.rubyonrails.org/routing.html#controller-namespaces-and-routing" target="_blank">namespace</a>. En gros, on utilisera toujours la méthode <code>days#show</code>, mais ce controller <code>days</code>
 sera situé dans un dossier différent et permet d'appeler un view 
différente. Au final, votre affichage de chaque journée et le nôtre sont
 différents 👌</p>

<h5>h) Afficher un formulaire de contact</h5>
<p>Tu vas créer un controller <code>messages</code> ou <code>contacts</code> et appeler la méthode <code>messages#new</code> ou bien <code>contacts#new</code>. Le nom du controller sera celui que tu trouves le plus pertinent.</p>

<h5>i) Conclusion</h5>
<p>Bref, j'espère qu'on a réussi à te convaincre que même un site web 
complexe comme THP (avec plein d'objets, une partie admin, des 
controllers partout, etc.) peut respecter les conventions REST et CRUD. 
J'irai même plus loin&nbsp;: ces conventions permettent d'avoir tout 
bien rangé, selon une logique facile à expliquer. <br>
Des fois il y aura plusieurs options et là, soit tu te fies à ton 
expérience, soit (dans ton cas) il faut y réfléchir deux secondes. 
Prends le temps de te poser et réfléchir, avec les membres de ton 
groupe, sur les bons controllers avant de foncer tête baissée vers une 
architecture dans laquelle tu ne te sentiras pas à l'aise plus tard. 
Mais n'oublie jamais&nbsp;: <b>Rails a été conçu pour le REST, donc le framework est adapté quand on pense REST.</b></p>

<p>Pour certaines pages, le REST n'est pas adapté&nbsp;: par exemple les
 routes statiques (afficher la politique de confidentialité, les 
témoignages, la FAQ). Dans ces cas-là, tu peux rédiger une route à la 
main sans passer par <code>resources</code> et sans respecter le REST. Mais il faut que ces cas soient <b>minoritaires</b> et qu'il n'y ait <b>vraiment pas d'autre solution</b>.</p>

<h2>4. Points importants à retenir</h2>
<p>Rails utilise le REST pour ses routes. Elles renvoient vers des controllers qui suivent les 7 méthodes du CRUD&nbsp;: <code>#new</code>, <code>#create</code>, <code>#show</code>, <code>#index</code>, <code>#edit</code>, <code>#update</code>, <code>#destroy</code>.</p>

<p>Il est possible et très facile de faire des routes qui suivent le REST avec <code>resources</code>.</p>

<p>Tu peux limiter le nombre de routes créées par <code>resources</code>
 avec only: ou except: et en précisant derrière le nom des méthodes 
concernées (index, show, new, create, edit, update ou destroy)</p>

<p>Pour visualiser les routes de ton application, tapes <code>$ rails routes</code>. Pour cibler les routes d'un controller particulier, tapes <code>$ rails routes | grep gossips</code>.</p>

<p> ⚠️ À partir de maintenant, nous te demanderons <b>obligatoirement</b>
 que tes routes suivent le REST, et que tes controllers aient les bons 
noms de méthodes CRUD. Tes routes devront alors utiliser 
quasi-exclusivement des lignes en <code>resources</code>.</p>

<h2>5. Pour aller plus loin</h2>
<p>Devine ;) <br>
  Pour changer, <a href="https://edgeguides.rubyonrails.org/routing.html" target="_blank">la doc</a> te donne tous les outils disponibles ainsi que les bonnes astuces.</p>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="row">
<div class="col-12">
<div class="card">
<div class="card-header" style="border-top: 3px solid #5E66E5">
<h1>
Ressource : 
Faire un formulaire en Rails
</h1>
<a class="heading-elements-toggle">
<i class="la la-ellipsis-v font-medium-3"></i>
</a>
<div class="heading-elements">
<ul class="list-inline mb-0">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/lessons/25/lesson_submissions/new"><i class="ft-edit" data-original-title="Proposer une amélioration" data-placement="top" data-toggle="tooltip"></i>
</a></li>
<li>
<a data-action="collapse">
<i class="ft-minus"></i>
</a>
</li>
<li>
<a data-action="expand">
<i class="ft-maximize"></i>
</a>
</li>
</ul>
</div>
</div>
<div class="card-content collapse show">
<div class="card-body">
<div class="tab-pane active" id="home1" role="tabpanel">
<h2>1. Introduction</h2>
<p>Rails et les formulaires : une longue histoire d'amour née d'un 
mariage un peu obligé. En effet, comment faire l'impasse sur les 
formulaires (leur mise en page, leur fonctionnement) dans les 
applications web où l'utilisateur ne cesse de créer des entrées en BDD 
et de les modifier ensuite&nbsp;? <br>
Rails a plein de "helpers" pour nous aider à créer des formulaires, mais
 nous allons dans cette leçon voir comment faire pour créer un 
formulaire avec HTML. Une fois que tu as compris le fonctionnement d'un 
formulaire de base en HTML, tu pourras manipuler les autres techniques 
(form_tag, form_for ou encore simple_form), et tu comprendras l'intérêt 
de ces helpers.</p>

<h2>2. Historique</h2>
<p>Dis-toi bien que toute expérience utilisateur commence par un formulaire&nbsp;: celui d'inscription au site.</p>

<h2>3. La ressource</h2>

<h3>3.1. Les bases d'un formulaire</h3>
<p>Un formulaire de base, en HTML, comporte plusieurs éléments indispensables&nbsp;:</p>
<ul>
  <li>Les balises <code>&lt;form&gt;</code> et <code>&lt;/form&gt;</code> pour marquer son début et sa fin</li>
  <li>2 options à renseigner dans la balise <code>&lt;form&gt;</code>&nbsp;: l'option <code>action</code> pour identifier l'URL pointée et l'option <code>method</code> pour indiquer le verbe HTTP de l'envoi (POST, PUT, etc.)</li>
  <li>Généralement un champ <code>&lt;input type="text"&gt;</code> pour obtenir la saisie de l'utilisateur</li>
  <li>Obligatoirement un bouton d'envoi sous la forme <code>&lt;input type="submit"&gt;</code></li>
</ul>

<p>Ainsi, prenons l'exemple d'un formulaire qui enverrait un champ <code>nom_du_champ</code> (à compléter par l'utilisateur) à l'URL <code>url_de_l'action</code>, en faisant une méthode <code>POST</code> </p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url_de_l'action<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nom_du_champ<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Envoyer le formulaire<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre>

<p>Nos amis de W3 Schools <a href="https://www.w3schools.com/html/html_forms.asp" target="_blank">ont une doc très fournie</a>
 sur les formulaires, et tu peux jeter un œil sur les différents 
éléments qui peuvent entrer dans la composition d'un formulaire 
(radio_button, checkboxes, etc).</p>

<h3>3.2. L'authenticity token</h3>
<p>Une des forces de Rails est que le framework met automatiquement en 
place des sécurités sans qu'il ne soit nécessaire de s'en soucier. 
Ainsi, une forme de piratage fréquente sur Internet est l'utilisation de
 la <a href="https://fr.wikipedia.org/wiki/Cross-site_request_forgery">vulnérabilité CSRF</a>
 des sites web. En gros, le formulaire HTML de base ne marchera pas sur 
Rails, car ce n'est pas très secure&nbsp;: comment savoir si la requête 
émanant de ton ordi a bien été soumise par un formulaire web et pas par 
un script tournant, sans que tu ne le saches, sur ton ordi&nbsp;? Pour 
s'en assurer, Rails demande systématiquement que les requêtes provenant 
de formulaires soient accompagnées d'un "authenticity token". Ne t'en 
fais pas, c'est plutôt simple à implémenter&nbsp;: il faut juste 
rajouter un champ caché dans ton formulaire. Pour cela, ajoute cela à 
ton formulaire :</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>authenticity_token<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%= form_authenticity_token %&gt;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre>

<p>Grâce au <code>type="hidden"</code>, cette ligne sera invisible pour l'utilisateur. Par contre, tu peux checker le code source de ta page&nbsp;: le <code>&lt;%= form_authenticity_token %&gt;</code>
 sera remplacé par un long string qui validera que la requête provient 
bien d'un formulaire web et que personne n'usurpe ton identité.</p>

<h3>3.3. l'URL et le verbe du formulaire</h3>
<p>Tout formulaire pointe vers une URL avec un verbe HTTP&nbsp;: quand 
il sera soumis par l'utilisateur, le formulaire va émettre une requête 
au serveur selon ces 2 paramètres. Du coup, tu l'as compris, il faut que
 l'URL et le verbe correspondent à une route de ton application 
Rails&nbsp;! Cette route pointera ensuite vers une méthode d'un 
controller dont le rôle sera de faire quelque chose de malin avec le 
contenu du formulaire. <br>
En résumé, voilà le cheminement complet :</p>
<ol>
  <li>Le formulaire s'affiche dans le navigateur, l'utilisateur le remplit et clique sur le bouton d'envoi&nbsp;;</li>
  <li>Le contenu du formulaire est envoyé sous forme de requête au serveur avec l'URL et l'action HTTP paramétrés&nbsp;;</li>
  <li>Le serveur va dans le routeur et regarde à quoi correspond ce couple URL-verbe HTTP&nbsp;;</li>
  <li>Il fait alors suivre l'information à la méthode du controller que le routeur pointe&nbsp;;</li>
  <li>La méthode s'exécute avec, à disposition, les informations contenues dans le formulaire.</li>
</ol>

<p>Donc il est important de ne pas te tromper sur la requête (URL + 
verbe HTTP) que tu paramètres dans le formulaire. En Rails, il est 
préférable que l'URL soit paramétrée via son path, de la façon 
suivante&nbsp;: <code>action= &lt;%= tonchemin_path %&gt; </code>.</p>

<p>Un exemple concret&nbsp;? Le formulaire suivant : </p>
<pre class=" language-html"><code class=" language-html">&lt;form action= &lt;%= gossips_path %&gt; method="POST"&gt;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gossip_text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Valider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre>

<p>Va pointer vers la route ci-dessous&nbsp;: </p>

<pre class=" language-shell"><code class=" language-shell">                   Prefix   Verb   URI Pattern                                                                         Controller#Action
                    gossips   POST   /gossips(.:format)                                                                  gossips#create</code></pre>

<p>Reste alors à coder ta méthode <code>#create</code> dans ton controller <code>gossips</code> pour qu'elle traite les données saisies par l'utilisateur. On va voir comment faire ça en utilisant <code>params</code>.</p>

<div class="card box-shadow-0 border-info">
  <div class="card-content collapse show">
    <div class="card-body">
      <h4 class="card-title">🤓 QUESTION RÉCURRENTE</h4>
      <p class="card-text"><b>Ça existe les formulaires utilisant le verbe GET ?</b></p>
      <p>Oui, en général c'est de la recherche. W3 Schools expliquent bien <a href="https://www.w3schools.com/html/html_forms.asp" target="_blank" class="text-primary">la différence</a> entre les formulaires GET et POST.</p>
    </div>
  </div>
</div>

<h3>3.4. Tiens params, comme on s' retrouve…</h3>
<p>Si tu vas dans la fenêtre de terminal quand tu soumets un formulaire, tu verras un truc du genre passer dans le serveur :</p>
<pre class=" language-shell"><code class=" language-shell">Parameters: {"authenticity_token"=&gt;"L/fvdS8JQNvxOn1PIleAp9e2XEGSa42oBSU0uC68GFgXBPEvSTIh3X+zxis2vulcKzixTBWpGw+e/BxEePwliw==", "first_name"=&gt;"Félix", "last_name"=&gt;"Gaudé", "Envoyer"=&gt;"Valider"}</code></pre>

<p>C'est à nouveau <code>params</code>, le fameux hash qui contient les variables que l'on passe dans les URL dynamiques, tu te souviens&nbsp;? En fait, <code>params</code>
 stocke aussi les informations envoyées par un formulaire. Et tout comme
 dans l'exemple des URL dynamiques, on peut extraire les informations de
 ce hash dans le controller. <br>
Comme précédemment, fais des <code>puts params</code> dans la méthode de controller vers laquelle pointe ton formulaire&nbsp;: <code>params</code> va s'afficher dans ton terminal et tu sauras alors comment en extraire les valeurs. <br>
Reprenons l'exemple précédent (je rajoute l'authenticity token pour qu'il marche)&nbsp;: </p>

<pre class=" language-html"><code class=" language-html">&lt;form action= &lt;%= gossips_path %&gt; method="POST"&gt;
      &lt;input type="hidden" name="authenticity_token" value=&lt;%= form_authenticity_token %&gt; &gt;
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gossip_text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Valider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre>

<p>À présent je vais dans la méthode vers laquelle il pointe (<code>#create</code> dans le controller<code>gossips</code>) et j'insère un petit <code>puts params</code> bien visible :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">GossipsController</span> &lt; <span class="token const">ApplicationController</span>
  <span class="token keyword">def</span> create
    puts <span class="token string">"$"</span> <span class="token operator">*</span> <span class="token number">60</span>
    puts <span class="token string">"ceci est le contenu de params :"</span>
    puts params
    puts <span class="token string">"$"</span> <span class="token operator">*</span> <span class="token number">60</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span></code></pre>

<p>En complétant le formulaire avec les mots "ceci est mon gossip" et en
 l'envoyant, je vais voir passer l'information suivante dans mon 
terminal :</p>

<pre class=" language-shell"><code class=" language-shell">$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
  ceci est le contenu de params :
{"authenticity_token"=&gt;"RF7BdFtqTr3bV3nbZHJZ9zWJfFSdj7I99PS4jPkPd0+nneoUZthLCpJROaUAQ4JX+B/epb3tQro2swZdnN96cA==",  "gossip_text"=&gt;"ceci est mon gossip", "controller"=&gt;"gossips", "action"=&gt;"create"}
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$</code></pre>

<p>Ainsi, on comprend que <code>params["gossip_text"]</code> contient la valeur saisie dans mon champ <code>&lt;input type="text" name="gossip_text"&gt;</code>. Il ne nous reste plus qu'à faire un petit <code>Gossip.create(params["gossip_text"])</code> pour que la méthode <code>create</code> enregistre en base le potin et son texte&nbsp;!</p>

<p>PROTIP&nbsp;: au lieu de faire <code>params["gossip_text"]</code>, tu peux aussi faire <code>params[:gossip_text]</code></p>

<h2>4. Points importants à retenir</h2>
<p>Les formulaires de Rails peuvent être faits directement en HTML avec les balises <code>form</code> et <code>input</code>.</p>
<p>Pour que le formulaire pointe vers la bonne route, il faut spécifier la bonne URL (dans <code>action</code>) et le bon verbe HTTP (dans <code>method</code>). Tape <code>$ rails routes</code> pour trouver les routes qui nécessitent un formulaire (celles en POST ou en PUT généralement).</p>
<p>Les champs du formulaire sont ensuite disponibles dans le controller via le hash <code>params</code>. Fais un <code>puts params</code> pour confirmer son contenu puis utilise les valeurs de params dans ta méthode de controller. Par exemple via <code>params[:gossip_text]</code>.</p>

<h2>5. Pour aller plus loin</h2>
<p>W3Schools sont les champions en ce qui concerne le HTML, et ont une excellente doc sur les formulaires.</p>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="row">
<div class="col-12">
<div class="card">
<div class="card-header" style="border-top: 3px solid #5E66E5">
<h1>
Ressource : 
Enlever Turbolinks
</h1>
<a class="heading-elements-toggle">
<i class="la la-ellipsis-v font-medium-3"></i>
</a>
<div class="heading-elements">
<ul class="list-inline mb-0">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/lessons/127/lesson_submissions/new"><i class="ft-edit" data-original-title="Proposer une amélioration" data-placement="top" data-toggle="tooltip"></i>
</a></li>
<li>
<a data-action="collapse">
<i class="ft-minus"></i>
</a>
</li>
<li>
<a data-action="expand">
<i class="ft-maximize"></i>
</a>
</li>
</ul>
</div>
</div>
<div class="card-content collapse show">
<div class="card-body">
<div class="tab-pane active" id="home1" role="tabpanel">
<h2>1. Introduction</h2>
<p>Ceci est une ressource qui te donne une directive à faire pour mieux 
apprécier Rails. On est désolés que ça tombe au moment où tu as mal à la
 tête sur Rails. C'est pas compliqué, c'est juste une marche à suivre.</p>

<p>Dans cette ressource, nous allons te donner un moyen de virer des 
problèmes de JavaScript qui se déclenche mal dans ton application Rails,
 en virant Turbolinks.</p>

<h2>2. Historique et contexte</h2>
<p><a href="https://github.com/turbolinks/turbolinks" target="_blank">Turbolinks</a> est une gem qui a été créée pour améliorer la vitesse de performance de Rails, notamment pour la JavaScript.</p>

<p>Depuis la création de THP, Turbolinks ajoute des bugs d'utilisation 
de JavaScript, ce qui fait que nous demandons à tout le monde de 
désactiver Turbolinks.</p>

<p>En soit c'est pas compliqué, il faut juste ajouter quelques lignes dans quelques fichiers. Nous allons te montrer comment faire.</p>

<h2>3. La ressource</h2>
<h3>3.1. Le problème en question</h3>
<p>Dans le futur, il peut t'arriver d'avoir du JavaScript de Bootstrap qui ne s'exécute pas, et tu es obligé de recharger la page (<code>ctrl</code> + <code>R</code>) pour le faire marcher. C'est frustrant.</p>

<p>Ce problème est dû à Turbolinks qui est une gem qui est sensé 
optimiser la vitesse de ton app Rails. Pour le moment ne te prends pas 
la tête : enlève Turbolinks, et à toi la gloire.</p>


<h3>3.2. Enlever Turbolinks</h3>
<p>Pour ceci, pas besoin de se prendre la tête, il suffit de suivre <a href="https://stackoverflow.com/questions/38649550/how-to-disable-turbolinks-in-rails-5" target="_blank">ce thread</a> de Stack Overflow et à toi la gloire. Pour rappel, il faut :</p>

<ul>
  <li>Enlever <code>gem 'turbolinks'</code> depuis le fichier Gemfile</li>
  <li>Enlever la ligne <code>//= require turbolinks</code> depuis le fichier <code>app/assets/javascripts/application.js</code></li>
  <li>Enlever les deux références de <code>"data-turbolinks-track" =&gt; "reload"</code> dans le fichier <code>app/views/layouts/application.html.erb</code></li>
</ul>

<p>Et c'est tout !</p>

<p><b>BONUS</b> : Quand tu créés une app, tu peux directement virer turbolinks en faisant :</p>

<pre class=" language-shell"><code class=" language-shell">$ rails new nom_de_ton_app --skip-turbolinks</code></pre>

<h2>4. Points importants à retenir</h2>
<p>Turbolinks empèche de kiffer la vie avec Rails / Bootstrap en te 
forçant à recharger une page pour faire marcher des animations en JS. Ne
 te prends pas la tête, vire Turbolinks de tes apps Rails, ça ne vaut 
pas le coup.</p>

<h2>5. Pour aller plus loin</h2>
<p>Cette ressource te prend trop de temps de cerveau pour juste pouvoir 
utiliser Rails. On ne veut pas te prendre plus de temps de cerveau avec,
 pour le moment.</p>

</div>
</div>
</div>
</div>
</div>
</div>

<div class="row">
<div class="col-12">
<div class="card">
<div class="card-header" style="border-top: 3px solid #FF4081">
<h1>
Projets : 
Création d'un potin
</h1>
<a class="heading-elements-toggle">
<i class="la la-ellipsis-v font-medium-3"></i>
</a>
<div class="heading-elements">
<ul class="list-inline mb-0">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/projects/17/project_submissions/new"><i class="ft-edit" data-original-title="Proposer une amélioration" data-placement="top" data-toggle="tooltip"></i>
</a></li>
<li>
<a data-action="collapse">
<i class="ft-minus"></i>
</a>
</li>
<li>
<a data-action="expand">
<i class="ft-maximize"></i>
</a>
</li>
</ul>
</div>
</div>
<div class="card-content collapse show">
<div class="card-body">
<div class="tab-pane active" id="home1" role="tabpanel">
<h2>1. Introduction</h2>
<p>Hello ! Aujourd'hui, on va rajouter une nouvelle fonctionnalité à The
 Gossip Project ! Tu vas reprendre le projet d'hier et appliquer ce que 
tu as vu aujourd'hui en mettant à disposition un formulaire pour créer 
des potins.</p>


<h2>2. Le projet</h2>

<h3>2.1. Bases de données ?</h3>
<p>Tu te souviens de ce que tu avais vu sur les bases de données et les 
validations de models ? Eh bien nous allons voir si tu n'es pas trop 
rouillé à ce sujet 🔨 Rajoute, dans les models, des validations aux 
attributs importants (spoiler : quasi tous) de ton application.</p>

<p>On va t'aider pour les validations du model des potins :</p>

<ul>
  <li>la présence du <code>title</code> est obligatoire, ce dernier ne peut pas faire moins de 3 caractères ni plus de 14 caractères</li>
  <li>la présence du <code>content</code> est obligatoire</li>
</ul>

<h3>2.2. Création de potin</h3>
<p>Cette partie sera la plus longue de la journée, car pour la première 
fois nous allons te faire jouer avec les controllers de Rails. C'est pas
 trop tôt ! ♥</p>

<p>À partir de la page d'accueil qui recense tous les potins, 
l'application va inviter l'utilisateur à enregistrer son propre potin. 
En cliquant sur un lien, il va se retrouver sur une page contenant un 
formulaire de création de potin. Ce formulaire va demander le titre du 
potin, ainsi que son contenu. Une fois soumis, le formulaire va 
enregistrer le potin en base et l'utilisateur va être redirigé vers la 
page d'accueil.</p>

<p>Le principe de base est simple, mais nous allons le pimenter en te 
demandant d'implémenter quelques concepts nouveaux : le helper <code>form_tag</code> de Rails et les alertes.</p>


<h4>2.2.1. Préparation des routes, du controller et de la view</h4>
<p>Pour créer un potin, il est nécessaire d'avoir un controller <code>gossips</code> contenant les méthodes <code>#new</code> et <code>#create</code>. <br>
Il faut également les routes (en mode REST) qui pointent vers ces 2 méthodes. <br>
Pour finir, il te faut la view qui va afficher le formulaire : <code>gossips/new.html.erb</code>. À noter qu'il n'existe pas de view <code>create.html.erb</code> : la méthode <code>#create</code> renvoie vers l'index.</p>
<p>Je te laisse mettre tout ça en place ! <br>
⚠️ <b>Attention</b> ⚠️ on l'a déjà dit mais à partir de maintenant on ne veut que des routes en <code>resources</code> ! Pas de route écrite à la main 👋

</p><h4>2.2.2. Formulaire de création</h4>
<p>Maintenant que tu as ta view, et tes méthodes de prêtes, nous allons 
te demander de faire le formulaire de création de potins dans la view <code>new.html.erb</code>. En Rails, nous pouvons voir 4 types principaux de formulaires :</p>

<ul>
  <li>Les formulaires HTML (on en a parlé dans la ressource)</li>
  <li>Les <code>form_tag</code></li>
  <li>Les <code>form_for</code></li>
  <li>Les formulaires via la gem <a href="https://github.com/plataformatec/simple_form" target="_blank">simple_form</a></li>
</ul>

<p>Pour cet exercice, nous allons te demander d'utiliser <code>form_tag</code>, très adapté quand on débute. Nos amis de LaunchSchool ont fait <a href="https://launchschool.com/books/demystifying_rails/read/form_helpers#formtag" target="_blank" class="text-primary">un bon tuto</a> sur form_tag, et tu peux checker <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag" target="_blank" class="text-primary">la doc de form_tag</a>.</p>

<p>Ton formulaire doit demander le <code>title</code> ainsi que le <code>content</code> du potin que tu vas créer. Bien entendu, quand tu valides le formulaire, ce dernier doit partir à la méthode <code>#create</code> de ton controller de potins.</p>


<h4>2.2.3. Controller</h4>
<h5>2.2.3.1. def create</h5>
<p>Maintenant que nous avons fait un formulaire qui demande ce que l'on veut récupérer, et qui l'envoie à la méthode <code>#create</code>
 de notre controller, il faut que ce dernier fasse son taff. Le résultat
 que l'on veut, en termes d'expérience utilisateur, est le suivant :</p>

<ul>
  <li>L'utilisateur est sur une magnifique page où il doit remplir un formulaire. Il le remplit et le soumet.</li>
  <li>De là, 2 cas sont possibles:</li>
  <ol>
    <li><b>Si le contenu du formulaire est accepté</b> et que l'objet 
est bien créé en base, l'utilisateur est redirigé vers une nouvelle page
 HTML avec, en haut, un bandeau VERT disant un truc du genre "The super 
potin was succesfully saved !" (c'est ce qu'on appelle une alerte)</li>
    <li><b>Si le contenu du formulaire est refusé</b> (objet non créé en
 base, car il manque un champ ou alors le contenu n'est pas valide, 
etc.), l'utilisateur retourne à nouveau sur la page du formulaire avec, 
en haut, un bandeau ROUGE disant un truc du genre "Error : you need to 
complete this field / the title must be at least 3 characters longue / 
etc." (c'est un autre type d'alerte)</li>
  </ol>
</ul>

<p>Le boulot de ton controller est d'arriver à coordonner ceci. En gros, il va faire la chose suivante :</p>

<ul>
  <li>Il va récupérer les informations du formulaire et essayer d'en faire une instance de ton model et de la sauver.
  <ul>
    <li>le model va soit dire "tout va bien j'ai réussi à créer mon instance 👌"...</li>
    <li>… ou alors il va dire "ROLLBACK" "hey ! les validations ne sont pas passées, je te renvoie une ou plusieurs erreurs"</li>
  </ul></li>
  <li>Si l'instance est sauvegardée en base de données, le controller va rediriger vers la page index.</li>
  <li>Si le model n'arrive pas à sauvegarder ton instance, il va rester 
sur la page du formulaire pour que l'utilisateur ré-essaye de le remplir
 sans erreur.</li>
</ul>

<p>Pour la création d'une instance, <b>un controller ne fera jamais plus</b>.
 Rappelle-toi : Fat model Skinny controller. Son taf est de récupérer 
les informations, d'appeler les bons services, puis de faire les 
redirections.</p>

<p>Bref, voici le squelette de la méthode <code>#create</code> :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">def</span> create
  <span class="token inst-var">@gossip</span> <span class="token operator">=</span> <span class="token const">Gossip</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token comment"># avec xxx qui sont les données obtenues à partir du formulaire
</span>
  <span class="token keyword">if</span> <span class="token inst-var">@gossip</span><span class="token punctuation">.</span>save <span class="token comment"># essaie de sauvegarder en base @gossip
</span>    <span class="token comment"># si ça marche, il redirige vers la page d'index du site
</span>  <span class="token keyword">else</span>
    <span class="token comment"># sinon, il render la view new (qui est celle sur laquelle on est déjà)
</span>  <span class="token keyword">end</span>
<span class="token keyword">end</span></code></pre>

<p>Pour info, ce squelette convient à environ 100 % des méthodes <code>#create</code>
 des controllers de Rails. N'essaie pas de sortir des clous de ce 
squelette, il y aurait 100 % de chance que ce soit faux 😉. Tout ce que 
tu veux mettre en plus devra aller dans le model.</p>

<p>⚠️Pour le moment nous ne gérons pas l'authentification des 
utilisateurs. Or chaque potin doit avoir un auteur en base ! Pour palier
 à ça, nous allons faire une petite astuce : tu vas créer (en console) 
un utilisateur nommé <code>anonymous</code> puis faire en sorte que tous les potins créés dans la view <code>new</code> soient systématiquement associés à cet utilisateur.</p>

<div class="card box-shadow-0 border-info">
  <div class="card-content collapse show">
    <div class="card-body">
      <h4 class="card-title">🤓 QUESTION RÉCURRENTE</h4>
      <p class="card-text"><b>Dis donc Jamy, c'est quoi la différence entre <code>redirect_to</code> et <code>render</code> ? Pourquoi je fais l'un et pas l'autre ?</b><br>
        <code>redirect_to</code> va passer par la route sélectionnée, donc ton app repart sur un controller, sa méthode, etc.  <br>
        Par contre <code>render</code>, ne fait qu'afficher une view tout en gardant les variables disponibles (notamment <code>@gossip</code>). Et ça, ça te permet de faire dans ta view :</p>
        <pre class=" language-html"><code class=" language-html">&lt;% if @gossip.errors.any? %&gt;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Nous n'avons pas réussi à créer le potin pour la (ou les) raison(s) suivante(s) :<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    &lt;% @gossip.errors.full_messages.each do |message| %&gt;
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>&lt;%= message %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    &lt;% end %&gt;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
&lt;% end %&gt;</code></pre>
        <p>Et cela affichera les erreurs que tu as si durement codées dans les validations de tes models 🙌</p>
    </div>
  </div>
</div>

<p><b>Et voilà, maintenant on t'invite à remplir le controller et coder ta méthode <code>create</code> pour qu'elle fonctionne</b>. <br>
 Pour le moment, n'affiche pas d'alerte d'échec ou de réussite : on 
cherche juste à sauver en base puis renvoyer vers l'index en cas de 
succès ou recharger le formulaire en cas d'échec. <br>
Nous te laissons délibérément avec peu d'information, pour que tu cherches un peu sur le net comment tout articuler.</p>

<h5>2.2.3.2. Alerte générale</h5>
<p>Comme décrit plus haut, les alertes permettent de donner à 
l'utilisateur l'information qu'un formulaire a été soumis avec succès 
(un objet a été sauvé en base) ou bien qu'il y a eu un souci 
(l'utilisateur doit revoir le formulaire).</p>


<p>Commence donc par afficher dans les views des petits messages qui informe l'utilisateur du succès (ou non) de son formulaire.</p>
<p>Une fois que tu as fait cela, essaye d'afficher les messages dans une <a href="https://getbootstrap.com/docs/4.2/components/alerts/" target="_blank">belle alerte Bootstrap</a>. Maintenant il n'y a plus de doute : l'utilisateur sait quand il a réussi (alerte VERTE) ou quand ça a raté (alerte ROUGE).</p>


<h2>3. Rendu attendu</h2>
<p>Une amélioration de The Gossip Project : on peut enfin créer un potin sans passer par le seed ni la console !</p>
</div>
</div>
</div>
</div>
</div>
</div>

</div>

      </div>
    </div>

    <div class="thp-flashes"></div>



    <script src="s6j2_fichiers/dashboard-6681459c92372465340c.js"></script>
    <script charset="utf-8">
      $('input[name=authenticity_token]').val($('meta[name=csrf-token]').attr('content'));
    </script>

  

<iframe style="display: none; visibility: hidden;" owner="archetype" title="archetype"></iframe>
<script type="text/javascript" id="hs-script-loader" src="s6j2_fichiers/9310539.js"></script><script type="text/javascript" id="">(function(e,c){if(!c.__SV){var l,h;window.mixpanel=c;c._i=[];c.init=function(q,r,f){function t(d,a){var g=a.split(".");2==g.length&&(d=d[g[0]],a=g[1]);d[a]=function(){d.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var b=c;"undefined"!==typeof f?b=c[f]=[]:f="mixpanel";b.people=b.people||[];b.toString=function(d){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);d||(a+=" (stub)");return a};b.people.toString=function(){return b.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<l.length;h++)t(b,l[h]);var n="set set_once union unset remove delete".split(" ");b.get_group=function(){function d(p){a[p]=function(){call2_args=arguments;call2=[p].concat(Array.prototype.slice.call(call2_args,0));b.push([g,call2])}}for(var a={},g=["get_group"].concat(Array.prototype.slice.call(arguments,0)),m=0;m<n.length;m++)d(n[m]);return a};c._i.push([q,r,f])};c.__SV=1.2;var k=e.createElement("script");k.type="text/javascript";k.async=!0;k.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=e.getElementsByTagName("script")[0];e.parentNode.insertBefore(k,e)}})(document,window.mixpanel||[]);mixpanel.init("ab79c62023f2a925bfe5f7922c70de67");mixpanel.track("Sign up");</script>
<script type="text/javascript" id="">!function(){var a=window.analytics=window.analytics||[];if(!a.initialize)if(a.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{a.invoked=!0;a.methods="trackSubmit trackClick trackLink trackForm pageview identify reset group track ready alias debug page once off on addSourceMiddleware addIntegrationMiddleware setAnonymousId addDestinationMiddleware".split(" ");a.factory=function(b){return function(){var c=Array.prototype.slice.call(arguments);c.unshift(b);
a.push(c);return a}};for(var e=0;e<a.methods.length;e++){var f=a.methods[e];a[f]=a.factory(f)}a.load=function(b,c){var d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src="https://cdn.segment.com/analytics.js/v1/"+b+"/analytics.min.js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(d,b);a._loadOptions=c};a._writeKey="HDfubo7D6T7lk8XiL2HZi2hZvIVFuK8j";a.SNIPPET_VERSION="4.13.2";a.load("HDfubo7D6T7lk8XiL2HZi2hZvIVFuK8j");a.page()}}();</script>

</body></html>