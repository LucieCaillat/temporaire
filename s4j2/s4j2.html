<!DOCTYPE html>
<html class="loaded" lang="fr"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script type="text/javascript" async="" src="s4j2_fichiers/insight.js"></script><script type="text/javascript" src="s4j2_fichiers/NRJS-71f55aa980e498e276b"></script><script src="s4j2_fichiers/nr-1212.js"></script><script type="text/javascript" async="" src="s4j2_fichiers/gtm_002.js"></script><script type="text/javascript" src="s4j2_fichiers/commons.js" async="" status="loaded"></script><script type="text/javascript" src="s4j2_fichiers/google-tag-manager.js" async="" status="loaded"></script><script type="text/javascript" async="" src="s4j2_fichiers/analytics.js"></script><script type="text/javascript" async="" src="s4j2_fichiers/mixpanel-2-latest.js"></script><script type="text/javascript" async="" src="s4j2_fichiers/conversion_async.js"></script><script type="text/javascript" async="" src="s4j2_fichiers/analytics_002.js"></script><script src="s4j2_fichiers/collectedforms.js" type="text/javascript" id="CollectedForms-9310539" crossorigin="anonymous" data-leadin-portal-id="9310539" data-leadin-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s4j2_fichiers/conversations-embed.js" type="text/javascript" id="hubspot-messages-loader" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s4j2_fichiers/9310539_002.js" type="text/javascript" id="cookieBanner-9310539" data-cookieconsent="ignore" data-hs-ignore="true" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s4j2_fichiers/fb.js" type="text/javascript" id="hs-ads-pixel-9310539" data-ads-portal-id="9310539" data-ads-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s4j2_fichiers/leadflows.js" type="text/javascript" id="LeadFlows-9310539" crossorigin="anonymous" data-leadin-portal-id="9310539" data-leadin-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="9310539" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="s4j2_fichiers/9310539_003.js" type="text/javascript" id="hs-analytics"></script><script async="" crossorigin="anonymous" src="s4j2_fichiers/fs.js"></script><script src="s4j2_fichiers/773401719499556.js" async=""></script><script async="" src="s4j2_fichiers/fbevents.js"></script><script async="" src="s4j2_fichiers/gtm.js"></script><script>window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"NRJS-71f55aa980e498e276b","applicationID":"576835834","transactionName":"dgpYEBRYDg9XQh8AA0YNVAsHRQZMVlFJF01GDVkT","queueTime":0,"applicationTime":356,"agent":""}</script>
<script>(window.NREUM||(NREUM={})).init={ajax:{deny_list:["bam.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={licenseKey:"NRJS-71f55aa980e498e276b",applicationID:"576835834"};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var i=e[n]={exports:{}};t[n][0].call(i.exports,function(e){var i=t[n][1][e];return r(i||e)},i,i.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,n){function r(){}function i(t,e,n,r){return function(){return s.recordSupportability("API/"+e+"/called"),o(t+e,[u.now()].concat(c(arguments)),n?null:this,r),n?void 0:this}}var o=t("handle"),a=t(10),c=t(11),f=t("ee").get("tracer"),u=t("loader"),s=t(4),d=NREUM;"undefined"==typeof window.newrelic&&(newrelic=d);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",v=l+"ixn-";a(p,function(t,e){d[e]=i(l,e,!0,"api")}),d.addPageAction=i(l,"addPageAction",!0),d.setCurrentRouteName=i(l,"routeName",!0),e.exports=newrelic,d.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(t,e){var n={},r=this,i="function"==typeof e;return o(v+"tracer",[u.now(),t,n],r),function(){if(f.emit((i?"":"no-")+"fn-start",[u.now(),r,i],n),i)try{return e.apply(this,arguments)}catch(t){throw f.emit("fn-err",[arguments,this,t],n),t}finally{f.emit("fn-end",[u.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){m[e]=i(v,e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),s.recordSupportability("API/noticeError/called"),o("err",[t,u.now(),!1,e])}},{}],2:[function(t,e,n){function r(t){if(NREUM.init){for(var e=NREUM.init,n=t.split("."),r=0;r<n.length-1;r++)if(e=e[n[r]],"object"!=typeof e)return;return e=e[n[n.length-1]]}}e.exports={getConfiguration:r}},{}],3:[function(t,e,n){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(o){}e.exports=function(t){return r?{passive:!0,capture:!!t}:!!t}},{}],4:[function(t,e,n){function r(t,e){var n=[a,t,{name:t},e];return o("storeMetric",n,null,"api"),n}function i(t,e){var n=[c,t,{name:t},e];return o("storeEventMetrics",n,null,"api"),n}var o=t("handle"),a="sm",c="cm";e.exports={constants:{SUPPORTABILITY_METRIC:a,CUSTOM_METRIC:c},recordSupportability:r,recordCustom:i}},{}],5:[function(t,e,n){function r(){return c.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,c=t(12);e.exports=r,e.exports.offset=a,e.exports.getLastTimestamp=i},{}],6:[function(t,e,n){function r(t){return!(!t||!t.protocol||"file:"===t.protocol)}e.exports=r},{}],7:[function(t,e,n){function r(t,e){var n=t.getEntries();n.forEach(function(t){"first-paint"===t.name?p("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&p("timing",["fcp",Math.floor(t.startTime)])})}function i(t,e){var n=t.getEntries();if(n.length>0){var r=n[n.length-1];if(f&&f<r.startTime)return;p("lcp",[r])}}function o(t){t.getEntries().forEach(function(t){t.hadRecentInput||p("cls",[t])})}function a(t){if(t instanceof g&&!y){var e=Math.round(t.timeStamp),n={type:t.type};e<=l.now()?n.fid=l.now()-e:e>l.offset&&e<=Date.now()?(e-=l.offset,n.fid=l.now()-e):e=l.now(),y=!0,p("timing",["fi",e,n])}}function c(t){"hidden"===t&&(f=l.now(),p("pageHide",[f]))}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var f,u,s,d,p=t("handle"),l=t("loader"),v=t(9),m=t(3),g=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){u=new PerformanceObserver(r);try{u.observe({entryTypes:["paint"]})}catch(h){}s=new PerformanceObserver(i);try{s.observe({entryTypes:["largest-contentful-paint"]})}catch(h){}d=new PerformanceObserver(o);try{d.observe({type:"layout-shift",buffered:!0})}catch(h){}}if("addEventListener"in document){var y=!1,w=["click","keydown","mousedown","pointerdown","touchstart"];w.forEach(function(t){document.addEventListener(t,a,m(!1))})}v(c)}},{}],8:[function(t,e,n){function r(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!o)return!1;for(var n=o.split("."),r=e.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var c=navigator.userAgent,f=c.match(a);f&&c.indexOf("Chrome")===-1&&c.indexOf("Chromium")===-1&&(i="Safari",o=f[1])}e.exports={agent:i,version:o,match:r}},{}],9:[function(t,e,n){function r(t){function e(){t(c&&document[c]?document[c]:document[o]?"hidden":"visible")}"addEventListener"in document&&a&&document.addEventListener(a,e,i(!1))}var i=t(3);e.exports=r;var o,a,c;"undefined"!=typeof document.hidden?(o="hidden",a="visibilitychange",c="visibilityState"):"undefined"!=typeof document.msHidden?(o="msHidden",a="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o="webkitHidden",a="webkitvisibilitychange",c="webkitVisibilityState")},{}],10:[function(t,e,n){function r(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],11:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(i<0?0:i);++r<i;)o[r]=t[e+r];return o}e.exports=r},{}],12:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function r(){}function i(t){function e(t){return t&&t instanceof r?t:t?u(t,f,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!l.aborted||o){t&&a&&t(n,r,i);for(var c=e(i),f=m(n),u=f.length,s=0;s<u;s++)f[s].apply(c,r);var p=d[w[n]];return p&&p.push([b,n,r,c]),c}}function o(t,e){y[t]=m(t).concat(e)}function v(t,e){var n=y[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)}function m(t){return y[t]||[]}function g(t){return p[t]=p[t]||i(n)}function h(t,e){l.aborted||s(t,function(t,n){e=e||"feature",w[n]=e,e in d||(d[e]=[])})}var y={},w={},b={on:o,addEventListener:o,removeEventListener:v,emit:n,get:g,listeners:m,context:e,buffer:h,abort:c,aborted:!1};return b}function o(t){return u(t,f,a)}function a(){return new r}function c(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var f="nr@context",u=t("gos"),s=t(10),d={},p={},l=e.exports=i();e.exports.getOrSetContext=o,l.backlog=d},{}],gos:[function(t,e,n){function r(t,e,n){if(i.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return t[e]=r,r}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){i.buffer([t],r),i.emit(t,e,n)}var i=t("ee").get("handle");e.exports=r,r.ee=i},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,o,function(){return i++})}var i=1,o="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!T++){var t=P.info=NREUM.info,e=g.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(O,function(e,n){t[e]||(t[e]=n)});var n=a();c("mark",["onload",n+P.offset],null,"api"),c("timing",["load",n]);var r=g.createElement("script");0===t.agent.indexOf("http://")||0===t.agent.indexOf("https://")?r.src=t.agent:r.src=v+"://"+t.agent,e.parentNode.insertBefore(r,e)}}function i(){"complete"===g.readyState&&o()}function o(){c("mark",["domContent",a()+P.offset],null,"api")}var a=t(5),c=t("handle"),f=t(10),u=t("ee"),s=t(8),d=t(6),p=t(2),l=t(3),v=p.getConfiguration("ssl")===!1?"http":"https",m=window,g=m.document,h="addEventListener",y="attachEvent",w=m.XMLHttpRequest,b=w&&w.prototype,E=!d(m.location);NREUM.o={ST:setTimeout,SI:m.setImmediate,CT:clearTimeout,XHR:w,REQ:m.Request,EV:m.Event,PR:m.Promise,MO:m.MutationObserver};var x=""+location,O={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1212.min.js"},M=w&&b&&b[h]&&!/CriOS/.test(navigator.userAgent),P=e.exports={offset:a.getLastTimestamp(),now:a,origin:x,features:{},xhrWrappable:M,userAgent:s,disabled:E};if(!E){t(1),t(7),g[h]?(g[h]("DOMContentLoaded",o,l(!1)),m[h]("load",r,l(!1))):(g[y]("onreadystatechange",i),m[y]("onload",r)),c("mark",["firstbyte",a.getLastTimestamp()],null,"api");var T=0}},{}],"wrap-function":[function(t,e,n){function r(t,e){function n(e,n,r,f,u){function nrWrapper(){var o,a,s,p;try{a=this,o=d(arguments),s="function"==typeof r?r(o,a):r||{}}catch(l){i([l,"",[o,a,f],s],t)}c(n+"start",[o,a,f],s,u);try{return p=e.apply(a,o)}catch(v){throw c(n+"err",[o,a,v],s,u),v}finally{c(n+"end",[o,a,p],s,u)}}return a(e)?e:(n||(n=""),nrWrapper[p]=e,o(e,nrWrapper,t),nrWrapper)}function r(t,e,r,i,o){r||(r="");var c,f,u,s="-"===r.charAt(0);for(u=0;u<e.length;u++)f=e[u],c=t[f],a(c)||(t[f]=n(c,s?f+r:r,i,f,o))}function c(n,r,o,a){if(!v||e){var c=v;v=!0;try{t.emit(n,r,o,e,a)}catch(f){i([f,n,r,o],t)}v=c}}return t||(t=s),n.inPlace=r,n.flag=p,n}function i(t,e){e||(e=s);try{e.emit("internal-error",t)}catch(n){}}function o(t,e,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(t);return r.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(o){i([o],n)}for(var a in t)l.call(t,a)&&(e[a]=t[a]);return e}function a(t){return!(t&&t instanceof Function&&t.apply&&!t[p])}function c(t,e){var n=e(t);return n[p]=t,o(t,n,s),n}function f(t,e,n){var r=t[e];t[e]=c(r,n)}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n];return e}var s=t("ee"),d=t(11),p="nr@original",l=Object.prototype.hasOwnProperty,v=!1;e.exports=r,e.exports.wrapFunction=c,e.exports.wrapInPlace=f,e.exports.argsToArray=u},{}]},{},["loader"]);</script>
    <meta name="viewport" content="width=device-width, user-scalable=no">

    <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="UpNuCuFqsM0cUyxYHNyDHufS6/OjItG26m0B+YPzo44hA0AuTorn/NQCWonczTqCQ4wYxY2DNPHzykbNyqUHEg==">
    <title>Le tableau de bord | The Hacking Project</title>
<meta name="description" content="Nous cassons les codes de l'éducation, vous apprenez d'où vous voulez, en communauté.">
<meta name="robots" content="noindex, nofollow">
<meta property="og:title" content="Le tableau de bord">
<meta property="og:site_name" content="The Hacking Project">
<meta name="url" content="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/2">
<meta name="image" content="https://www.thehackingproject.org/packs/images/logo/20210910-THP-Logo_color_transparent-31229dd881904e010092de63be97cdfa.png">


    <link rel="apple-touch-icon" sizes="180x180" href="https://www.thehackingproject.org/assets/favicon/apple-touch-icon-c01aaccf467f7cc3d79bbce743d60779f5b833fdc4500cebd07a5e11a07a5c31.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://www.thehackingproject.org/assets/favicon/apple-touch-icon-120x120-precomposed-372de868f08319961b72ba7e3b1ed7121e75e29c8294334cb2c911409ea18131.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://www.thehackingproject.org/assets/favicon/apple-touch-icon-120x120-372de868f08319961b72ba7e3b1ed7121e75e29c8294334cb2c911409ea18131.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.thehackingproject.org/assets/favicon/favicon-32x32-804b12d1c41c60fe721477b7c3b0a32811dc610580dd40ac92f1cc04cbd05ca4.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.thehackingproject.org/assets/favicon/favicon-16x16-d96ba65e5785d32474df9ebc6fbfd5442c751d527b10981a474bc3b7a4079d01.png">
<link rel="manifest" href="https://www.thehackingproject.org/assets/favicon/manifest-cf975201fd8ac78a1f1a203357573d50031f1cc33436d099743df6428b8a38a2.json">
<link rel="mask-icon" href="https://www.thehackingproject.org/assets/favicon/safari-pinned-tab-8af1cfcf7525ccdccb490f9f5adad396653a4969b419e0a9a9d3a1088140a912.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://www.thehackingproject.org/assets/favicon/favicon-cbf10361dc90b277565960736d4897fddef5468bff6299811ea9498459d56d21.ico">
<meta name="msapplication-config" content="/assets/favicon/browserconfig-dab38db6040ef54ac56e91fdd77e3d7b06746a634e87b68c99b59b216cb8611a.xml">
<meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" media="screen" href="s4j2_fichiers/vendor-dab9e12f0ba58215899de05f149caa5f.css">
    <link rel="stylesheet" media="screen" href="s4j2_fichiers/dashboard-4ab6ba9737cbfc4c38b17a9a4de7833a.css">
    <link rel="stylesheet" media="screen" href="s4j2_fichiers/dashboard-ea5a94b9045ccb8d8ce8974b71b640603915dc183d5907c643.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="s4j2_fichiers/js.js"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-105991867-1');
  </script>
<!-- End Google Analytics -->

<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-P8XRQ3M");
</script>
<!-- End Google Tag Manager -->

<!-- Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
         fbq('init', '773401719499556');
        fbq('track', 'PageView');
    </script>
    <noscript>
     <img height="1" width="1"
    src="https://www.facebook.com/tr?id=773401719499556&ev=PageView
    &noscript=1"/>
    </noscript>
<!-- End Facebook Pixel Code -->

<script>
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_script'] = 'edge.fullstory.com/s/fs.js';
window['_fs_org'] = '14AEET';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
    o=n.createElement(t);o.async=1;o.crossOrigin='anonymous';o.src='https://'+_fs_script;
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};
    g.anonymize=function(){g.identify(!!0)};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.log = function(a,b){g("log",[a,b])};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
    g.setVars=function(n, p){g('setVars',[n,p]);};
    g._w={};y='XMLHttpRequest';g._w[y]=m[y];y='fetch';g._w[y]=m[y];
    if(m[y])m[y]=function(){return g._w[y].apply(this,arguments)};
    g._v="1.3.0";
})(window,document,window['_fs_namespace'],'script','user');
</script>
<!-- Start of HubSpot Embed Code -->
<script async="" defer="defer" id="hs-script-loader" src="s4j2_fichiers/9310539.js" type="text/javascript"></script>
<!-- End of HubSpot Embed Code -->


    <script src="s4j2_fichiers/thp-3cc5aa6fdf57842a7b6c714621cc7f2d3d31b51cb700b1de4e795d773.js"></script>
    <script src="s4j2_fichiers/manifest-1613feea780cfc5342f4.js"></script>
    <script src="s4j2_fichiers/vendor-ff3cb5540e737de52c97.js"></script>
    <script src="s4j2_fichiers/dashboard-25875e14460b4458b1bccffaa93d4a8cbee9691b06d54976fde.js"></script>

    <link href="s4j2_fichiers/css.css" rel="stylesheet">
  <script src="s4j2_fichiers/a"></script></head>

  <body class="vertical-layout 2-columns fixed-navbar menu-hide vertical-overlay-menu" data-open="click" data-menu="vertical-menu" data-color="bg-gradient-x-primary-blue" data-col="2-columns" data-thp-controller="days" data-thp-action="show" data-thp-layout="dashboard"><style type="text/css">html.hs-messages-widget-open.hs-messages-mobile,html.hs-messages-widget-open.hs-messages-mobile body{overflow:hidden!important;position:relative!important}html.hs-messages-widget-open.hs-messages-mobile body{height:100%!important;margin:0!important}#hubspot-messages-iframe-container{display:initial!important;z-index:2147483647;position:fixed!important;bottom:0!important}#hubspot-messages-iframe-container.widget-align-left{left:0!important}#hubspot-messages-iframe-container.widget-align-right{right:0!important}#hubspot-messages-iframe-container.internal{z-index:1016}#hubspot-messages-iframe-container.internal iframe{min-width:108px}#hubspot-messages-iframe-container .shadow-container{display:initial!important;z-index:-1;position:absolute;width:0;height:0;bottom:0;content:""}#hubspot-messages-iframe-container .shadow-container.internal{display:none!important}#hubspot-messages-iframe-container .shadow-container.active{width:400px;height:400px}#hubspot-messages-iframe-container iframe{display:initial!important;width:100%!important;height:100%!important;border:none!important;position:absolute!important;bottom:0!important;right:0!important;background:transparent!important}</style>
    <!-- Google Tag Manager (noscript) -->
<noscript>
<iframe height='0' src='https://www.googletagmanager.com/ns.html?id=GTM-P8XRQ3M' style='display:none;visibility:hidden' width='0'></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->



    <nav class="header-navbar navbar-expand-md navbar navbar-with-menu navbar-without-dd-arrow fixed-top navbar-semi-light" style="padding:0;">
<div class="navbar-wrapper">
<div class="navbar-container content">
<div class="collapse navbar-collapse show" id="navbar-mobile">
<ul class="nav navbar-nav mr-auto float-left">
<li class="nav-item mobile-menu d-md-none mr-auto">
<a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#">
<i class="ft-menu font-large-1"></i>
</a>
</li>
<li class="nav-item d-none d-md-block">
<a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#">
<i class="ft-menu"></i>
</a>
</li>
</ul>
<ul class="nav navbar-nav float-right">
<li class="dropdown dropdown-user nav-item">
<a class="dropdown-toggle nav-link dropdown-user-link" data-toggle="dropdown" href="#">
<span class="avatar avatar-online">

<img alt="avatar" style="max-height: 40px!important; width: auto" class="rounded-circle img-border" src="s4j2_fichiers/default_profile-a3318a5e66467f9958f16a172f9d15d6.jpg">

</span>
</a>
<div class="dropdown-menu dropdown-menu-right">
<div class="arrow_box_right">
<a class="dropdown-toggle nav-link dropdown-user-link" href="https://www.thehackingproject.org/fr/dashboard/profile/user"><span class="avatar avatar-online pt-0">

<img alt="avatar" style="max-height: 40px!important; width: auto" class="rounded-circle img-border" src="s4j2_fichiers/default_profile-a3318a5e66467f9958f16a172f9d15d6.jpg">

</span>
<span class="user-name text-bold-700 ml-1 text-dark">
Lucie
</span>
</a><div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.thehackingproject.org/fr/dashboard/profile/user/edit"><i class="ft-edit"></i>Éditer profil
</a><div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.thehackingproject.org/fr/dashboard/profile/user/edit?edit=danger"><i class="ft-alert-triangle"></i>Zone à risques
</a><div class="dropdown-divider"></div>
<a class="dropdown-item" rel="nofollow" data-method="delete" href="https://www.thehackingproject.org/users/sign_out?locale=fr"><i class="ft-power"></i>
Déconnexion
</a></div>
</div>
</li>
</ul>
</div>
</div>
</div>
</nav>

      <div class="main-menu menu-fixed menu-light menu-accordion menu-shadow" data-scroll-to-active="true">
<div class="navbar-header">
<ul class="nav navbar-nav flex-row">
<li class="nav-item mr-auto">
<a class="navbar-brand" href="https://www.thehackingproject.org/?locale=fr"><h3 class="brand-text">The Hacking Project</h3>
</a></li>
<li class="nav-item d-md-none">
<a class="nav-link close-navbar">
<i class="ft-x"></i>
</a>
</li>
</ul>
</div>
<div class="main-menu-content">
<ul class="navigation navigation-main" data-menu="menu-navigation" id="main-menu-navigation">
<li class="nav-item">
<a href="https://www.thehackingproject.org/fr/dashboard"><i class="ft-calendar"></i>
<span class="menu-title" data-i18n="">
Aujourd'hui
</span>
</a></li>
<li class="nav-item">
<a href="https://www.thehackingproject.org/fr/dashboard/dashboard"><i class="ft-monitor"></i>
<span class="menu-title" data-i18n="">
Mon dashboard
</span>
</a></li>
<li class="nav-item has-sub">
<a href="#"><i class="fas fa-user-graduate"></i>
<span class="menu-title" data-i18n="">
Mon inscription
</span>
</a><ul class="menu-content">
<li>
<a href="https://www.thehackingproject.org/parcours?locale=fr">Choisir un parcours</a>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/profile/curriculum_subscriptions/new">Nouveau parcours</a>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/profile/curriculum_subscriptions/7209/edit">Changer parcours</a>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/modalites">Modalités</a>
</li>
</ul>
</li>
<li class="nav-item">
<a href="https://www.thehackingproject.org/fr/dashboard/certifications"><i class="fa ft-download"></i>
<span class="menu-title" data-i18n="">
Documents
</span>
</a></li>
<br>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/help"><i class="fa ft-help-circle"></i>
<span class="menu-title" data-i18n="">
Aide
</span>
</a></li>
</ul>
</div>
</div>



    <div class="app-content content">
      <div class="content-wrapper">
        <div class="content-wrapper-before"></div>
        <div class="content-header row"></div>
        <div class="container">
<div class="row">
<div class="col-12">
<ol class="breadcrumb">
<li class="breadcrumb-item">
<a href="https://www.thehackingproject.org/fr/dashboard/dashboard">Dashboard</a>
</li>
<li class="breadcrumb-item">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1">Fullstack web</a>
</li>
<li class="breadcrumb-item">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1">Programmation Orientée Objet</a>
</li>
<li class="breadcrumb-item active">
Plus loin dans la POO
</li>
</ol>
</div>
</div>
<!-- / PARTIAL FOR FREE MOUSSES -->
<!-- / PARTIAL FOR NEXT -->
<div class="row">
<div class="col-12">
<div class="card">
<div class="card-body">
<div class="row">
<div class="col-12 col-xl-12 text-center mb-3">
<h2 class="mb-2">
Programmation Orientée Objet
</h2>
<h3>
<i class="ft-check-square success" data-placement="top" data-toggle="tooltip" title="" data-original-title="Projet bien reçu !"></i>
Plus loin dans la POO
</h3>
<h4>
<i class="fa fa-rocket text-danger" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Projet à rendre ce jour-là"></i>

</h4>
<h5>
La POO est une notion centrale en Ruby : poussons-la plus loin pour que tu la maîtrises à fond !
</h5>
</div>
<div class="col-12 col-xl-12 timeline-left" id="activity">
<div class="timeline pt-2">
<ul class="list-unstyled base-timeline activity-timeline">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/1"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/1">Lundi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">

Découverte de la POO
</div>
</div>
<small class="text-muted">
Nous allons te présenter le concept de POO et faire de superbes exercices dessus.
</small>
</li>
<li>
<div class="timeline-icon bg-primary">
<i class="ft-map-pin font-medium-1"></i>
</div>
<div class="act-time">
Mardi
</div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-rocket text-danger" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Projet à rendre ce jour-là"></i>

Plus loin dans la POO
</div>
</div>
<small class="text-muted">
La POO est une notion centrale en Ruby : poussons-la plus loin pour que tu la maîtrises à fond !
</small>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/3"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/3">Mercredi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-pencil text-success" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Corrections cette journée là"></i>

Jouer avec des excels
</div>
</div>
<small class="text-muted">
Tu vas voir comment utiliser Ruby pour manipuler des fichiers Excel. Très pratique quand on scrappe des données par exemple.
</small>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/4"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/4">Jeudi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-rocket text-danger" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Projet à rendre ce jour-là"></i>

POO des champions, un morpion
</div>
</div>
<small class="text-muted">
Tu vas utiliser tes compétences de POO pour faire un programme en POO : un morpion. Ça fait envoyer du paté !
</small>
</li>
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/5"><div class="timeline-icon bg-dark">
<i class="ft-check font-medium-1"></i>
</div>
</a><div class="act-time">
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/weeks/1/days/5">Vendredi
</a></div>
<div class="base-timeline-info">
<div class="text-dark">
<i class="fa fa-pencil text-success" data-placement="bottom" data-toggle="tooltip" title="" data-original-title="Corrections cette journée là"></i>

MVC - Ruby Version
</div>
</div>
<small class="text-muted">
Tu vas voir le fameux framework MVC, adapté à une application Ruby.
</small>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Les fameuses corrections qui n'arrivent que les jours concernés -->
<div class="row">
<div class="col-12">
<div class="card">
<div class="card-header" style="border-top: 3px solid #5E66E5">
<h1>
Ressource : 
Muscler ta POO
</h1>
<a class="heading-elements-toggle">
<i class="la la-ellipsis-v font-medium-3"></i>
</a>
<div class="heading-elements">
<ul class="list-inline mb-0">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/lessons/289/lesson_submissions/new"><i class="ft-edit" data-original-title="Proposer une amélioration" data-placement="top" data-toggle="tooltip"></i>
</a></li>
<li>
<a data-action="collapse">
<i class="ft-minus"></i>
</a>
</li>
<li>
<a data-action="expand">
<i class="ft-maximize"></i>
</a>
</li>
</ul>
</div>
</div>
<div class="card-content collapse show">
<div class="card-body">
<div class="tab-pane active" id="home1" role="tabpanel">
<h2>1. Introduction</h2>
<p>Hier nous avons vu ensemble les grands principes de la Programmation 
Orientée Objet. Tu as pu découvrir ce qu'était un objet, comment le 
décrire de façon générique (méthodes et attributs) dans une classe, 
comment en créer un exemplaire (ou instance) dont tu vas paramétrer les 
attributs et sur lequel tu vas appliquer des méthodes.</p>


<p>Aujourd'hui on va aller plus loin en te présentant comment imbriquer 
des objets entre eux et comment faire hériter les propriétés d'une 
classe à une autre.</p>

<h2>2. Historique et contexte</h2>
<p>Aujourd'hui, c'est ton dernier cours 100&nbsp;% axé POO. À partir de 
là, tu la mettras en pratique au quotidien pour organiser ta pensée et 
donc ton code : tu ne coderas QUE dans des classes et tu devras 
privilégier au maximum la création d'objets (plutôt que de créer des 
variables en l'air, sans objet) quand c'est possible.</p>

<p> Le reste de la semaine sera l'occasion de te faire pratiquer la POO 
avant que vendredi on prenne encore un peu plus de recul dans 
l'organisation du code : on te présentera un moyen de ranger tes classes
 selon leur fonction. C'est le principe de l'architecture MVC sur 
laquelle Rails est basée.</p>


<h2>3. La ressource</h2>

<h3>3.1. Est-ce que tu as bien compris ce qu'était un objet ?</h3>
<p>Avant de partir sur de nouveaux concepts, je voudrais qu'on prenne le
 temps de faire le point sur ce que tu as appris hier. Si la journée t'a
 semblé laborieuse et que tu es encore un peu perdu, <b>il est important que tu prennes 10-15 minutes pour relire en entier la ressource d'hier</b> (sans forcément refaire les tests en IRB), simplement pour te rafraîchir la mémoire.</p>

<p>Ce qui est important de garder en tête, c'est que la POO n'est pas du
 tout un concept compliqué même si son nom est un peu pompeux. Derrière 
le terme "Programmation Orientée Objet" (flippant pour les débutants), 
toi tu dois maintenant entendre "on peut créer des objets dans ce 
langage". Et un objet, si on schématise, ça peut se voir comme :</p>
<ol>
  <li><b>Une variable qui, au lieu d'avoir une seule valeur, peut en embarquer plusieurs.</b> <br>
  Par exemple, si on a un objet <code>my_object</code>, au lieu d'avoir à choisir entre <code>my_object = 4</code> OU BIEN <code>my_object = true</code> OU BIEN <code>my_object = "Bonjour Monde !"</code>, on peut lui créer 3 attributs en <code>attr_accessor</code> et il contient à la fois <code>my_object.number = 4</code> ET <code>my_object.decision = true</code> ET <code>my_object.message = "Bonjour Monde !"</code>.</li>

  <li><b>En bonus, on peut créer des méthodes spécifiques à un objet, elles permettent de faire toujours la même action</b>. <br>
    Là, les possibilités sont infinies mais on peut imaginer, sur notre exemple, une méthode <code>#double</code> qui double la valeur de l'attribut <code>number</code> ou encore une méthode <code>#encrypt_message</code> qui affiche une version chiffrée de l'attribut <code>message</code>. Du coup ça marcherait comme ça :</li>
    <pre class=" language-ruby"><code class=" language-ruby">puts my_object<span class="token punctuation">.</span>number <span class="token comment"># on obtient 4
</span>my_object<span class="token punctuation">.</span>double <span class="token comment">#on applique la méthode "double"
</span>puts my_object<span class="token punctuation">.</span>number <span class="token comment"># à présent on obtient 8
</span>
puts my_object<span class="token punctuation">.</span>message <span class="token comment"># on obtient "Bonjour Monde !"
</span>my_object<span class="token punctuation">.</span>encrypt_message <span class="token comment">#on applique la méthode "encrypt_message"
</span>puts my_object<span class="token punctuation">.</span>message <span class="token comment"># on obtient un truc encrypté, par ex : "idfdsfhdf 434€ €@dff"</span></code></pre>
</ol>

<p>Vu comme ça, on espère que ça simplifie un peu plus ta compréhension 
d'un objet. C'est juste un moyen de 1) ranger de l'information au même 
endroit sans la disperser dans 36 variables et 2) avoir des méthodes 
standardisées qui permettent de faire toujours la même chose sur cette 
information (par exemple des actions qu'on fait fréquemment). </p>

<p>Finalement, programmer avec des objets c'est juste ranger les données
 et les méthodes pour que ton code soit plus facilement compréhensible.</p>

<h3>3.2. Petite correction d'hier</h3>
<p>Hier tu as probablement passé pas mal de temps sur le projet. Pour te
 récompenser de tes efforts, on te propose une petite correction, OKLM. <b>Prends
 à nouveau 10 – 15 minutes pour la relire, bien comprendre comment 
chaque méthode a été écrite et enfin la tester sur ton ordinateur</b>. À noter qu'on a pas codé les fonctionnalités BONUS.</p>

<p>Voici le contenu du fichier <code>user.rb</code> :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">User</span>
  attr_accessor <span class="token symbol">:age</span><span class="token punctuation">,</span> <span class="token symbol">:email</span>
  @<span class="token inst-var">@all_users</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">def</span> initialize<span class="token punctuation">(</span>email<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
    <span class="token inst-var">@email</span> <span class="token operator">=</span> email
    <span class="token inst-var">@age</span> <span class="token operator">=</span> age
    @<span class="token inst-var">@all_users</span> &lt;&lt; <span class="token keyword">self</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token keyword">self</span><span class="token punctuation">.</span>all
    @<span class="token inst-var">@all_users</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token keyword">self</span><span class="token punctuation">.</span>find_by_email<span class="token punctuation">(</span>email<span class="token punctuation">)</span>
    @<span class="token inst-var">@all_users</span><span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>user<span class="token operator">|</span>

      <span class="token keyword">if</span> user<span class="token punctuation">.</span>email <span class="token operator">==</span> email
        <span class="token keyword">return</span> user
      <span class="token keyword">end</span>

    <span class="token keyword">end</span>

    puts <span class="token string">"aucun utilisateur n'a cet email"</span>
    <span class="token keyword">return</span> <span class="token keyword">false</span>
  <span class="token keyword">end</span>

<span class="token keyword">end</span></code></pre>

<p>A présent, le contenu du fichier <code>event.rb</code> :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">Event</span>
  attr_accessor <span class="token symbol">:start_date</span><span class="token punctuation">,</span> <span class="token symbol">:duration</span><span class="token punctuation">,</span> <span class="token symbol">:title</span><span class="token punctuation">,</span> <span class="token symbol">:attendees</span>

  <span class="token keyword">def</span> initialize<span class="token punctuation">(</span>start_date<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> title<span class="token punctuation">,</span> attendees<span class="token punctuation">)</span>
    <span class="token inst-var">@start_date</span> <span class="token operator">=</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>parse<span class="token punctuation">(</span>start_date<span class="token punctuation">)</span>
    <span class="token inst-var">@duration</span> <span class="token operator">=</span> duration
    <span class="token inst-var">@title</span> <span class="token operator">=</span> title
    <span class="token inst-var">@attendees</span> <span class="token operator">=</span> attendees
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> postpone_24h
    <span class="token inst-var">@start_date</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> end_date
    <span class="token keyword">return</span> <span class="token inst-var">@start_date</span> <span class="token operator">+</span> duration<span class="token operator">*</span><span class="token number">60</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> is_past<span class="token operator">?</span>
    <span class="token keyword">return</span> <span class="token inst-var">@start_date</span> &lt; <span class="token builtin">Time</span><span class="token punctuation">.</span>now
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> is_future<span class="token operator">?</span>
    <span class="token operator">!</span><span class="token keyword">self</span><span class="token punctuation">.</span>is_past<span class="token operator">?</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> is_soon<span class="token operator">?</span>
    <span class="token keyword">return</span> <span class="token inst-var">@start_date</span> &lt; <span class="token builtin">Time</span><span class="token punctuation">.</span>now <span class="token operator">+</span> <span class="token number">60</span><span class="token operator">*</span><span class="token number">30</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> to_s
    puts "&gt;<span class="token const">Titre</span> <span class="token punctuation">:</span> <span class="token comment">#{@title}"
</span>    puts "&gt;<span class="token const">Date</span> de début <span class="token punctuation">:</span> <span class="token comment">#{@start_date}"
</span>    puts "&gt;<span class="token const">Dur</span>ée <span class="token punctuation">:</span> <span class="token comment">#{@duration} minutes"
</span>    print <span class="token string">"&gt;Invités :"</span>
    puts <span class="token inst-var">@attendees</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span>

<span class="token keyword">end</span></code></pre>


<h3>3.3. Imbriquer des objets entre eux</h3>
<p>Allez, il est temps de passer aux nouveautés de la journée. 
Maintenant on va te présenter un usage assez courant des objets : le 
fait de les combiner, de les imbriquer. Le principe est simple : <b>on va créer des objets dont l'un des attributs n'est pas une simple variable, c'est un autre objet </b>!</p>

<p>Pour illustrer cela, repartons de l'exemple du projet d'hier où l'on devait créer un <code>event</code> en faisant :</p>
<pre class=" language-ruby"><code class=" language-ruby"><span class="token const">Event</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">"2019-01-13 09:00"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"standup quotidien"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"truc@machin.com"</span><span class="token punctuation">,</span> <span class="token string">"bidule@chose.fr"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Si tu te rappelles bien, on avait un attribut <code>@attendees</code> qui correspond à l'array <code>["truc@machin.com", "bidule@chose.fr"]</code>.
 C'est quand même dommage qu'un évènement soit rattaché à des e-mails 
(string) et non pas des utilisateurs directement, non ? Pour y remédier,
 <b>on va maintenant faire que <code>@attendees</code> ne soit plus un array de String mais un array d'objets de classe <code>User</code></b>.</p>

<p>En fait, rien de plus simple car même sans changer ton code, rien ne t'empêche de stocker d'ores et déjà des objets <code>User</code> dans ton array <code>@attendees</code>. Par exemple en écrivant ça dans <code>app.rb</code> puis en l'exécutant :</p>

<pre class=" language-ruby"><code class=" language-ruby">julie <span class="token operator">=</span> <span class="token const">User</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">"julie@email.com"</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span> <span class="token comment">#je crée un premier User
</span>jean <span class="token operator">=</span> <span class="token const">User</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">"jean@maimail.com"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span> <span class="token comment">#puis un second User
</span>
my_event <span class="token operator">=</span> <span class="token const">Event</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">"2019-01-13 09:00"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"standup quotidien"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>julie<span class="token punctuation">,</span> jean<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#et je les insère tous les deux dans un nouvel Event</span></code></pre>

<p>Si tu suis bien ce qu'on a écrit ci-dessus, <code>[julie, jean]</code> n'est rien d'autre qu'un array contenant 2 objets de type <code>User</code>. L'avantage de faire ça c'est qu'on a stocké encore plus d'informations dans <code>@attendees</code> car chaque objet de classe <code>User</code> se balade avec son <code>@email</code> mais aussi avec son <code>@age</code>. Ainsi, sans alourdir le code de création de <code>my_event</code>, tu embarques dans cet objet de type <code>Event</code> d'autres objets et donc des informations en plus. Et le tout est très lisible, on ne se perd pas.</p>

<p>Tu vas me dire "super tout ça mais j'ai même pas changé le code de la classe <code>Event</code>". En effet, mais si on part dans l'idée que l'attribut <code>@attendees</code> d'un <code>Event</code> est un array de <code>User</code>, on peut prévoir des méthodes qui utilisent cela. Par exemple une méthode dans la classe <code>Event</code>
 qui retourne des infos sur l'age des participants à un évènement. Lis 
et comprends le code ci-dessous puis rajoute-le dans la classe <code>Event</code> : </p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">def</span> age_analysis
    age_array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">#On initialise un array qui va contenir les âges de tous les participants à un évènement
</span>    average <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">#On initialise une variable pour calculer la moyenne d'âge à l'évènement
</span>
    <span class="token inst-var">@attendees</span><span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>attendee<span class="token operator">|</span> <span class="token comment">#On parcourt tous les participants (objets de type User)
</span>      age_array &lt;&lt; attendee<span class="token punctuation">.</span>age <span class="token comment">#leur âge est stocké dans l'array des âges
</span>      average <span class="token operator">=</span> average <span class="token operator">+</span> attendee<span class="token punctuation">.</span>age <span class="token comment">#leur âge est additionné pour préparer le calcul de la moyenne
</span>    <span class="token keyword">end</span>

    average <span class="token operator">=</span> average <span class="token operator">/</span> <span class="token inst-var">@attendees</span><span class="token punctuation">.</span>length <span class="token comment">#on divise la somme des âges pour avoir la moyenne
</span>
    puts <span class="token string">"Voici les âges des participants :"</span>
    puts age_array<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span>
    puts "<span class="token const">La</span> moyenne d'âge est de <span class="token comment">#{average} ans"
</span>  <span class="token keyword">end</span></code></pre>

<p>À présent fait le test dans <code>app.rb</code> en insérant le code :</p>

<pre class=" language-ruby"><code class=" language-ruby">julie <span class="token operator">=</span> <span class="token const">User</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">"julie@email.com"</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span>
jean <span class="token operator">=</span> <span class="token const">User</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">"jean@maimail.com"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>

my_event <span class="token operator">=</span> <span class="token const">Event</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">"2019-01-13 09:00"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"standup quotidien"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>julie<span class="token punctuation">,</span> jean<span class="token punctuation">]</span><span class="token punctuation">)</span>

my_event<span class="token punctuation">.</span>age_analysis <span class="token comment">#j'exécute la nouvelle méthode que j'ai écrite</span></code></pre>

<p>Que vois-tu en exécutant <code>app.rb</code> ? </p>

<p>Tu viens de faire ta première "composition" en POO : tu as utilisé un
 objet dans un autre objet. C'est très puissant pour facilement 
embarquer beaucoup d'information au sein d'un seul objet et imbriquer 
les fonctionnalités. Imagine si, en plus de son <code>@email</code> et son <code>@age</code> un <code>User</code>
 disposait aussi d'un nom, prénom, adresse, téléphone, genre, lieu de 
travail, horaires de réunion préféré, thé/café, etc. Un array d'objets <code>User</code> devient alors une mine d'informations !</p>

<p>Si l'exemple que je viens de te donner te semble un peu complexe, voici un exemple plus simple de composition, <a href="https://vimeo.com/130337162">tiré d'une vidéo d'OpenClassRooms</a></p>

<h3>3.4. L'héritage entre classes</h3>
<h4>3.4.1. Fonctionnement de l'héritage</h4>
<p>Une autre façon de lier deux classes entre elle est l'héritage d'une 
classe vers une autre. Lorsque qu'une classe hérite d'une autre, elle 
récupère toutes les propriétés de cette classe : les attributs et les 
méthodes. Cela permet de créer 2 types d'objets différents (deux classes
 donc) mais qui sont très proches car ils ont des caractéristiques 
communes.</p>

<p>Pour illustrer cela, imaginons que l'on souhaite distinguer un type d'évènement très spécial : les évènements professionnels <code>WorkEvent</code>. Je voudrais leur appliquer des méthodes particulières, auxquelles les autres <code>Event</code> n'ont pas accès, mais cela reste des évènements : je souhaite garder le principe global d'un <code>Event</code> avec ses attributs (<code>@duration</code>, <code>@start_date</code>, <code>@attendees</code>, <code>@title</code>), sa méthode <code>initialize</code> et les différentes méthodes que j'ai codées (<code>is_past?</code>, <code>is_soon?</code>, etc.). C'est là que l'héritage rentre en jeu !</p>

<p>Pour indiquer que la class <code>WorkEvent</code> hérite de la classe <code>Event</code>, je dois utiliser la syntaxe <code>class WorkEvent &lt; Event</code>. Ce qui donnera :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">WorkEvent</span> &lt; <span class="token const">Event</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">#le contenu de la classe
</span><span class="token keyword">end</span></code></pre>

<p>Une fois ce cadre posé, on peut spécifier des méthodes (et/ou des 
attributs) propres à cette nouvelle classe. Dans notre exemple, j'ai 
voulu distinguer les <code>WorkEvent</code> des <code>Event</code> de 
base afin de pouvoir vérifier qu'ils suivent les bonnes pratiques de mon
 entreprise : pas plus de 3 participants et pas plus long que 1&nbsp;h. <br>
Je vais donc coder une méthode <code>#is_event_acceptable?</code> propre aux <code>WorkEvent</code> pour vérifier que les règles de mon entreprise sont respectées. Voici ce que ça donnerait :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">WorkEvent</span> &lt; <span class="token const">Event</span>
  <span class="token keyword">def</span> is_event_acceptable<span class="token operator">?</span>

    <span class="token keyword">if</span> <span class="token inst-var">@attendees</span><span class="token punctuation">.</span>length &gt; <span class="token number">3</span> <span class="token operator">||</span> <span class="token inst-var">@duration</span> &gt; <span class="token number">60</span>
      puts <span class="token string">"Cette réunion ne respecte pas nos bonnes pratiques !"</span>
      <span class="token keyword">return</span> <span class="token keyword">false</span>
    <span class="token keyword">else</span>
      puts <span class="token string">"Cette réunion est OK."</span>
      <span class="token keyword">return</span> <span class="token keyword">true</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span></code></pre>

<p>Exceptionnellement, mets le code ci-dessus, de la classe <code>WorkEvent</code>, dans <code>event.rb</code>, à la suite de la classe <code>Event</code>
 (en théorie il faudrait faire 2 fichiers différents mais on va faire 
simple là). Si tu suis bien, la méthode ci-dessus retourne <code>true</code> (et un petit message) si l'évènement respecte la règle de max 3 personnes et max 60 minutes. Elle retourne <code>false</code> sinon.</p>

<p>À présent, testons le code pour que tu comprennes comment marche l'héritage. Commence par remettre le fichier <code>app.rb</code> au propre :</p>

<pre class=" language-ruby"><code class=" language-ruby">require <span class="token string">'bundler'</span>
<span class="token const">Bundler</span><span class="token punctuation">.</span>require

require_relative <span class="token string">'lib/user'</span>
require_relative <span class="token string">'lib/event'</span>

binding<span class="token punctuation">.</span>pry</code></pre>

<p>Maintenant exécute <code>app.rb</code> et rentre les lignes suivantes
 dans PRY (une à une). Prends bien le temps de lire mon commentaire pour
 comprendre ce qui se passe :</p>

<pre class=" language-bash"><code class=" language-bash">julie = User.new("julie@email.com", 35) #je crée un premier User
jean = User.new("jean@maimail.com", 22) #puis un second User

meeting = WorkEvent.new("2019-01-17 09:00", 70, "réunion de travail", [julie, jean]) # je crée un WorkEvent</code></pre>

<p>Tu noteras que j'ai créé un <code>WorkEvent</code> de la même façon qu'un simple <code>Event</code> grâce à l'héritage : la méthode <code>initialize</code> a été transmise ! Tu peux maintenant confirmer que toutes les méthodes propres aux <code>Event</code> restent fonctionnelles en testant dans PRY :</p>

<pre class=" language-bash"><code class=" language-bash">meeting.is_past? #on obtient bien true
meeting.to_s #on obtient l'affichage de l'objet avec les identifiants bruts des User

meeting.postpone_24h
meeting.start_date #on confirme qu'elle a été déplacée au 2019-01-18, 9h</code></pre>

<p>Mais en bonus, on a accès à la méthode propre aux <code>WorkEvent</code> si tu tapes <code>meeting.is_event_acceptable?</code>. En testant cette mèthode tu devrais avoir un false car la réunion dure 70 minutes (alors que le max est de 60 minutes).</p>

<p>À l'inverse, si on crée un <code>Event</code> de base avec <code>birthday = Event.new("2019-02-22 11:00", 70, "anniversaire", [julie, jean])</code>, on ne peut lui appliquer la méthode. <code>birthday.is_event_acceptable?</code> nous retourne une erreur <code>NoMethodError: undefined method `is_event_acceptable?'</code>. Cette méthode est inconnue pour les objets de type <code>Event</code>. <br>
=&gt; Teste cela depuis PRY !</p>

<p>Donc voilà, tu as fait ta première classe qui hérite d'une autre : 
cette nouvelle classe dispose alors des mêmes attributs et méthodes que 
sa classe "mère" et tu peux lui définir <b>en plus</b> des attributs et méthodes qui lui seront propres.</p>

<p>À nouveau, si l'exemple que je viens de te donner te semble un peu complexe, voici un exemple plus simple d'héritage, <a href="https://vimeo.com/130336374">tiré d'une vidéo d'OpenClassRooms</a>.</p>

<h4>3.4.2. Modifier une méthode déjà existante de la classe "mère" avec <codes>#super</codes></h4>
<p>En utilisant l'héritage entre deux classes, la classe "fille" va 
récupérer les méthodes de la classe "mère". Pourtant, il est probable 
que tu veuilles modifier certaines des méthodes déjà existantes. Par 
exemple, imaginons que tu veuilles rajouter à la classe <code>WorkEvent</code> un attribut <code>@location</code> qui défini le lieu. Cet attribut n'existe pas dans la classe <code>Event</code> donc tu vas devoir modifier à la fois le <code>attr_accessor</code> et la méthode <code>initialize</code>. Pour mémoire, voici le début du code de la classe <code>Event</code> : </p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">Event</span>
  attr_accessor <span class="token symbol">:start_date</span><span class="token punctuation">,</span> <span class="token symbol">:duration</span><span class="token punctuation">,</span> <span class="token symbol">:title</span><span class="token punctuation">,</span> <span class="token symbol">:attendees</span>

  <span class="token keyword">def</span> initialize<span class="token punctuation">(</span>start_date<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> title<span class="token punctuation">,</span> attendees<span class="token punctuation">)</span>
    <span class="token inst-var">@start_date</span> <span class="token operator">=</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>parse<span class="token punctuation">(</span>start_date<span class="token punctuation">)</span>
    <span class="token inst-var">@duration</span> <span class="token operator">=</span> duration
    <span class="token inst-var">@title</span> <span class="token operator">=</span> title
    <span class="token inst-var">@attendees</span> <span class="token operator">=</span> attendees
  <span class="token keyword">end</span>

  <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token comment">#reste du code
</span><span class="token keyword">end</span></code></pre>

<p>En voulant rajouter l'attribut <code>@location</code> aux <code>WorkEvent</code>, voici ce que je dois coder :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">WorkEvent</span> &lt; <span class="token const">Event</span>
  attr_accessor <span class="token symbol">:location</span>

  <span class="token keyword">def</span> initialize<span class="token punctuation">(</span>start_date<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> title<span class="token punctuation">,</span> attendees<span class="token punctuation">,</span> location<span class="token punctuation">)</span>
    <span class="token inst-var">@start_date</span> <span class="token operator">=</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>parse<span class="token punctuation">(</span>start_date<span class="token punctuation">)</span>
    <span class="token inst-var">@duration</span> <span class="token operator">=</span> duration
    <span class="token inst-var">@title</span> <span class="token operator">=</span> title
    <span class="token inst-var">@attendees</span> <span class="token operator">=</span> attendees
    <span class="token inst-var">@location</span> <span class="token operator">=</span> location <span class="token comment"># j'ai rajouté cette ligne
</span>  <span class="token keyword">end</span>

  <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token comment">#reste du code de la classe
</span><span class="token keyword">end</span></code></pre>

<p>Tu peux voir que j'ai rajouté, dans le <code>initialize</code>, un attribut <code>location</code>
 qui permet de définir le lieu. Mais ça m'a obligé à presque 
copier-coller en entier la méthode qui était pourant déjà présente dans 
la classe <code>Event</code>... C'est un peu dommage d'avoir à tout retaper ! <br>
Heureusement Ruby a prévu le coup avec la méthode <code>super</code>. En l'insérant dans le <code>initialize</code> de <code>Work Event</code>, je peux faire appel au <code>initialize</code> de la classe "mère" <code>Event</code>. Et donc, au final, mon code devient :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">WorkEvent</span> &lt; <span class="token const">Event</span>
  attr_accessor <span class="token symbol">:location</span>

  <span class="token keyword">def</span> initialize<span class="token punctuation">(</span>start_date<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> title<span class="token punctuation">,</span> attendees<span class="token punctuation">,</span> location<span class="token punctuation">)</span>
    <span class="token inst-var">@location</span> <span class="token operator">=</span> location <span class="token comment"># j'ai rajouté cette ligne
</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>start_date<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> title<span class="token punctuation">,</span> attendees<span class="token punctuation">)</span> <span class="token comment">#fait appel au initialize de la classe Event
</span>  <span class="token keyword">end</span>

  <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token comment">#reste du code de la classe
</span><span class="token keyword">end</span></code></pre>

<p>Ainsi, quand je fais un <code>WorkEvent.new(...)</code>, je modifie bien mon attribut <code>@location</code> puis je fais tout pareil qu'avec un <code>Event.new(...)</code> en modifiant aussi <code>start_date</code>, <code>duration</code>, <code>title</code> et <code>attendees</code>. La méthode <code>super</code> permet de dire "exécute le même code que cette méthode de la classe mère".</p>



<h2>4. Points importants à retenir</h2>

<p>La POO est une notion centrale en Ruby et il est primordial de bien 
la comprendre. Si ce soir la notion d'objet est toujours floue, prends 
le temps, ce week-end ou en soirée, de refaire les 2 journées ou de te 
documenter sur Internet. Sans cela tu risques de stagner en Ruby… Le 
rythme de THP est très soutenu donc c'est normal d'avoir des difficultés
 mais mets toutes les chances de ton côté en revoyant plusieurs fois les
 cours si besoin.</p>

<p><b>Composition :</b> tu peux facilement imbriquer des classes entre 
elles en utilisant les objets d'une classe dans le code d'une autre 
classe. Cela te permet d’utiliser les méthodes et les attributs de ces 
objets dans ton code.</p>

<p><b>Héritage :</b> tu peux facilement créer une nouvelle classe à 
partir d'une classe "mère" dont elle héritera de tous les attributs et 
méthodes. Pour indiquer que la class <code>WorkEvent</code> hérite de la classe <code>Event</code>, je dois utiliser la syntaxe <code>class WorkEvent &lt; Event</code>. Ce qui donnera :</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">class</span> <span class="token const">WorkEvent</span> &lt; <span class="token const">Event</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">#le contenu de la classe
</span><span class="token keyword">end</span></code></pre> <p></p>

<p>Si tu modifies, dans une classe "fille", une méthode déjà existante 
dans la classe "mère", tu peux faire référence à son code initial en 
utilisant la méthode <code>super(...)</code>.</p>


<h2>5. Pour aller plus loin</h2>
<p>Si tu demandes à n'importe quel développeur Ruby "comment aller plus 
loin en POO" (voire en Ruby, tellement c'est considéré comme la bible), 
ne cherche pas plus que THE référence : <a href="https://www.poodr.com/" target="_blank">Practical Object-Oriented Design, An Agile Primer Using Ruby (POODR)</a>, un livre écrit par Sandi Metz.</p>


</div>
</div>
</div>
</div>
</div>
</div>

<div class="row">
<div class="col-12">
<div class="card">
<div class="card-header" style="border-top: 3px solid #FF4081">
<h1>
Projets : 
Mini jeu - il veulent tous ta POO
</h1>
<a class="heading-elements-toggle">
<i class="la la-ellipsis-v font-medium-3"></i>
</a>
<div class="heading-elements">
<ul class="list-inline mb-0">
<li>
<a href="https://www.thehackingproject.org/fr/dashboard/courses/1/projects/108/project_submissions/new"><i class="ft-edit" data-original-title="Proposer une amélioration" data-placement="top" data-toggle="tooltip"></i>
</a></li>
<li>
<a data-action="collapse">
<i class="ft-minus"></i>
</a>
</li>
<li>
<a data-action="expand">
<i class="ft-maximize"></i>
</a>
</li>
</ul>
</div>
</div>
<div class="card-content collapse show">
<div class="card-body">
<div class="tab-pane active" id="home1" role="tabpanel">
<h2>1. Introduction</h2>
<p>Maintenant que tu as tous les outils de POO en main, on va te montrer
 comment les utiliser pour faire un petit jeu de combat du type 
Fortnite. Alors évidemment, je vais tout de suite calmer tes ardeurs : 
on va devoir se contenter de visuels bien moins ambitieux que le vrai 
jeu… Mais le principe sera là : des joueurs vont s'affronter dans une 
grande arène, s'échanger des coups, et tu ne pourras vaincre que si tu 
es le dernier debout ! 😎 </p>

<h2>2. Le projet</h2>
<p>On va faire ce projet de façon progressive : on va déjà produire une 
version 1.0 en te guidant, puis on passera à une version 2.0 un peu plus
 recherchée et moins guidée pour conclure sur une version 3.0 où on te 
donnera juste les directives !</p>
<p>C'est un projet relativement long et complet : l'objectif est a 
minima que tu puisses finir la version 1.0 pour valider le projet (il 
faut bien sûr qu'elle marche !). Mais on est persuadé qu'en vous aidant 
les uns les autres, vous arriverez à aller plus loin ! </p>

<h3>2.1. Mise en place du repo</h3>
<p>On commence toujours par préparer son espace de travail. Comme pour le projet d'hier, ouvre un dossier du genre <code>mini_jeu_POO</code> et donne-lui l'architecture suivante :</p>

<pre class=" language-shell"><code class=" language-shell">mini_jeu_POO
├── lib
│   ├── player.rb
│   └── game.rb
├── app.rb
├── README.md
├── Gemfile
├── Gemfile.lock
└── Autres fichiers (.env, .gitignore)</code></pre>

<p>Dans le fichier <code>app.rb</code>, insère le code suivant : </p>

<pre class=" language-ruby"><code class=" language-ruby">require <span class="token string">'bundler'</span>
<span class="token const">Bundler</span><span class="token punctuation">.</span>require

require_relative <span class="token string">'lib/game'</span>
require_relative <span class="token string">'lib/player'</span>

binding<span class="token punctuation">.</span>pry</code></pre>

<p>Pour rappel, ces lignes vont te permettre d'exécuter ton programme proprement depuis <code>app.rb</code>
 en rendant toutes les gems disponibles dans tous les fichiers (2 
premières lignes) et en faisant appel aux 2 autres fichiers présents 
dans <code>\lib</code> (les 2 lignes suivantes).</p>

<p>La ligne <code>binding.pry</code> est là pour te permettre de faire des tests. Tout ce que tu vas coder dans <code>player.rb</code>, tu pourras le tester dans le terminal (avec PRY) en exécutant directement un petit <code>ruby app.rb</code>.</p>

<h3>2.2. Version 1.0 : coder un combat entre 2 joueurs</h3>
<p>Quand on s'attaque à un gros morceau comme Fortnite, il y a un max de
 fonctionnalités qu'on peut avoir envie de coder. Alors pour ne pas se 
perdre, commençons par quelque chose qui soit à la fois <b>relativement simple à coder et central au jeu</b>.
 Ici, j'ai choisi de te faire commencer par un combat. Tout simplement. 
Si on est pas capable de coder un combat entre 2 personnages, on ne 
saura pas coder ce jeu : commençons donc par ça !</p>
<p>Que faut-il pour faire un combat ? Moi j'ai en tête qu'il faut a minima :</p>
<ul>
  <li>2 joueurs ;</li>
  <li>Que chaque joueur ait un niveau de vie donné ;</li>
  <li>Que ce niveau de vie baisse à chaque attaque subie ;</li>
  <li>Si la vie atteint zéro, le personnage est mort.</li>
</ul>

<p>Difficile de faire plus simple... Alors allons-y ! On va commencer par coder tout ça dans le fichier <code>player.rb</code> qui va donc accueillir la classe <code>Player</code> dont le but est de modéliser un joueur. Je vais te décrire chaque caractéristique d'un objet <code>Player</code>, charge à toi d'écrire le code !  </p>

<h4>a) <code>Player</code> : attributs et <code>initialize</code></h4>
<p>Un joueur possède 2 attributs que tu vas mettre en <code>attr_accessor</code> : un nom <code>@name</code> (string) et un niveau de vie <code>@life_points</code> (integer).</p>

<p>Quand on veut créer un objet <code>Player</code>, on ne met que son 
nom en entrée car le niveau de vie est le même pour tout le monde au 
début (10 pts de vie). Écris la méthode <code>initialize</code> afin qu'on ait la réaction suivante si on lance <code>app.rb</code> et qu'on utilise PRY :</p>
<pre class=" language-bash"><code class=" language-bash">[1] pry(main)&gt; player1 = Player.new("José")
=&gt; #&lt;Player:0x000055e2ae15e910 @life_points=10, @name="José"&gt;
[2] pry(main)&gt; player1.name
=&gt; "José"
[3] pry(main)&gt; player1.life_points
=&gt; 10</code></pre>

<h4>b) <code>Player</code> : afficher l'état d'un joueur avec <code>show_state</code></h4>
<p>On sait que les joueurs vont se mettre sur la tronche et que donc 
leur niveau de vie va baisser. Donc on peut anticiper qu'il va falloir 
afficher à l'utilisateur l'état de chaque joueur pour qu'il sache ce 
qu'il se passe et comment le combat avance. Code une méthode <code>show_state</code> qui va afficher l'état de l'objet <code>Player</code> sur laquelle elle est exécutée : "XXXX a YYY points de vie".</p>

<p>Tout comme dans l'exemple ci-dessus, cette méthode doit permettre d'obtenir le résultat suivant si on lance <code>app.rb</code> et qu'on utilise PRY: </p>
<pre class=" language-bash"><code class=" language-bash">[1] pry(main)&gt; player1 = Player.new("José")
=&gt; #&lt;Player:0x000055c8d3bcb960 @life_points=10, @name="José"&gt;
[2] pry(main)&gt; player1.show_state
José a 10 points de vie
=&gt; nil</code></pre>

<h4>c) <code>Player</code> : subir une attaque avec <code>gets_damage</code></h4>
<p>A ce stade, on a notre base pour définir un objet <code>Player</code>.
 Passons maintenant à une méthode indispensable pour un combat : celle 
qui fait baisser le niveau de vie du joueur. En gros je veux pouvoir 
modéliser "le joueur stocké dans l'objet <code>player1</code> subit 5 points de dommage" en faisant un <code>player1.gets_damage(5)</code>.</p>
<p>Tu dois coder une méthode <code>gets_damage</code> qui prend en entrée un integer (= le nombre de dommages subit) et qui le soustraie au niveau de vie (<code>@life_points</code>) du joueur.</p>
<p>Une fois la soustraction faite, la méthode vérifie si <code>@life_points</code>
 est inférieur ou égale à zéro. Si c'est le cas, c'est que le joueur est
 mort : elle affiche un message "le joueur XXXX a été tué !".</p>

<p>Voici le fonctionnement qu'on doit obtenir en exécutant <code>app.rb</code> et en utilisant PRY :</p>
<pre class=" language-bash"><code class=" language-bash">[1] pry(main)&gt; player1 = Player.new("José")
=&gt; #&lt;Player:0x00005648d5f9ea88 @life_points=10, @name="José"&gt;
[2] pry(main)&gt; player1.gets_damage(5)
=&gt; nil
[3] pry(main)&gt; player1.show_state
José a 5 points de vie
=&gt; nil
[4] pry(main)&gt; player1.gets_damage(5)
le joueur José a été tué !
=&gt; nil
[5] pry(main)&gt; player1.show_state
José a 0 points de vie
=&gt; nil</code></pre>

<p>Petite aide : pour ceux qui sont complètement perdus dans l'écriture 
de cette première méthode, son contenu est affiché ci-dessous en blanc 
sur blanc (surligne le texte avec ta souris pour l'afficher). <br>
⚠️ATTENTION⚠️ : si tu as besoin de cette aide pour avancer, c'est que le
 concept d'objet et l'écriture des classes n'est pas du tout clair pour 
toi (pour le moment). Il est INTERDIT de copier-coller cette méthode 
dans ton code : je veux que tu y jettes un œil puis que tu essayes, sans
 la recopier, de l'écrire à nouveau dans ton code. Tu dois comprendre 
chaque ligne. Ensuite, lance <code>app.rb</code> avec son <code>binding.pry</code> et fais plein de tests en créant 2 ou 3 objets <code>Player</code> différents, fais des <code>show_state</code> et des <code>gets_damage</code> dessus pour bien visualiser comment tout ça marche. <br>
Il n'y aura pas d'autre aide donc c'est important que tu saisisses 
MAINTENANT la logique. Quitte à te la faire expliquer par un 
co-moussaillon ! </p>

<p>-début de l'aide- <br>
<span style="color: white;">def gets_damage(damage_received) #damage_received est un entier qu'on met en entrée de la méthode<br>
<br>
    #On soustrait l'entier en entrée au niveau de vie de l'objet sur lequel la méthode est appliquée :<br>
    @life_points = @life_points - damage_received <br> 
<br>
<br>
    #Si le niveau de vie de l'objet est inférieur ou égal à zéro, le joueur est tué et on affiche un message.<br>
    if @life_points &lt;= 0<br>
      puts "le joueur #{@name} a été tué !" # l'écriture #{} permet d'insérer une variable dans un string<br>
    end<br>
  end<br>
<br>
end <br></span>
-fin de l'aide-</p>

<h4>d) <code>Player</code> : attaquer avec <code>attacks</code></h4>
<p>On est à présent capable de faire baisser les points de vie d'un joueur avec <code>gets_damage</code>. Il est temps de coder une méthode <code>attacks</code> qui permette de faire qu'un joueur attaque un autre. Ainsi, si le joueur <code>player1</code> attaque le joueur <code>player2</code>, on aurait juste à taper <code>player1.attacks(player2)</code>.</p>

<p>Code cette méthode en respectant ces contraintes :</p>
<ul>
  <li>La méthode prend donc en entrée un objet <code>Player</code> qui est le joueur subissant l'attaque ;</li>
  <li>La méthode commence par annoncer "le joueur [nom de player1] attaque le joueur [nom de player2]" avec un <code>puts</code> ;</li>
  <li>Ensuite on doit calculer les dommages que <code>player1</code> va faire subir à <code>player2</code>. Pour des raisons que tu comprendras plus tard, on va créer une méthode à part s'appelant <code>compute_damage</code>
 qui va faire ce calcul. Et dans la pure tradition des jeux de rôle, les
 dommages seront aléatoires car égaux au résultat d'un lancé de dé (= un
 chiffre au hasard entre 1 et 6). Voici le code de notre méthode <code>compute_damage</code> que tu vas mettre juste à la suite de <code>attacks</code> :</li>
<pre class=" language-ruby"><code class=" language-ruby">  <span class="token keyword">def</span> compute_damage
    <span class="token keyword">return</span> rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">6</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span></code></pre>

  <li>Maintenant, dans <code>attacks</code>, fais appel à <code>compute_damage</code> et stocke le résultat dans une variable.</li>
  <li>Fais subir les dégâts à l'autre <code>Player</code> en utilisant ces dommages et la méthode <code>gets_damage</code>.</li>
  <li>À présent <code>puts</code> une phrase qui explique ce qui vient de se passer : "il lui inflige XXXX points de dommages"</li>
</ul>

<p>Voici le fonctionnement qu'on doit obtenir en exécutant <code>app.rb</code> et en utilisant PRY :</p>
<pre class=" language-bash"><code class=" language-bash">[1] pry(main)&gt; player1 = Player.new("Josiane")
=&gt; #&lt;Player:0x000055ebac183358 @life_points=10, @name="Josiane"&gt;
[2] pry(main)&gt; player2 = Player.new("José")
=&gt; #&lt;Player:0x000055ebac11cb80 @life_points=10, @name="José"&gt;
[3] pry(main)&gt; player1.attacks(player2)
Josiane attaque José
il lui inflige 5 points de dommages
=&gt; nil
[4] pry(main)&gt; player2.show_state
José a 5 points de vie
=&gt; nil
[5] pry(main)&gt; player1.show_state
Josiane a 10 points de vie
=&gt; nil</code></pre>

<h4>e) Orchestrons un combat !</h4>
<p>C'est bon, on a tous les ingrédients pour que nos joueurs se 
trucident bien comme il faut ! Les joueurs peuvent attaquer, subir des 
dégâts et on peut donner des infos sur le terminal via plein de <code>puts</code>. Il ne nous reste qu'à mettre en place notre premier combat.</p>

<p>On va tout coder dans <code>app.rb</code> qui va orchestrer le combat et faire appel à la classe <code>Player</code>. Petite exception à la règle : pas besoin de créer une classe <code>App</code> dans ce fichier.</p><p>

</p><p>Je vais à nouveau te guider pas à pas. N'oublie pas de vérifier que chaque étape fonctionne bien en exécutant <code>app.rb</code> avec un petit <code>binding.pry</code> à la fin pour confirmer que tout marche avant de passer à l'étape d'après.</p>
<p> Allez c'est parti :</p>

<ol>
  <li><b>À ma droite "Josiane"</b> : crée un <code>Player</code> répondant à ce doux prénom et stocké dans la variable <code>player1</code>.</li>
  <li><b>À ma gauche "José"</b> : crée un autre <code>Player</code> répondant à ce joli prénom et stocké dans la variable <code>player2</code>.</li>

  <li><b>Présentons les deux combattants</b> : affiche dans le terminal l'état de chaque combattant grâce à des <code>puts</code> et des <code>show_state</code>. Juste avant, affiche un petit <code>puts "Voici l'état de chaque joueur :"</code>.</li>
  <li><b>Fight !</b> Indique que le combat commence avec un <code> puts "Passons à la phase d'attaque :"</code>.</li>
  <li><b>Josiane aura l'honneur d'attaquer la première</b> : fais attaquer <code>player2</code> par <code>player1</code> avec la méthode <code>attacks</code>.</li>
  <li><b>José ne va pas se laisser faire</b> : fais l'attaque inverse.</li>
</ol>

<p>Si tu exécutes le code en l'état, tu devrais avoir un premier round 
d'attaque entre nos deux gladiateurs. C'est déjà un bon début ! Mais 
José et Josiane doivent à présent combattre jusqu'à la mort 👎. Ils 
doivent donc s'attaquer jusqu'à ce que l'un des deux n'ait plus de point
 de vie. Es-tu déjà en mesure de voir comment faire ?</p>

<p>Allez, sur cette première étape je t'aide : il faut faire une boucle <code>while</code>.
 En effet, on ne sait pas combien de tours le combat va durer vu que les
 dommages sont aléatoires (il faut entre 2 et 10 coups pour venir à bout
 des 10 points de vie).</p>

<p>Tu vas donc créer une boucle qui commence au point 3 de la liste 
ci-dessus (la présentation de l'état de chaque combattant doit avoir 
lieu au début de la boucle) et finie au point 6. Cette boucle doit 
tourner jusqu'à ce qu'un des <code>Player</code> voit son niveau de vie être inférieur ou égal à zéro. Es-tu en mesure d'écrire cette condition d'arrêt ?</p>

<p>Aide si tu n'y arrives pas (surligne le texte ci-après, en blanc sur blanc) : <span style="color: white;">while player1.life_points &gt; 0 &amp;&amp; player2.life_points &gt;0</span> - fin de l'aide -</p>

<p>Et voilà tu dois maintenant pouvoir faire tourner plusieurs combats 
sans souci et faire des paris sur qui, de José ou Josiane, en sortira 
les pieds devants. Hum… En fait si tu fais tourner plusieurs combats, tu
 devrais identifier un petit souci.</p>

<h4>f) Corrigeons ce petit bug</h4>
<p>Et oui, si jamais José (<code>player2</code>) venait à être tué en 
premier, tu vas vite te rendre compte qu'il peut malgré tout porter une 
dernière attaque sur Josiane (et potentiellement la tuer aussi). Pas 
terrible : ça serait considéré comme un bug par un utilisateur extérieur
 ! On doit gérer ce cas.</p>

<p>Juste après l'attaque de Josiane (<code>player1</code>) sur José (<code>player2</code>), rajoute un petit <code>if</code> qui teste si <code>player2</code> est mort (ses points de vie sont négatifs ou nuls). Si c'est le cas, il nous faut sortir immédiatement de la boucle <code>while</code> : c'est faisable grâce à la ligne <code>break</code>.</p>

<h4>Résultat attendu sur le terminal</h4>

<p>Voici un exemple de ce que le terminal doit afficher si tu lances un combat en exécutant <code>app.rb</code> :</p>
<pre class=" language-bash"><code class=" language-bash">Voici l'état de nos joueurs :
Josiane a 10 points de vie
José a 10 points de vie

Passons à la phase d'attaque :
Josiane attaque José
il lui inflige 4 points de dommages
José attaque Josiane
il lui inflige 3 points de dommages

Voici l'état de nos joueurs :
Josiane a 7 points de vie
José a 6 points de vie

Passons à la phase d'attaque :
Josiane attaque José
il lui inflige 1 points de dommages
José attaque Josiane
il lui inflige 4 points de dommages

Voici l'état de nos joueurs :
Josiane a 3 points de vie
José a 5 points de vie

Passons à la phase d'attaque :
Josiane attaque José
il lui inflige 1 points de dommages
José attaque Josiane
il lui inflige 6 points de dommages
le joueur Josiane a été tué !</code></pre>

<p>Comme tu peux le voir, j'ai inséré quelques sauts de ligne en plus 
pour rendre le tout plus lisible. N'hésite pas à mettre en page un peu 
mieux si tu te sens de rajouter des <code>puts</code> en plus, des lignes de "------------" ou autres.</p>

<h3>2.3. Version 2.0 : créer un nouveau type de joueur</h3>
<p>Nous allons maintenant créer un nouveau type de joueur qui va 
disposer de plus de compétences et de plus de choix : il sera joué par 
un humain. Je vais un peu moins t'accompagner dans cette version-là afin
 de te laisser te creuser la tête et t'obliger à chercher les solutions 
sur internet ou parmi la communauté.</p>

<h4>a) Poser les bases de la nouvelle classe</h4>
<p>Commence par compléter ton fichier <code>player.rb</code> en rajoutant, à la suite de la classe <code>Player</code>, une nouvelle classe que nous appellerons <code>HumanPlayer</code>.
 Les bonnes pratiques en Ruby voudraient qu'on découpe cela en 2 
fichiers différents mais ici, on va faire simple et efficace car ce 
programme est relativement petit.</p>
<p>Cette classe doit hériter de <code>Player</code> car nous voulons qu'un objet <code>HumanPlayer</code> ait la même base : les attributs <code>name</code> et <code>life_points</code> ainsi que toutes les méthodes que nous avons codées.</p>

<h4>b) <code>HumanPlayer</code> : l'attribut <code>@weapon_level</code> et modification de <code>initialize</code> et <code>show_state</code></h4>
<p>Il y aura 2 choses qui vont différencier un <code>HumanPlayer</code> d'un <code>Player</code>.
 Tout d'abord, on va donner un petit avantage à notre joueur humain 
vis-à-vis des bots : il disposera de 100 points de vie. Ensuite, il aura
 la possibilité d'améliorer l'arme dont il dispose pour augmenter les 
dégâts qu'il inflige à ses adversaires.</p>

<p>Commence par définir en <code>attr_accessor</code> la variable <code>weapon_level</code> qui définira, sous forme d'integer, le niveau de l'arme du <code>HumanPlayer</code>.</p>

<p>Maintenant tu vas définir une nouvelle méthode <code>initialize</code> qui prend toujours uniquement le <code>name</code> en entrée mais, à la différence de celle des <code>Player</code> :</p>
<ul>
  <li>Elle donne une valeur de 100 à <code>@life_points</code>.</li>
  <li>Elle fixe <code>@weapon_level = 1</code>.</li>
</ul>

<p>Et vu qu'on modifie la nature de cet objet, autant modifier la façon de présenter le joueur. Tu vas changer la méthode <code>show_state</code> afin qu'elle affiche une phrase du genre "XXX a YYY points de vie et une arme de niveau ZZZ".</p>

<h4>c) <code>HumanPlayer</code> : augmenter les dommages causés</h4>
<p>C'est cool que les <code>HumanPlayer</code> aient une arme avec un <code>@weapon_level</code>, mais il faut que ça serve en combat ! On va faire de <code>@weapon_level</code> un multiplicateur des dégâts. Tu vas créer, dans <code>HumanPlayer</code>, une nouvelle méthode <code>compute_damage</code> pour refléter cela : </p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">def</span> compute_damage
    rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token inst-var">@weapon_level</span>
  <span class="token keyword">end</span></code></pre>

<p>Du coup tu comprends mieux pourquoi, dans la classe <code>Player</code>, je t'avais fait créer une méthode <code>compute_damage</code> toute seule. C'était pour anticiper le fait que la ligne <code>rand(1..6)</code> allait devoir prendre en compte l'existence d'un <code>@weapon_level</code> dans la classe <code>HumanPlayer</code>. Grâce à ça, on a juste à modifier la méthode très courte <code>compute_damage</code> et non pas la méthode <code>attacks</code> entière.</p>

<p>Si tu suis bien, une fois que tu as fait ce travail, les joueurs de type <code>Player</code> pourront infliger des dégâts compris entre 1 et 6 alors que les joueurs de type <code>HumanPlayer</code> infligeront des dégâts compris entre [@weapon_level] et [6 x @weapon_level].</p>

<h4>d) <code>HumanPlayer</code> : chercher une nouvelle arme</h4>
<p>Une nouvelle fonctionnalité spécifique aux <code>HumanPlayer</code> sera la possibilité pour lui d'aller chercher une nouvelle arme, plus puissante. Pour cela, tu vas coder, dans la classe <code>HumanPlayer</code>, une méthode <code>search_weapon</code> qui va faire les choses suivantes :</p>

<ul>
  <li>Elle va commencer par lancer un "dé" dont le résultat sera compris entre 1 et 6 (tu sais faire ça maintenant non?).</li>
  <li>Ce lancé de dé sera égal au niveau de la nouvelle arme trouvée. 
Annonce le résultat de la recherche à l'utilisateur en affichant un 
message du genre "Tu as trouvé une arme de niveau XXX".</li>
  <li>Maintenant, cherche à savoir si ça vaut le coup pour le joueur <code>Human Player</code> de la garder… Utilise un <code>if</code> pour comparer le niveau de cette nouvelle arme avec celle qu'il possède déjà (<code>@weapon_level</code>).</li>
  <li>Si l'arme trouvée est d'un niveau strictement supérieur, il la garde. Son <code>@weapon_level</code>
 prend alors la valeur de la nouvelle arme et tu affiches un message du 
genre "Youhou ! elle est meilleure que ton arme actuelle : tu la 
prends."</li>
  <li>Si l'arme trouvée est égale ou moins bien que son arme actuelle, 
tu ne changes rien et ne fais qu'afficher un petit "M@*#$... elle n'est 
pas mieux que ton arme actuelle..."</li>
</ul>

<h4>e) <code>HumanPlayer</code> : chercher un pack de points de vie</h4>
<p>Une autre fonctionnalité qu'auront les <code>HumanPlayer</code> : ils
 pourront partir à la recherche d'un pack de points de vie afin de faire
 remonter leur niveau de vie. De façon assez similaire à la méthode <code>search_weapon</code>, tu vas coder une méthode <code>search_health_pack</code> qui va se comporter comme suit :</p>

<ul>
  <li>Elle commence également par lancer un "dé" dont le résultat sera 
compris entre 1 et 6. En fonction du résultat, voilà ce qu'elle devra 
faire :</li>
  <li>Si le résultat est égal à 1, le joueur n'a rien trouvé et on retourne simplement le string "Tu n'as rien trouvé... ".</li>
  <li>Si le résultat est compris entre 2 (inclus) et 5 (inclus), le 
joueur a trouvé un pack de 50 points de vie. On va donc augmenter sa vie
 de 50 points mais sans qu'elle puisse dépasser 100 points. Puis on va 
retourner le string "Bravo, tu as trouvé un pack de +50 points de vie 
!".</li>
  <li>Si le résultat est égal à 6, le joueur a trouvé un pack de 80 
points de vie. On va donc augmenter sa vie de 80 points mais sans 
qu'elle puisse dépasser 100 points. Puis on va retourner le string 
"Waow, tu as trouvé un pack de +80 points de vie !".</li>
</ul>

<h4>f) Combat interactif sur <code>app_2.rb</code> : toi contre José et Josiane</h4>
<p>OK, tous les ingrédients sont prêts: il ne nous reste plus qu'à 
mettre le tout en musique pour enfin jouer ton premier interactif ! Cela
 va se faire au tour-par-tour et à chaque fois tu auras le choix entre 
plusieurs actions afin de te défaire de tes 2 adversaires.</p>
<p>Le fichier qui va orchestrer tout cela va s'appeler <code>app_2.rb</code> afin que tu gardes intacte ta version 1.0 sur <code>app.rb</code>.
 Commence donc par créer ce fichier (toujours à la racine de ton 
dossier) et fais-le commencer par les mêmes 4 lignes de code que ton <code>app.rb</code> de base : </p>

<pre class=" language-ruby"><code class=" language-ruby">require <span class="token string">'bundler'</span>
<span class="token const">Bundler</span><span class="token punctuation">.</span>require

require_relative <span class="token string">'lib/game'</span>
require_relative <span class="token string">'lib/player'</span></code></pre>

<p>Maintenant, voici la liste de ce que tu dois coder dans <code>app_2.rb</code>. Fais-le au fur et à mesure, et ne passe à l'étape suivante que si ton code marche :</p>

<ul>
  <li><b>Accueil</b> : Commence par afficher dans le terminal, au lancement de <code>app_2.rb</code>, un petit message de démarrage du jeu. Laisse libre cours à ton imagination mais voici un exemple basique :</li>
<pre class=" language-bash"><code class=" language-bash">------------------------------------------------
|Bienvenue sur 'ILS VEULENT TOUS MA POO' !      |
|Le but du jeu est d'être le dernier survivant !|
-------------------------------------------------</code></pre>
  <li><b>Initialisation du joueur</b>: ensuite, le jeu va demander à l'utilisateur son prénom et créer un <code>HumanPlayer</code> portant ce prénom.</li>
  <li><b>Initialisation des ennemis</b> : le jeu va maintenant créer nos deux combattants préférés, "Josiane" et "José". <br>
  Comme nous savons qu'à terme (version 3.0) il y aura plus de 2 
ennemis, on va mettre en place une astuce pour manipuler facilement un 
groupe d'ennemis : le jeu va créer un array <code>enemies</code> qui va contenir les deux objets <code>Player</code> que sont José et Josiane. Tu verras plus tard l'usage qu'on va en faire.</li>
  <li><b>Le combat</b> : tout comme dans la version 1.0, on peut maintenant lancer le combat ! Tu vas ouvrir une boucle <code>while</code> qui ne doit s'arrêter que si le joueur de l'utilisateur (<code>HumanPlayer</code>) meurt ou si les 2 joueurs "bots" (<code>Player</code>)
 meurent. Cette condition d'arrêt n'est pas triviale à écrire mais je te
 propose d'essayer ! Sinon la réponse est disponible plus bas. Laisse la
 boucle <code>while</code> vide pour le moment, on la codera juste après.</li>
  <li><b>Fin du jeu</b> : maintenant, si on sort de cette boucle <code>while</code>, c'est que la partie est terminée. Donc juste en dessous du <code>end</code>
 de la boucle, on va préparer un petit message de fin. Le jeu doit 
afficher "La partie est finie" et ensuite soit afficher "BRAVO ! TU AS 
GAGNE !" si le joueur humain est toujours en vie, ou "Loser ! Tu as 
perdu !" s'il est mort.</li>
</ul>

<p>Très bien, on a l'ossature globale du jeu version 2.0 mais il reste à
 coder le combat ! Voici ce que tu vas mettre dans la boucle <code>while</code> :</p>

<ul>
  <li>Tout d'abord, on te donne la condition d'arrêt de la boucle en partant de l'hypothèse que tu as stocké le <code>HumanPlayer</code> dans la variable <code>user</code> et les deux <code>Player</code> dans les variables <code>player1</code> et <code>player2</code>.</li>
<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">while</span> user<span class="token punctuation">.</span>life_points &gt;<span class="token number">0</span> &amp;&amp; <span class="token punctuation">(</span>player1<span class="token punctuation">.</span>life_points &gt; <span class="token number">0</span> <span class="token operator">||</span> player2<span class="token punctuation">.</span>life_points &gt;<span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">end</span></code></pre>
  <li>La première chose qu'on va faire à chaque tour de combat, c'est afficher l'état du <code>HumanPlayer</code> : rajoute cela.</li>
  <li>Ensuite, on va proposer un menu qui doit ressembler à cela :</li>

<pre class=" language-bash"><code class=" language-bash">Quelle action veux-tu effectuer ?

a - chercher une meilleure arme
s - chercher à se soigner 

attaquer un joueur en vue :
0 - Josiane a 10 points de vie
1 - José a 10 points de vie</code></pre>
  <li>Évidemment la partie "Josiane a 10 points de vie" et "José a 10 
points de vie" devra se mettre à jour quand ils vont recevoir des 
dégâts. Tu dois donc utiliser la méthode <code>show_state</code> dans cette partie du menu pour afficher l'état réel de chaque <code>Player</code> que l'utilisateur combat.</li>
  <li>Une fois cela fait, on laisse l'utilisateur effectuer une saisie. Et en fonction de la saisie, on va :</li>
  <ul>
    <li>si l'utilisateur tape "a", exécuter sur son  <code>HumanPlayer</code> la méthode qui le fait partir à la recherche d'une arme ;</li>
    <li>si l'utilisateur tape "s", exécuter sur son  <code>HumanPlayer</code> la méthode qui le fait partir à la recherche d'un pack de soin ;</li>
    <li>si l'utilisateur tape "0", faire attaquer Josiane par son <code>Human Player</code> ;</li>
    <li>si l'utilisateur tape "1", faire attaquer José par son <code>Human Player</code> ;</li>
  </ul>
  <li>C'est maintenant au tour des ennemis de riposter ! Tu peux l'indiquer en affichant en console un petit <code>puts "Les autres joueurs t'attaquent !"</code></li>
  <li>On va faire que les 2 <code>Player</code> attaquent le <code>HumanPlayer</code>. Mais au lieu d'écrire 2 lignes quasiment identiques en mode <code>player1.attacks(user)</code> et <code>player2.attacks(user)</code>, je veux que tu utilises l'array <code>enemies</code> contenant les 2 objets <code>Player</code>. L'idée est de faire une boucle <code>each</code> sur cet array pour ensuite exécuter la méthode <code>attacks</code> sur chaque objet. Pourquoi ? Tout simplement car on anticipe là le fait qu'il y aura bientôt 10 ou 20 ou 30 <code>Player</code> : on va pas se taper 10 ou 20 ou 30 lignes de <code>playerX.attacks(user)</code> !  </li>
  <li>Ha oui, un petit dernier truc : il ne faut pas qu'un <code>Player</code> puisse attaquer s'il est mort… Donc rajoute un petit <code>if</code> dans ta boucle <code>each</code>.</li>
</ul>

<p>Super ! Tu es arrivé au bout de la version 2.0 de ton Fornite-like ! 
Lance plusieurs combats, fais plein de tests et compare les résultats 
avec tes fellow moussaillons. N'hésite pas à mettre des petits <code>gets.chomp</code>
 ici et là qui auront pour seul objectif de faire une petite pause dans 
l'affichage du texte du jeu sur le terminal. Ça aidera à la lecture et à
 suivre ce qu'il se passe.</p>


<h3>2.4. Version 3.0 : un jeu mieux organisé et plus d'ennemis</h3>
<p>Bravo, tu as fini la version 2.0 ! Si tout est fait proprement jusque
 là, tu valides sans souci le projet. Maintenant, on va augmenter un peu
 le niveau car tu as besoin de challenge. Fini le pas à pas : on va te 
donner des instructions plus générales, charge à toi de t'en sortir seul
 !</p>
<p>Commence par créer un fichier <code>app_3.rb</code> pour garder l'historique de tes versions 1.0 et 2.0. Ce fichier doit commencer avec les mêmes 4 lignes de <code>require</code> que les 2 autres.</p>

<h4>a) Première étape : rapatrier plein de choses de <code>app_2.rb</code> vers une nouvelle classe <code>Game</code></h4>
<p>Notre fichier <code>app_2.rb</code> gère beaucoup trop de chose et il
 est trop long pour que ce soit acceptable : on doit ranger son contenu 
dans des méthodes et des classes dédiées. On va donc créer une classe <code>Game</code> dans le fichier <code>game.rb</code> qui aura pour rôle de stocker les informations du jeu et effectuer chaque étape.</p>

<p>Voici ce que tu dois faire dans la classe <code>Game</code> (80&nbsp;% du travail consiste à rapatrier du code depuis <code>app_2.rb</code>) :</p>

<ul>
  <li>Crée la classe <code>Game</code> qui aura 2 <code>attr_accessor</code> : un <code>@human_player</code> de type <code>HumanPlayer</code> et un array <code>@enemies</code> qui contiendra des <code>Player</code>.</li>
  <li>Un objet <code>Game</code> s'initialise ainsi : <code>my_game = Game.new("Wolverine")</code>. Il crée automatiquement 4 <code>Player</code> qu'il met dans <code>@enemies</code> et un <code>HumanPlayer</code> portant (dans cet exemple) le nom "Wolverine".</li>
  <li>Écris une méthode <code>kill_player</code> qui prend un objet <code>Player</code> en entrée et le supprime de <code>@enemies</code>. Cette méthode permet d'éliminer un adversaire tué.</li>
  <li>Écris une méthode <code>is_still_ongoing?</code> qui retourne true si le jeu est toujours en cours et false sinon. Le jeu continue tant que le <code>@human_player</code> a encore des points de vie et qu'il reste des <code>Player</code> à combattre dans l’array <code>@enemies</code>.</li>
  <li>Écris une méthode <code>show_players</code> qui va afficher 1) l'état du joueur humain et 2) le nombre de joueurs "bots" restant</li>
  <li>Écris une méthode <code>menu</code> qui va afficher le menu de 
choix (juste l'afficher, pas plus). On a les mêmes choix que dans la 
version 2.0 à la seule différence qu'il y a plus de 2 ennemis à 
combattre et que si un ennemi est mort, on ne doit plus proposer de 
l'attaquer.</li>
  <li>Écris une méthode <code>menu_choice</code> qui prend en entrée un 
string. Cette méthode va permettre de faire réagir le jeu en fonction du
 choix, dans le menu, de l'utilisateur. Par exemple, si l'entrée est 
"a", le <code>@human_player</code> doit aller chercher une arme. Si 
l'entrée est "0", on le fait attaquer l'ennemi présenté au choix "0", 
etc. Pense à faire appel, dans cette méthode, à la méthode <code>kill_player</code> si jamais un <code>Player</code> est tué par le joueur humain !</li>
  <li>Écris une méthode <code>enemies_attack</code> qui va faire riposter tous les ennemis vivants. Ils vont attaquer à tour de rôle le joueur humain.</li>
  <li>Écris une méthode <code>end</code> qui va effectuer l'affichage de fin de jeu. Tu sais, la partie "le jeu est fini" puis "Bravo..." ou "Loser..."</li>
</ul>

<h4>b) <code>app_3.rb</code> en chef d'orchestre</h4>
<p>Maintenant tu vas compléter <code>app_3.rb</code> pour qu'il puisse coordonner le jeu.</p>

<p>Fais commencer le jeu par l'habituel message de bienvenue, demande 
son nom à l'utilisateur et utilise-le pour initialiser un objet <code>Game</code> que tu vas stocker dans une variable <code>my_game</code> et rappeler tout du long de ton code.</p>
<p>Inspire-toi du contenu de <code>app_2.rb</code> mais cette fois-ci, tu ne dois faire que des appels de méthode sur ton objet <code>my_game</code>.
 Il contient toute l'information du jeu en cours : le personnage de ton 
utilisateur et ses ennemis. Par contre tu peux mettre les <code>gets.chomp</code> directement dans le code de <code>app_3.rb</code></p>

<h4>c) Quelques fonctionnalités en plus</h4>
<p>On aimerait bien que notre Fornite-like permette de combattre 10 ou 
20 ennemis sur une même partie... Mais s'ils débarquent tous dès le 
début et s'acharnent sur notre pauvre <code>HumanPlayer</code>, même avec ses habilités spéciales il va pas durer longtemps.</p>
<p>On va mettre en place un système où les ennemies vont débarquer au 
compte-goutte, un peu comme dans les jeux où on tombe sur eux au hasard 
de tes déplacements sur la carte. Pour ça, on va suivre à la fois le 
nombre d'ennemis toujours présents dans le jeu ( = ennemis restant à 
éliminer) et le nombre d'ennemis qui sont "en vue" (= ennemis qu'on peut
 attaquer et qui peuvent nous attaquer en retour). Voilà comment on va 
faire dans la classe <code>Game</code> :</p>

<ul>
  <li>Rajoute deux attributs : <code>@players_left</code> qui est un integer qu'on initialize à 10 et <code>@enemies_in_sight</code> qui vient remplacer <code>@enemies</code> et qui est un array vide au départ. Tu l'as compris car j'ai bien nommé mes variables (prends en de la graine) : <code>@players_left</code> représente le nombre de joueur restant dans le jeu (= nombre restant à éliminer pour gagner) et <code>@enemies_in_sight</code> est un array de <code>Player</code> qui sont ceux en vue (= qu'on peut attaquer et qui vont nosu attaquer en retour).</li>
  <li>Modifie la méthode <code>is_still_ongoing?</code> pour que le jeu continue tant que notre <code>HumanPlayer</code> est toujours en vie et qu'il n'est pas le dernier vivant.</li>
  <li>Crée une méthode <code>new_players_in_sight</code> qui va avoir pour rôle de rajouter des ennemis en vue. Voici les règles de fonctionnement de cette méthode :</li>
  <ul>
    <li>Si tous les joueurs du jeu sont déjà "en vue", on ne doit pas en rajouter. Dans ce cas, cela signifie que le nombre d'objets <code>Player</code> dans <code>@enemies_in_sight</code> est égal à l'integer <code>@players_left</code>. Affiche alors un message d'info du type "Tous les joueurs sont déjà en vue".</li>
    <li>La méthode va lancer un dé à 6 faces et va réagir en fonction de ce résultat aléatoire :</li>
    <li>Si le dé vaut 1, aucun nouveau joueur adverse n'arrive (afficher un message informant l'utilisateur).</li>
    <li>Si le dé vaut entre 2 et 4 inclus, un nouvel adversaire arrive en vue. Il faut alors créer un <code>Player</code> avec un nom aléatoire du genre "joueur_1234" ou "joueur_6938" (ou ce que tu veux) et injecter ce <code>Player</code> dans le array <code>@enemies_in_sight</code> . Affiche un message informant l'utilisateur de ce qui se passe.</li>
    <li>Si le dé vaut 5 ou 6, cette fois c'est 2 nouveaux adversaires 
qui arrivent en vue. De même qu'au-dessus, il faut les créer et les 
rajouter au jeu. Rajoute toujours un message informant l'utilisateur.</li>
  </ul>
  <li>Et maintenant, il faut que cette méthode <code>new_players_in_sight</code> soit appelée dans ton <code>app_3.rb</code> juste avant l'affichage du menu à l'utilisateur. Cela permet d'ajouter, petit à petit, des adversaires en vue !</li>
</ul>

<p>Voilà, une fois que tu auras fait ça, tu pourras essayer de sortir 
vivant d'un combat contre 10, 20 voire 100 adversaires ! N'hésite pas à 
pimper l'affichage pour l'utilisateur et à joueur sur les paramètres (la
 vie de chaque adversaire, ta vie, la taille des packs de vie qu'on peut
 trouver, etc.) pour trouver les réglages qui sont les plus fun !</p>



<h2>3. Rendu attendu</h2>
<p>Un repo GitHub contenant l'ensemble de ton programme qui a l'architecture dossier décrite en 2.1</p>
<p>Le repo doit contenir chaque version de ton jeu en fonction de ce que tu auras réussi à faire : <code>app.rb</code>, <code>app_2.rb</code> et <code>app_3.rb</code>. En effet, on va demander à tes correcteurs de tester chaque version.</p>
</div>
</div>
</div>
</div>
</div>
</div>

</div>

      </div>
    </div>

    <div class="thp-flashes"></div>



    <script src="s4j2_fichiers/dashboard-6681459c92372465340c.js"></script>
    <script charset="utf-8">
      $('input[name=authenticity_token]').val($('meta[name=csrf-token]').attr('content'));
    </script>

  


<script type="text/javascript" id="hs-script-loader" src="s4j2_fichiers/9310539.js"></script><script type="text/javascript" id="">(function(e,c){if(!c.__SV){var l,h;window.mixpanel=c;c._i=[];c.init=function(q,r,f){function t(d,a){var g=a.split(".");2==g.length&&(d=d[g[0]],a=g[1]);d[a]=function(){d.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var b=c;"undefined"!==typeof f?b=c[f]=[]:f="mixpanel";b.people=b.people||[];b.toString=function(d){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);d||(a+=" (stub)");return a};b.people.toString=function(){return b.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<l.length;h++)t(b,l[h]);var n="set set_once union unset remove delete".split(" ");b.get_group=function(){function d(p){a[p]=function(){call2_args=arguments;call2=[p].concat(Array.prototype.slice.call(call2_args,0));b.push([g,call2])}}for(var a={},g=["get_group"].concat(Array.prototype.slice.call(arguments,0)),m=0;m<n.length;m++)d(n[m]);return a};c._i.push([q,r,f])};c.__SV=1.2;var k=e.createElement("script");k.type="text/javascript";k.async=!0;k.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=e.getElementsByTagName("script")[0];e.parentNode.insertBefore(k,e)}})(document,window.mixpanel||[]);mixpanel.init("ab79c62023f2a925bfe5f7922c70de67");mixpanel.track("Sign up");</script>
<script type="text/javascript" id="">!function(){var a=window.analytics=window.analytics||[];if(!a.initialize)if(a.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{a.invoked=!0;a.methods="trackSubmit trackClick trackLink trackForm pageview identify reset group track ready alias debug page once off on addSourceMiddleware addIntegrationMiddleware setAnonymousId addDestinationMiddleware".split(" ");a.factory=function(b){return function(){var c=Array.prototype.slice.call(arguments);c.unshift(b);
a.push(c);return a}};for(var e=0;e<a.methods.length;e++){var f=a.methods[e];a[f]=a.factory(f)}a.load=function(b,c){var d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src="https://cdn.segment.com/analytics.js/v1/"+b+"/analytics.min.js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(d,b);a._loadOptions=c};a._writeKey="HDfubo7D6T7lk8XiL2HZi2hZvIVFuK8j";a.SNIPPET_VERSION="4.13.2";a.load("HDfubo7D6T7lk8XiL2HZi2hZvIVFuK8j");a.page()}}();</script>

<iframe style="display: none; visibility: hidden;" owner="archetype" title="archetype"></iframe></body></html>