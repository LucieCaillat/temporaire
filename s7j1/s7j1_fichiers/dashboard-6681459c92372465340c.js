webpackJsonp([3],Array(73).concat([function(e,n){},function(e,n){},,,,,,,,,,,,,,,,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});t(92),t(73),t(74),t(93),t(94),t(95),t(96),t(97),t(98),t(99);toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"4000",hideDuration:"1500",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut",progressBar:!0};t(100),t(101),t(102),t(103),t(104),t(105),t(106),t(107),t(108),t(109),t(112),t(113),t(114),t(115),t(116),t(117),t(118),t(119),t(121),t(122),t(123);var a=t(6);t(124);addEventListener("direct-upload:initialize",function(e){var n=e.target,t=e.detail,a=t.id,i=t.file;n.insertAdjacentHTML("beforebegin",'\n    <div id="direct-upload-'+a+'" class="direct-upload direct-upload--pending">\n      <div id="direct-upload-progress-'+a+'" class="direct-upload__progress" style="width: 0%"></div>\n      <span class="direct-upload__filename">'+i.name+"</span>\n    </div>\n  ")}),addEventListener("direct-upload:start",function(e){var n=e.detail.id;document.getElementById("direct-upload-"+n).classList.remove("direct-upload--pending")}),addEventListener("direct-upload:progress",function(e){var n=e.detail,t=n.id,a=n.progress;document.getElementById("direct-upload-progress-"+t).style.width=a+"%"}),addEventListener("direct-upload:error",function(e){e.preventDefault();var n=e.detail,t=n.id,a=n.error,i=document.getElementById("direct-upload-"+t);i.classList.add("direct-upload--error"),i.setAttribute("title",a)}),addEventListener("direct-upload:end",function(e){var n=e.detail.id;document.getElementById("direct-upload-"+n).classList.add("direct-upload--complete")}),t(125),t(164),$("div.star-rating").raty({cancel:!0,cancelOff:"fa fa-times red",cancelOn:"fa fa-times red",starType:"i",starOff:"fa fa-star-o fa-2x",starOn:"fa fa-star fa-2x"}),$(".repeater").repeater({initEmpty:!0,defaultValues:{"text-input":"Bill Gates"},show:function(){$(this).slideDown()},hide:function(){$(this).slideUp()},isFirstItemUndeletable:!0}),a.start();t(168);var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"triggerScriptForAction",value:function(e,n,t){return document.body.dataset.thpAction==n&&document.body.dataset.thpController==e&&document.body.dataset.thpLayout==t}},{key:"getCsrfToken",value:function(){return document.querySelector("meta[name='csrf-token']").getAttribute("content")}}]),e}(),r=t(169),s=t.n(r),c=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var l=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return c(e,[{key:"init",value:function(){var e=this;this.prepareOtherPartyMissingSwitches(),document.querySelectorAll("input.thp-other-party-present").forEach(function(n){n.addEventListener("input",function(){return e.correctionElementChangedHandler(event)})}),document.querySelectorAll(".thp-correction-comment textarea").forEach(function(n){n.addEventListener("input",function(){return e.correctionElementChangedHandler(event)})}),document.querySelectorAll(".modal.thp-correction-modal input.form-check-input").forEach(function(n){n.addEventListener("change",function(){return e.correctionElementChangedHandler(event)})}),document.querySelectorAll(".modal.thp-correction-modal").forEach(function(n){e.toggleCorrectionModal(n,!1)}),document.querySelectorAll(".modal.thp-correction-modal").forEach(function(n){n.addEventListener("ajax:success",function(){return e.correctionSentSuccessfully(event)})})}},{key:"prepareOtherPartyMissingSwitches",value:function(){var e=this;document.querySelectorAll(".switchery").forEach(function(e){new s.a(e)}),document.querySelectorAll(".switchery").forEach(function(n){n.addEventListener("click",function(){return e.otherPartyMissingSwitchHandler(event)})})}},{key:"otherPartyMissingSwitchHandler",value:function(e){var n=e.target.closest(".modal-body").querySelector("input.switchery").checked,t=e.target.closest(".thp-correction-modal");this.toggleCorrectionModal(t,n),n&&this.toggleMissingTooSoonExplanations(t,!1)}},{key:"toggleGrades",value:function(e,n){e.querySelectorAll(".thp-correction-guideline input").forEach(function(e){e.disabled=!n}),n?e.querySelector(".thp-correction-guidelines").classList.remove("disabled"):e.querySelector(".thp-correction-guidelines").classList.add("disabled")}},{key:"toggleDisableExplanations",value:function(e,n){e.querySelector(".thp-correction-guidelines-disabled-explanation").style.visibility=n?"hidden":"visible"}},{key:"toggleInvalidExplanations",value:function(e,n){e.querySelector(".thp-correction-invalid-message").style.visibility=n?"hidden":"visible"}},{key:"toggleMissingTooSoonExplanations",value:function(e,n){e.querySelector(".thp-correction-guidelines-missing-too-soon-explanation").style.visibility=n?"visible":"hidden"}},{key:"toggleExplanationCriterias",value:function(e,n){e.querySelectorAll(".thp-correction-explanations-criterias input").forEach(function(e){e.disabled=!n}),null!=e.querySelector(".thp-correction-explanations-criterias")&&(n?e.querySelector(".thp-correction-explanations-criterias").classList.remove("disabled"):e.querySelector(".thp-correction-explanations-criterias").classList.add("disabled"))}},{key:"toggleComment",value:function(e,n){e.querySelector(".thp-correction-comment textarea").disabled=!n,n?e.querySelector(".thp-correction-comment").classList.remove("disabled"):e.querySelector(".thp-correction-comment").classList.add("disabled")}},{key:"toggleSendButton",value:function(e,n){e.querySelector(".thp-correction-submit").disabled=!n}},{key:"correctionFormGradesAreComplete",value:function(e){return e.querySelectorAll(".thp-correction-guidelines .thp-correction-guideline").length==e.querySelectorAll(".thp-correction-guidelines .thp-correction-guideline .form-check-input:checked").length}},{key:"correctionFormComplete",value:function(e,n){if(n){var t=this.correctionFormGradesAreComplete(e);return t&=e.querySelector(".thp-correction-comment textarea").value.length>1}return 9>(new Date).getUTCHours()?(this.toggleMissingTooSoonExplanations(e,!0),!1):(this.toggleMissingTooSoonExplanations(e,!1),!0)}},{key:"toggleCorrectionModal",value:function(e,n){this.toggleGrades(e,n),this.toggleExplanationCriterias(e,n),this.toggleComment(e,n),this.toggleDisableExplanations(e,n);var t=this.correctionFormComplete(e,n);this.toggleSendButton(e,t),this.toggleInvalidExplanations(e,t)}},{key:"correctionElementChangedHandler",value:function(e){var n=e.target.closest(".thp-correction-modal"),t=n.querySelector("input.thp-other-party-present").checked;this.correctionFormComplete(n,t)?this.toggleCorrectionModal(n,t):(this.toggleInvalidExplanations(n,!1),this.toggleSendButton(n,!1))}},{key:"correctionSentSuccessfully",value:function(e){var n=e.target.closest(".thp-correction-modal");$(n).modal("hide"),location.reload(!0)}}]),e}(),u=(t(2),function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}());var d=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,[{key:"init",value:function(){var e=this;console.log("DailySurveyView script is loaded"),"true"===document.querySelector(".container").dataset.feedback&&(document.querySelector("#feedback-form").style.display="none"),"true"===document.querySelector(".container").dataset.careUpvote&&(document.querySelector("#careupvote-form").style.display="none"),document.getElementById("FirstUpvotee").addEventListener("change",function(){return e.removeFirstSelected(event)}),document.querySelectorAll(".form").forEach(function(n){n.addEventListener("ajax:success",function(){return e.surveySentSuccessfully(event)})}),document.querySelectorAll(".form").forEach(function(e){e.addEventListener("ajax:error",function(){alert("Oops, une erreur s'est glissée !")})})}},{key:"surveySentSuccessfully",value:function(e){e.target.closest(".form").style.display="none",e.target.closest(".card").querySelector(".confirm-msg").style.display="block","none"===document.getElementById("careupvote-form").style.display&&"none"===document.getElementById("feedback-form").style.display&&(window.location="/dashboard")}},{key:"removeFirstSelected",value:function(e){for(var n=document.getElementById("FirstUpvotee").value,t=document.querySelectorAll("#SecondUpvotee option"),a=0;a<t.length;a++)t[a].parentNode.removeChild(t[a]);var i=document.querySelectorAll("#FirstUpvotee option");for(a=0;a<i.length;a++){var o=i[a].cloneNode(!0);document.getElementById("SecondUpvotee").append(o)}if("Personne"==n)console.log("Personne selectionné");else for(var r=document.getElementById("SecondUpvotee"),s=0;s<r.length;s++)r.options[s].value==n&&r.remove(s)}}]),e}(),m=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var p=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return m(e,[{key:"init",value:function(){var e=this;console.log("JS CurriculumSubscriptionView loaded"),this.stylePreselectedCurriculum(),this.updateCurriculumsPrices(),this.updateSelectedCurriculumPrice(),this.disableValidationButton(),document.querySelector(".select-promo").addEventListener("change",function(){e.updateCurriculumsPrices(),e.updateSelectedCurriculumPrice(),e.updateCandidaciesPromotionId()}),document.querySelectorAll(".col-md-4").forEach(function(n){n.addEventListener("click",function(n){return e.toggleCheckedBox(n)})}),document.querySelectorAll(".select-curriculum").forEach(function(n){n.addEventListener("change",function(n){e.updateCurriculumValue(n),e.updateCurriculumsPrices(n),e.updateSelectedCurriculumPrice(),e.disableValidationButton()})})}},{key:"toggleCheckedBox",value:function(e){var n=e.target.closest(".col-md-4").querySelector(".select-curriculum");if(null!==n&&e.target!==e.target.closest(".col-md-4").querySelector(".select-curriculum")){n.checked?n.checked=!1:n.checked=!0;e=new Event("change");n.dispatchEvent(e)}}},{key:"stylePreselectedCurriculum",value:function(){var e=document.querySelector("#preselected_curriculum");null!==e&&"none"!=e.style.display?(document.querySelector("#preselected_curriculum").closest(".card").classList.add("border-success"),document.querySelector("#preselected_curriculum").closest(".col-md-4").style.pointerEvents="none"):null!==e&&document.querySelector("#preselected_curriculum").closest(".card").classList.add("border-success")}},{key:"updateCurriculumValue",value:function(e){var n=e.target;if("none"!=n.style.display?(n.closest(".col-md-4").style.pointerEvents="none",n.closest(".card").classList.toggle("border-success")):(n.closest(".card").classList.add("border-success"),n.checked=!0),document.getElementById("curriculum_id_selected").value=n.value,n.checked)for(var t=document.getElementsByClassName("select-curriculum").length,a=0;a<t;a++){var i=document.getElementsByClassName("select-curriculum")[a];i!=n&&(i.checked=!1,i.closest(".card").classList.remove("border-success"),i.closest(".col-md-4").style.pointerEvents="auto")}}},{key:"updateCurriculumsPrices",value:function(){var e=document.querySelector(".select-promo"),n=new Date(e.options[e.selectedIndex].dataset.startDate),t=new Date,a=new Date(n);a.setDate(a.getDate()-3),a.setHours(23,59,59);for(var i=document.querySelectorAll(".thp-curriculum-price"),o=0;o<i.length;o++){var r=parseInt(i[o].dataset.earlyPrice)/100,s=parseInt(i[o].dataset.latePrice)/100;t<a&&"fullstack"===i[o].dataset.name||t<n&&"fullstack"!==i[o].dataset.name?(i[o].innerText=r,i[o].dataset.priceOption="early-price"):(i[o].innerText=s,i[o].dataset.priceOption="late-price")}}},{key:"updateSelectedCurriculumPrice",value:function(){for(var e=document.querySelectorAll(".select-curriculum"),n=0;n<e.length;n++)if(!0===e[n].checked){var t=e[n].closest(".card").querySelector(".thp-curriculum-price");if("early-price"===t.dataset.priceOption)var a=t.dataset.earlyPrice;else a=t.dataset.latePrice;break}var i=document.getElementById("selected_curriculum_price"),o=new Event("change");i.value=a,i.dispatchEvent(o)}},{key:"disableValidationButton",value:function(){}},{key:"lockAllSelections",value:function(){document.querySelectorAll(".card")[1].style.pointerEvents="none"}},{key:"validateForm",value:function(){document.querySelector(".thp-curriculum-subscription-form").submit()}},{key:"updateCandidaciesPromotionId",value:function(){var e=document.querySelector(".select-promo"),n="promotion_id="+e.options[e.selectedIndex].dataset.promoId,t=document.querySelectorAll(".thp-candidacy_button"),a=/promotion_id=\d+/i,i=!0,o=!1,r=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=l.href.replace(a,n);l.href=u}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}}]),e}(),h=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var f=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return h(e,[{key:"init",value:function(){var e=this;console.log("JS CurriculumSubscriptionView edit loaded"),document.querySelector(".promotion-edit")?(console.log("document.querySelector('.select-promo') = true"),this.promotionDisableValidationButton(),document.querySelector(".select-promo").addEventListener("change",function(n){e.promotionDisableValidationButton()})):document.querySelector(".curriculum-edit")&&(this.stylePreselectedCurriculum(),this.updateCurriculumsPrices(),this.updateSelectedCurriculumPrice(),this.disableValidationButton(),document.querySelector(".select-promo").addEventListener("change",function(){e.updateCurriculumsPrices(),e.updateSelectedCurriculumPrice()}),document.querySelectorAll(".col-md-4").forEach(function(n){n.addEventListener("click",function(n){return e.toggleCheckedBox(n)})}),document.querySelectorAll(".select-curriculum").forEach(function(n){n.addEventListener("change",function(n){e.updateCurriculumValue(n),e.updateCurriculumsPrices(n),e.updateSelectedCurriculumPrice(),e.disableValidationButton()})}),document.getElementById("cdp").addEventListener("change",function(){return e.disableValidationButton()}),document.getElementById("full_time_job").addEventListener("change",function(){return e.disableValidationButton()}),document.getElementById("no_constraint").addEventListener("change",function(){return e.disableValidationButton()}))}},{key:"stylePreselectedCurriculum",value:function(){var e=document.querySelector("#preselected_curriculum");null!==e&&"none"!=e.style.display?(document.querySelector("#preselected_curriculum").closest(".card").classList.add("border-success"),document.querySelector("#preselected_curriculum").closest(".col-md-4").style.pointerEvents="none"):null!==e&&document.querySelector("#preselected_curriculum").closest(".card").classList.add("border-success")}},{key:"updateCurriculumsPrices",value:function(){var e=document.querySelector(".select-promo"),n=new Date(e.dataset.startDate),t=new Date,a=new Date(n);a.setDate(a.getDate()-3),a.setHours(23,59,59);for(var i=document.querySelectorAll(".thp-curriculum-price"),o=0;o<i.length;o++){var r=parseInt(i[o].dataset.earlyPrice)/100,s=parseInt(i[o].dataset.latePrice)/100;t<a&&"fullstack"===i[o].dataset.name||t<n&&"fullstack"!==i[o].dataset.name?(i[o].innerText=r,i[o].dataset.priceOption="early-price"):(i[o].innerText=s,i[o].dataset.priceOption="late-price")}}},{key:"updateSelectedCurriculumPrice",value:function(){for(var e=document.querySelectorAll(".select-curriculum"),n=0;n<e.length;n++)if(!0===e[n].checked){var t=e[n].closest(".card").querySelector(".thp-curriculum-price");if("early-price"===t.dataset.priceOption)var a=t.dataset.earlyPrice;else a=t.dataset.latePrice;break}var i=document.getElementById("selected_curriculum_price"),o=new Event("change");i.value=a,i.dispatchEvent(o)}},{key:"disableValidationButton",value:function(){for(var e=document.querySelectorAll(".select-curriculum"),n=0;n<e.length;n++)if(!0===e[n].checked){var t=!0;break}if(document.querySelector("#cdp").checked&&document.querySelector("#full_time_job").checked&&document.querySelector("#no_constraint").checked)var a=!0;else a=!1;!0===t&&"0"!==document.getElementById("selected_curriculum_price").value?document.getElementById("thp-validation-subscription-button").style.display="none":!0===t&&!0===a&&"0"===document.getElementById("selected_curriculum_price").value?(document.getElementById("thp-validation-subscription-button").style.display="block",document.getElementById("thp-validation-subscription-button").disabled=!1):(document.getElementById("thp-validation-subscription-button").style.display="block",document.getElementById("thp-validation-subscription-button").disabled=!0),document.getElementById("btn-pay")&&(document.getElementById("btn-pay").disabled=!0!==a)}},{key:"toggleCheckedBox",value:function(e){var n=e.target.closest(".col-md-4").querySelector(".select-curriculum");if(e.target!==e.target.closest(".col-md-4").querySelector(".select-curriculum")){n.checked?n.checked=!1:n.checked=!0;e=new Event("change");n.dispatchEvent(e)}}},{key:"updateCurriculumValue",value:function(e){var n=e.target;if("none"!=n.style.display?(n.closest(".col-md-4").style.pointerEvents="none",n.closest(".card").classList.toggle("border-success")):(n.closest(".card").classList.add("border-success"),n.checked=!0),document.getElementById("curriculum_id_selected").value=n.value,n.checked)for(var t=document.getElementsByClassName("select-curriculum").length,a=0;a<t;a++){var i=document.getElementsByClassName("select-curriculum")[a];i!=n&&(i.checked=!1,i.closest(".card").classList.remove("border-success"),i.closest(".col-md-4").style.pointerEvents="auto")}}},{key:"promotionDisableValidationButton",value:function(){var e=!1,n=document.getElementById("thp-validate-modification-button");e=document.querySelector(".select-promo").value!==document.getElementById("default_promotion_id").value,n.disabled=!1===e}}]),e}(),v=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function g(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var y=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return v(e,[{key:"init",value:function(){var e=this;this.curriculumTabLinks=[].concat(g(document.getElementsByClassName("curriculum-tablink"))),this.curriculumTabLinks.forEach(function(n){return n.addEventListener("click",function(n){return e.switchTab(n)})})}},{key:"removeActiveClassFromAllTabLinks",value:function(){this.curriculumTabLinks.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")})}},{key:"hideAllTabPanels",value:function(){[].concat(g(document.getElementsByClassName("curriculum-content-panel"))).forEach(function(e){"block"===e.style.display&&(e.style.display="none")})}},{key:"addActiveClass",value:function(e){var n=e.target;n.classList.contains("active")||n.classList.add("active")}},{key:"showTabPanel",value:function(e){var n=e.target.getAttribute("data-course");document.getElementById(n+"-tree-tab").style.display="block"}},{key:"switchTab",value:function(e){this.removeActiveClassFromAllTabLinks(),this.hideAllTabPanels(),this.addActiveClass(e),this.showTabPanel(e)}}]),e}(),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();!function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}w(e,[{key:"init",value:function(){var e=this;this.init_linkPaymentForm(),this.prepareCardElements(),window.THP.Stripe.paymentForm.addEventListener("submit",function(n){return e.createPayment(n)}),document.getElementById("selected_curriculum_price").addEventListener("change",function(){return e.priceChanged()}),this.triggerPriceEvent()}},{key:"triggerPriceEvent",value:function(){var e=new Event("change");document.getElementById("selected_curriculum_price").dispatchEvent(e)}},{key:"init_linkPaymentForm",value:function(){window.THP.Stripe.paymentForm=document.querySelector("form.thp-payment-form")}},{key:"displayPaymentForm",value:function(e){window.THP.Stripe.paymentForm.classList.remove(e?"invisible":"visible"),window.THP.Stripe.paymentForm.classList.add(e?"visible":"invisible")}},{key:"displayCdp",value:function(e){document.getElementById("thp-cdp").style.display=e?"block":"none"}},{key:"priceChanged",value:function(e){var n=document.getElementById("selected_curriculum_price").value;this.displayPaymentForm("undefined"!=n&&0!=n&&15e4>n),this.displayCdp(15e4>n),document.getElementById("pricing").innerHTML=n/100}},{key:"toggleChildrenInputs",value:function(e){window.THP.Stripe.paymentForm.querySelectorAll("input, button").forEach(function(n){n.readOnly=e})}},{key:"stripePrepareBillingDetails",value:function(e){var n=e.querySelector("#address"),t=e.querySelector("#city"),a=e.querySelector("#postal_code"),i=e.querySelector("#country"),o=e.querySelector("#phone-number");return{address:{city:t?t.value:void 0,country:i?i.value:void 0,line1:n?n.value:void 0,postal_code:a?a.value:void 0},phone:o?o.value:void 0}}},{key:"prepareApiClient",value:function(){window.THP.Stripe.stripeClient||(window.THP.Stripe.publishable_key?window.THP.Stripe.stripeClient=Stripe(window.THP.Stripe.publishable_key):setErrorsInPaymentForm(!0,!0,!0,"Il y a eu une erreur lors du paiement, merci de nous contacter (Stripe pas accessible)"))}},{key:"createPayment",value:function(e){var n=this;if([].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(document.querySelectorAll("#cdp, #full_time_job, #no_constraint"))).every(function(e){return e.checked})){if(e.preventDefault(),!window.THP.Stripe.paymentForm)return this.setErrorsInPaymentForm(!0,!0,!0,"Il y a eu une erreur lors du paiement, merci de nous contacter (Payment Form not accessible)");this.prepareApiClient();window.THP.Stripe.stripeClient.createPaymentMethod("card",window.THP.Stripe.cardElements[0],{}).then(function(e){return n.stripePaymentMethodResponseHandler(e)}),this.togglePaymentButton(!1)}}},{key:"stripePaymentMethodResponseHandler",value:function(e){e.error?(this.setErrorsInPaymentForm(!0,!0,!0,"Il y a eu une erreur lors du paiement, merci de vérifier les informations de ta carte"),this.toggleChildrenInputs(!1)):(document.querySelector("#stripePaymentMethodID").value=e.paymentMethod.id,this.togglePaymentButton(!1),this.createPaymentIntent())}},{key:"PaymentFlowFinished",value:function(e){e.error?this.setErrorsInPaymentForm(!0,!0,!0,"Il y a eu une erreur lors du paiement, merci de nous contacter"):("object"===(void 0===e?"undefined":b(e))&&"paymentIntent"in e&&"requires_confirmation"==e.paymentIntent.status?(document.querySelector("#stripePaymentIntentID").value=e.paymentIntent.id,document.querySelector("#purchase_id").value=e.id):(document.querySelector("#stripePaymentIntentID").value=e.id,document.querySelector("#purchase_id").value=e.purchase.id),"production"==window.THP.environment&&fbq("track","Purchase"),this.validatePaymentForm())}},{key:"togglePaymentButton",value:function(e){e?(document.getElementById("btn-pay").disabled=!1,document.getElementById("btn-pay").value="Payer",document.querySelector(".fa-spin").classList.add("invisible")):(document.getElementById("btn-pay").disabled=!0,document.getElementById("btn-pay").value="Paiement en cours, merci de patienter",document.querySelector(".fa-spin").classList.remove("invisible"))}},{key:"paymentIntentCreated",value:function(e,n,t){var a=this;null!=e.payment_intent?(this.togglePaymentButton(!1),"requires_action"==e.payment_intent.status?(document.querySelector("#purchase_id").value=e.purchase.id,document.querySelector("#stripePaymentIntentID").value=e.payment_intent.id,window.THP.Stripe.stripeClient.handleCardAction(e.payment_intent.client_secret).then(function(e){return a.threeDsecureActionHandled(e)})):this.PaymentFlowFinished(e)):this.setErrorsInPaymentForm(!0,!0,!0,"Votre moyen de payment a été refusé, merci de réessayer")}},{key:"threeDsecureActionHandled",value:function(e){e.error?this.payment3DsecureFail(e):this.finalizePaymentIntent()}},{key:"payment3DsecureFail",value:function(e){this.setErrorsInPaymentForm(!0,!0,!0,"Votre moyen de payment a été refusé, merci de réessayer")}},{key:"finalizePaymentIntent",value:function(){var e=this;this.togglePaymentButton(!1);var n=this.preparePaymentIntentParams();n.payment.stripe_payment_intent_id=this.getStripePaymentIntentId();var t=window.THP.views.getCsrfToken(),a=$("#stripePreparePaymentPath")[0].value,i=document.querySelector("#purchase_id").value;a=a.replace(".json","/"+i+".json"),$.ajax({type:"PUT",datatype:"json",contentType:"application/json",url:a,context:document.body,data:JSON.stringify(n),headers:{"X-CSRF-Token":t},always:null,success:function(n,t,a){return e.PaymentFlowFinished(n,t,a)},error:function(n,t,a){return e.payment3DsecureFail(n,t,a)}})}},{key:"paymentIntentFailed",value:function(e,n,t){this.setErrorsInPaymentForm(!0,!0,!0,e.responseText)}},{key:"validatePaymentForm",value:function(){this.togglePaymentButton(!1),window.THP.curriculumSubscriptionView.validateForm()}},{key:"getSelectedCurriculumId",value:function(){return document.querySelector("#curriculum_id_selected").value}},{key:"getSelectedCurriculumPrice",value:function(){return document.querySelector("#selected_curriculum_price").value}},{key:"getSelectedPurchaseOption",value:function(){return"late_price"}},{key:"getPaymentAmount",value:function(){return document.querySelector("#selected_curriculum_price").value}},{key:"getStripePaymentMethodId",value:function(){return document.querySelector("#stripePaymentMethodID").value}},{key:"getStripePaymentIntentId",value:function(){return document.querySelector("#stripePaymentIntentID").value}},{key:"preparePaymentIntentParams",value:function(){var e={curriculum:{}};return e.curriculum.id=this.getSelectedCurriculumId(),e.curriculum.price=this.getSelectedCurriculumPrice(),e.purchase={},e.purchase.option=this.getSelectedPurchaseOption(),e.payment={},e.payment.amount=this.getPaymentAmount(),e.payment.stripe_payment_method_id=this.getStripePaymentMethodId(),e}},{key:"createPaymentIntent",value:function(){var e=this;this.togglePaymentButton(!1);var n=this.preparePaymentIntentParams(),t=window.THP.views.getCsrfToken(),a=$("#stripePreparePaymentPath")[0].value;$.ajax({type:"POST",datatype:"json",contentType:"application/json",url:a,context:document.body,data:JSON.stringify(n),headers:{"X-CSRF-Token":t},always:null,success:function(n,t,a){return e.paymentIntentCreated(n,t,a)},error:function(n,t,a){return e.paymentIntentFailed(n,t,a)}})}},{key:"prepareCardElements",value:function(){this.prepareApiClient();var e=window.THP.Stripe.stripeClient.elements({fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Muli"}],locale:"auto"}),n={base:{color:"#3b4781",fontFamily:"Muli",fontSize:"16px",fontSmoothing:"antialiased",":focus":{color:"#424770"},"::placeholder":{color:"#9BACC8"},":focus::placeholder":{color:"#CFD7DF"}},invalid:{color:"#fa626b",":focus":{color:"#fa626b"},"::placeholder":{color:"#fa626b"}}},t={focus:"focus",empty:"empty",invalid:"invalidated"},a=e.create("cardNumber",{style:n,classes:t});a.mount("#credit-card-number"),a.on("change",this.clearPaymentErrorMessages);var i=e.create("cardExpiry",{style:n,classes:t});i.mount("#credit-card-expiry"),i.on("change",this.clearPaymentErrorMessages);var o=e.create("cardCvc",{style:n,classes:t});return o.mount("#credit-card-cvc"),o.on("change",this.clearPaymentErrorMessages),window.THP.Stripe.cardElements=[a,i,o],window.THP.Stripe.cardElements}},{key:"paymentIsNeeded",value:function(){return"free"!=$("select.pricing-select option:selected").val()}},{key:"setErrorsInPaymentForm",value:function(e,n,t,a){this.clearPaymentErrorMessages(),window.THP.Notifications.notify("error",a),1==e&&$(".thp-payment-form #credit-card-number").addClass("invalidated"),1==n&&$(".thp-payment-form #credit-card-expiry").addClass("invalidated"),1==t&&$(".thp-payment-form #credit-card-cvc").addClass("invalidated"),this.paymentAddErrorMessage(a),this.togglePaymentButton(!0)}},{key:"clearPaymentErrorMessages",value:function(){$(".thp-payment-form .form-control.invalidated").removeClass("invalidated"),$(".thp-payment-form #card-errors").empty()}},{key:"paymentAddErrorMessage",value:function(e){var n="<span class='message generic-error'>"+e+"</span>";$(".thp-payment-form #card-errors").append(n),$(".thp-payment-form #card-errors").addClass("visible")}}])}();var C=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var S=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,[{key:"init",value:function(){window.THP.views=new o,window.THP.correctionView=new l,window.addEventListener("DOMContentLoaded",function(e){window.THP.views.triggerScriptForAction("days","show","dashboard")&&window.THP.correctionView.init()}),window.addEventListener("DOMContentLoaded",function(e){window.THP.dailySurveyView=new d,window.THP.views.triggerScriptForAction("dashboard","daily_survey","dashboard")&&window.THP.dailySurveyView.init()}),window.addEventListener("DOMContentLoaded",function(e){window.THP.curriculumSubscriptionView=new p,window.THP.views.triggerScriptForAction("curriculum_subscriptions","new","dashboard")&&window.THP.curriculumSubscriptionView.init()}),window.addEventListener("DOMContentLoaded",function(e){window.THP.views.triggerScriptForAction("curriculum_subscriptions","edit","dashboard")&&(window.THP.curriculumSubscriptionEditView=new f,window.THP.curriculumSubscriptionEditView.init(),window.THP.payment.init())}),window.addEventListener("DOMContentLoaded",function(){window.THP.views.triggerScriptForAction("dashboard","dashboard","dashboard")&&(window.THP.curriculumTree=new y,window.THP.curriculumTree.init())})}}]),e}();window.BlPack=new S,window.BlPack.init(),console.log("THP BL pack loaded")},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){$(document).ready(function(){$("#pricing")&&$("#pricing").html($(".pricing-select option:selected").data("price")),$("select.pricing-select").change(function(){$("#pricing").html($(".pricing-select option:selected").data("price")),$(".pricing-select option:selected").val()});$("#example-3").validate({errorPlacement:function(e,n){n.hasClass("customError")?e.insertBefore($(".display-error")):e.insertAfter(n)},rules:{checkbox:{required:!0,minlength:4},phone:{number:!0,minlength:10}},messages:{checkbox:{required:"Oups !N'oublie pas de cocher toutes les cases ;) ",minlength:"Oups ! N'oublie de cocher toutes les cases ;)"}}})})},function(e,n){var t=document.getElementById("word_counter1"),a=document.getElementById("word_counter2"),i=document.getElementById("title"),o=document.getElementById("short_description"),r=function(e,n){n.addEventListener("keyup",function(n){var t="("+this.value.length+"/"+e.innerHTML.split("/").pop().slice(0,-1)+")";e.innerHTML=t})};t&&r(t,i),a&&r(a,o)},function(e,n){},function(e,n){},function(e,n){},function(e,n){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Unison=function(){"use strict";var e,n=window,a=document,i=a.head,o={},r=!1,s={parseMQ:function(e){return n.getComputedStyle(e,null).getPropertyValue("font-family").replace(/"/g,"").replace(/'/g,"")},debounce:function(e,n,t){var a;return function(){var i=this,o=arguments;clearTimeout(a),a=setTimeout(function(){a=null,t||e.apply(i,o)},n),t&&!a&&e.apply(i,o)}},isObject:function(e){return"object"===(void 0===e?"undefined":t(e))},isUndefined:function(e){return void 0===e}},c={on:function(e,n){s.isObject(o[e])||(o[e]=[]),o[e].push(n)},emit:function(e,n){if(s.isObject(o[e]))for(var t=o[e].slice(),a=0;a<t.length;a++)t[a].call(this,n)}},l={all:function(){for(var e={},n=s.parseMQ(a.querySelector("title")).split(","),t=0;t<n.length;t++){var i=n[t].trim().split(" ");e[i[0]]=i[1]}return r?e:null},now:function(e){var n=s.parseMQ(i).split(" "),t={name:n[0],width:n[1]};return r?s.isUndefined(e)?t:e(t):null},update:function(){l.now(function(n){n.name!==e&&(c.emit(n.name),c.emit("change",n),e=n.name)})}};return n.onresize=s.debounce(l.update,100),a.addEventListener("DOMContentLoaded",function(){r="none"!==n.getComputedStyle(i,null).getPropertyValue("clear"),l.update()}),{fetch:{all:l.all,now:l.now},on:c.on,emit:c.emit,util:{debounce:s.debounce,isObject:s.isObject}}}()},function(e,n){!function(e,n,t){"use strict";t.app=t.app||{};var a=t("body"),i=t(e),o=t('div[data-menu="menu-wrapper"]').html(),r=t('div[data-menu="menu-wrapper"]').attr("class");t.app.menu={expanded:null,collapsed:null,hidden:null,container:null,horizontalMenu:!1,manualScroller:{obj:null,init:function(){t(".main-menu").hasClass("menu-dark")},update:function(){var e;this.obj&&(!0===t(".main-menu").data("scroll-to-active")&&(e=t(".main-menu-content").find("li.active").parents("li").length>0?t(".main-menu-content").find("li.active").parents("li").last().position():t(".main-menu-content").find("li.active").position(),setTimeout(function(){void 0!==e&&t.app.menu.container.stop().animate({scrollTop:e.top},300),t(".main-menu").data("scroll-to-active","false")},300)))},enable:function(){this.init()},disable:function(){this.obj&&t(".main-menu-content").perfectScrollbar("destroy")},updateHeight:function(){"vertical-menu"!=a.data("menu")&&"vertical-menu-modern"!=a.data("menu")&&"vertical-overlay-menu"!=a.data("menu")||!t(".main-menu").hasClass("menu-fixed")||(t(".main-menu-content").css("height",t(e).height()-t(".header-navbar").height()-t(".main-menu-header").outerHeight()-t(".main-menu-footer").outerHeight()),this.update())}},init:function(e){if(t(".main-menu-content").length>0){this.container=t(".main-menu-content");var n="";if(!0===e&&(n="collapsed"),"vertical-menu-modern"==a.data("menu")){var i="";"undefined"!=typeof Storage&&(i=localStorage.getItem("menuLocked")),"false"===i?this.change("collapsed"):this.change()}else this.change(n)}else this.drillDownMenu()},drillDownMenu:function(e){t(".drilldown-menu").length&&("sm"==e||"xs"==e?"true"==t("#navbar-mobile").attr("aria-expanded")&&t(".drilldown-menu").slidingMenu({backLabel:!0}):t(".drilldown-menu").slidingMenu({backLabel:!0}))},change:function(e){var n=Unison.fetch.now();this.reset();var i=a.data("menu");if(n)switch(n.name){case"xl":case"lg":"vertical-overlay-menu"===i?this.hide():"horizontal-menu"===i&&"lg"==n.name?this.collapse():"collapsed"===e?this.collapse(e):this.expand();break;case"md":"vertical-overlay-menu"===i?this.hide():this.collapse();break;case"sm":case"xs":this.hide()}"vertical-menu"!==i&&"vertical-menu-modern"!==i||this.toOverlayMenu(n.name),a.is(".horizontal-layout")&&!a.hasClass(".horizontal-menu-demo")&&(this.changeMenu(n.name),t(".menu-toggle").removeClass("is-active")),"horizontal-menu"!=i&&this.drillDownMenu(n.name),"xl"==n.name&&(t('body[data-open="hover"] .dropdown').on("mouseenter",function(){t(this).hasClass("show")?t(this).removeClass("show"):t(this).addClass("show")}).on("mouseleave",function(e){t(this).removeClass("show")}),t('body[data-open="hover"] .dropdown a').on("click",function(e){if("horizontal-menu"==i&&t(this).hasClass("dropdown-toggle"))return!1})),t(".header-navbar").hasClass("navbar-brand-center")&&t(".header-navbar").attr("data-nav","brand-center"),"sm"==n.name||"xs"==n.name?t(".header-navbar[data-nav=brand-center]").removeClass("navbar-brand-center"):t(".header-navbar[data-nav=brand-center]").addClass("navbar-brand-center"),t("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(e){t(this).siblings("ul.dropdown-menu").length>0&&e.preventDefault(),e.stopPropagation(),t(this).parent().siblings().removeClass("show"),t(this).parent().toggleClass("show")}),"horizontal-menu"==i&&("sm"==n.name||"xs"==n.name?t(".menu-fixed").length&&t(".menu-fixed").unstick():t(".navbar-fixed").length&&t(".navbar-fixed").sticky()),"vertical-menu"!==i&&"vertical-overlay-menu"!==i||(jQuery.expr[":"].Contains=function(e,n,t){return(e.textContent||e.innerText||"").toUpperCase().indexOf(t[3].toUpperCase())>=0},function(e){var n=t(".menu-search");t(n).change(function(){var n=t(this).val();if(n){t(".navigation-header").hide(),t(e).find("li a:not(:Contains("+n+"))").hide().parent().hide();var a=t(e).find("li a:Contains("+n+")");a.parent().hasClass("has-sub")?(a.show().parents("li").show().addClass("open").closest("li").children("a").show().children("li").show(),a.siblings("ul").length>0&&a.siblings("ul").children("li").show().children("a").show()):a.show().parents("li").show().addClass("open").closest("li").children("a").show()}else t(".navigation-header").show(),t(e).find("li a").show().parent().show().removeClass("open");return t.app.menu.manualScroller.update(),!1}).keyup(function(){t(this).change()})}(t("#main-menu-navigation")))},transit:function(e,n){var i=this;a.addClass("changing-menu"),e.call(i),a.hasClass("vertical-layout")&&(a.hasClass("menu-open")||a.hasClass("menu-expanded")?(t(".menu-toggle").addClass("is-active"),"vertical-menu"===a.data("menu")&&t(".main-menu-header")&&t(".main-menu-header").show()):(t(".menu-toggle").removeClass("is-active"),"vertical-menu"===a.data("menu")&&t(".main-menu-header")&&t(".main-menu-header").hide())),setTimeout(function(){n.call(i),a.removeClass("changing-menu"),i.update()},500)},open:function(){this.transit(function(){a.removeClass("menu-hide menu-collapsed").addClass("menu-open"),this.hidden=!1,this.expanded=!0},function(){!t(".main-menu").hasClass("menu-native-scroll")&&t(".main-menu").hasClass("menu-fixed")&&(this.manualScroller.enable(),t(".main-menu-content").css("height",t(e).height()-t(".header-navbar").height()-t(".main-menu-header").outerHeight()-t(".main-menu-footer").outerHeight()))})},hide:function(){this.transit(function(){a.removeClass("menu-open menu-expanded").addClass("menu-hide"),this.hidden=!0,this.expanded=!1},function(){!t(".main-menu").hasClass("menu-native-scroll")&&t(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable()})},expand:function(){!1===this.expanded&&("vertical-menu-modern"==a.data("menu")&&(t(".modern-nav-toggle").find(".toggle-icon").removeClass("ft-circle").addClass("ft-disc"),"undefined"!=typeof Storage&&localStorage.setItem("menuLocked","true")),this.transit(function(){a.removeClass("menu-collapsed").addClass("menu-expanded"),this.collapsed=!1,this.expanded=!0},function(){t(".main-menu").hasClass("menu-native-scroll")||"horizontal-menu"==a.data("menu")?this.manualScroller.disable():t(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable(),"vertical-menu"!=a.data("menu")&&"vertical-menu-modern"!=a.data("menu")||!t(".main-menu").hasClass("menu-fixed")||t(".main-menu-content").css("height",t(e).height()-t(".header-navbar").height()-t(".main-menu-header").outerHeight()-t(".main-menu-footer").outerHeight())}))},collapse:function(n){!1===this.collapsed&&("vertical-menu-modern"==a.data("menu")&&(t(".modern-nav-toggle").find(".toggle-icon").removeClass("ft-disc").addClass("ft-circle"),"undefined"!=typeof Storage&&localStorage.setItem("menuLocked","false")),this.transit(function(){a.removeClass("menu-expanded").addClass("menu-collapsed"),this.collapsed=!0,this.expanded=!1},function(){"horizontal-menu"==a.data("menu")&&a.hasClass("vertical-overlay-menu")&&t(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable(),"vertical-menu"!=a.data("menu")&&"vertical-menu-modern"!=a.data("menu")||!t(".main-menu").hasClass("menu-fixed")||t(".main-menu-content").css("height",t(e).height()-t(".header-navbar").height()),"vertical-menu-modern"==a.data("menu")&&t(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable()}))},toOverlayMenu:function(e){var n=a.data("menu");"sm"==e||"xs"==e?a.hasClass(n)&&a.removeClass(n).addClass("vertical-overlay-menu"):a.hasClass("vertical-overlay-menu")&&a.removeClass("vertical-overlay-menu").addClass(n)},changeMenu:function(e){t('div[data-menu="menu-wrapper"]').html(""),t('div[data-menu="menu-wrapper"]').html(o);var n=t('div[data-menu="menu-wrapper"]'),i=(t('div[data-menu="menu-container"]'),t('ul[data-menu="menu-navigation"]')),s=t('li[data-menu="megamenu"]'),c=t("li[data-mega-col]"),l=t('li[data-menu="dropdown"]'),u=t('li[data-menu="dropdown-submenu"]');"sm"==e||"xs"==e?(a.removeClass(a.data("menu")).addClass("vertical-layout vertical-overlay-menu fixed-navbar"),t("nav.header-navbar").addClass("fixed-top"),n.removeClass().addClass("main-menu menu-light menu-fixed menu-shadow"),i.removeClass().addClass("navigation navigation-main"),s.removeClass("dropdown mega-dropdown").addClass("has-sub"),s.children("ul").removeClass(),c.each(function(e,n){t(n).find(".mega-menu-sub").find("li").has("ul").addClass("has-sub");var a=t(n).children().first(),i="";a.is("h6")&&(i=a.html(),a.remove(),t(n).prepend('<a href="#">'+i+"</a>").addClass("has-sub mega-menu-title"))}),s.find("a").removeClass("dropdown-toggle"),s.find("a").removeClass("dropdown-item"),l.removeClass("dropdown").addClass("has-sub"),l.find("a").removeClass("dropdown-toggle nav-link"),l.children("ul").find("a").removeClass("dropdown-item"),l.find("ul").removeClass("dropdown-menu"),u.removeClass().addClass("has-sub"),t.app.nav.init(),t("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(e){e.preventDefault(),e.stopPropagation(),t(this).parent().siblings().removeClass("open"),t(this).parent().toggleClass("open")})):(a.removeClass("vertical-layout vertical-overlay-menu fixed-navbar").addClass(a.data("menu")),t("nav.header-navbar").removeClass("fixed-top"),n.removeClass().addClass(r),this.drillDownMenu(e),t("a.dropdown-item.nav-has-children").on("click",function(){event.preventDefault(),event.stopPropagation()}),t("a.dropdown-item.nav-has-parent").on("click",function(){event.preventDefault(),event.stopPropagation()}))},toggle:function(){var e=Unison.fetch.now(),n=(this.collapsed,this.expanded),t=this.hidden,i=a.data("menu");switch(e.name){case"xl":case"lg":case"md":!0===n?"vertical-overlay-menu"==i?this.hide():this.collapse():"vertical-overlay-menu"==i?this.open():this.expand();break;case"sm":case"xs":!0===t?this.open():this.hide()}this.drillDownMenu(e.name)},update:function(){this.manualScroller.update()},reset:function(){this.expanded=!1,this.collapsed=!1,this.hidden=!1,a.removeClass("menu-hide menu-open menu-collapsed menu-expanded")}},t.app.nav={container:t(".navigation-main"),initialized:!1,navItem:t(".navigation-main").find("li").not(".navigation-category"),config:{speed:300},init:function(e){this.initialized=!0,t.extend(this.config,e),this.bind_events()},bind_events:function(){var e=this;t(".navigation-main").on("mouseenter.app.menu","li",function(){var n=t(this);if(t(".hover",".navigation-main").removeClass("hover"),a.hasClass("menu-collapsed")&&"vertical-menu-modern"!=a.data("menu")){t(".main-menu-content").children("span.menu-title").remove(),t(".main-menu-content").children("a.menu-title").remove(),t(".main-menu-content").children("ul.menu-content").remove();var i,o,r=n.find("span.menu-title").clone();n.hasClass("has-sub")||(i=n.find("span.menu-title").text(),o=n.children("a").attr("href"),""!==i&&((r=t("<a>")).attr("href",o),r.attr("title",i),r.text(i),r.addClass("menu-title")));var s;t(".navbar-header").length&&t(".navbar-header").height();if(s=n.css("border-top")?n.offset().top+parseInt(n.css("border-top"),10):n.offset().top,r.appendTo(".main-menu-content").css({position:"fixed",top:s}),n.hasClass("has-sub")&&n.hasClass("nav-item")){n.children("ul:first");e.adjustSubmenu(n)}}n.addClass("hover")}).on("mouseleave.app.menu","li",function(){}).on("active.app.menu","li",function(e){t(this).addClass("active"),e.stopPropagation()}).on("deactive.app.menu","li.active",function(e){t(this).removeClass("active"),e.stopPropagation()}).on("open.app.menu","li",function(n){var a=t(this);if(a.addClass("open"),e.expand(a),t(".main-menu").hasClass("menu-collapsible"))return!1;a.siblings(".open").find("li.open").trigger("close.app.menu"),a.siblings(".open").trigger("close.app.menu"),n.stopPropagation()}).on("close.app.menu","li.open",function(n){var a=t(this);a.removeClass("open"),e.collapse(a),n.stopPropagation()}).on("click.app.menu","li",function(e){var n=t(this);n.is(".disabled")?e.preventDefault():a.hasClass("menu-collapsed")&&"vertical-menu-modern"!=a.data("menu")?e.preventDefault():n.has("ul")?n.is(".open")?n.trigger("close.app.menu"):n.trigger("open.app.menu"):n.is(".active")||(n.siblings(".active").trigger("deactive.app.menu"),n.trigger("active.app.menu")),e.stopPropagation()}),t(".navbar-header, .main-menu").on("mouseenter",function(){if("vertical-menu-modern"==a.data("menu")&&(t(".main-menu, .navbar-header").addClass("expanded"),a.hasClass("menu-collapsed"))){var e=t(".main-menu li.menu-collapsed-open"),n=e.children("ul");n.hide().slideDown(200,function(){t(this).css("display","")}),e.addClass("open").removeClass("menu-collapsed-open")}}).on("mouseleave",function(){a.hasClass("menu-collapsed")&&"vertical-menu-modern"==a.data("menu")&&setTimeout(function(){if(0===t(".main-menu:hover").length&&0===t(".navbar-header:hover").length&&(t(".main-menu, .navbar-header").removeClass("expanded"),a.hasClass("menu-collapsed"))){var e=t(".main-menu li.open"),n=e.children("ul");e.addClass("menu-collapsed-open"),n.show().slideUp(200,function(){t(this).css("display","")}),e.removeClass("open")}},1)}),t(".main-menu-content").on("mouseleave",function(){a.hasClass("menu-collapsed")&&(t(".main-menu-content").children("span.menu-title").remove(),t(".main-menu-content").children("a.menu-title").remove(),t(".main-menu-content").children("ul.menu-content").remove()),t(".hover",".navigation-main").removeClass("hover")}),t(".navigation-main li.has-sub > a").on("click",function(e){e.preventDefault()}),t("ul.menu-content").on("click","li",function(n){var a=t(this);if(a.is(".disabled"))n.preventDefault();else if(a.has("ul"))if(a.is(".open"))a.removeClass("open"),e.collapse(a);else{if(a.addClass("open"),e.expand(a),t(".main-menu").hasClass("menu-collapsible"))return!1;a.siblings(".open").find("li.open").trigger("close.app.menu"),a.siblings(".open").trigger("close.app.menu"),n.stopPropagation()}else a.is(".active")||(a.siblings(".active").trigger("deactive.app.menu"),a.trigger("active.app.menu"));n.stopPropagation()})},adjustSubmenu:function(e){var n,a,o,r,s,c,l=e.children("ul:first"),u=l.clone(!0);n=t(".navbar-header").height(),a=e.offset().top-n,r=i.height()-t(".header-navbar").height(),c=0,l.height(),parseInt(e.css("border-top"),10)>0&&(c=parseInt(e.css("border-top"),10)),s=r-a-e.height()-30,t(".main-menu").hasClass("menu-dark"),o=n+a+e.height()+c,u.addClass("menu-popout").appendTo(".main-menu-content").css({top:o,position:"fixed","max-height":s})},collapse:function(e,n){e.children("ul").show().slideUp(t.app.nav.config.speed,function(){t(this).css("display",""),t(this).find("> li").removeClass("is-shown"),n&&n(),t.app.nav.container.trigger("collapsed.app.menu")})},expand:function(e,n){var a=e.children("ul"),i=a.children("li").addClass("is-hidden");a.hide().slideDown(t.app.nav.config.speed,function(){t(this).css("display",""),n&&n(),t.app.nav.container.trigger("expanded.app.menu")}),setTimeout(function(){i.addClass("is-shown"),i.removeClass("is-hidden")},0)},refresh:function(){t.app.nav.container.find(".open").removeClass("open")}}}(window,document,jQuery)},function(e,n){!function(e,n,t){"use strict";var a=t("html"),i=t("body");t(e).on("load",function(){t("html").data("textdirection"),setTimeout(function(){a.removeClass("loading").addClass("loaded")},1200),t.app.menu.init(!1);!1===t.app.nav.initialized&&t.app.nav.init({speed:300}),Unison.on("change",function(e){t.app.menu.change()});var e=t(".main-menu").data("img"),n=t(".navigation-background");n.length>0&&void 0!==e&&n.css("background-image",'url("'+e+'")'),t('[data-toggle="tooltip"]').tooltip({container:"body"});var o=t(".header-navbar .navbar-search-close");t(o).click(function(e){t(".navbar-search .dropdown-toggle").click()}),t(".navbar-hide-on-scroll").length>0&&(t(".navbar-hide-on-scroll.fixed-top").headroom({offset:205,tolerance:5,classes:{initial:"headroom",pinned:"headroom--pinned-top",unpinned:"headroom--unpinned-top"}}),t(".navbar-hide-on-scroll.fixed-bottom").headroom({offset:205,tolerance:5,classes:{initial:"headroom",pinned:"headroom--pinned-bottom",unpinned:"headroom--unpinned-bottom"}})),setTimeout(function(){t("body").hasClass("vertical-content-menu")&&function(){var e=t(".main-menu").height();t(".content-body").height()<e&&t(".content-body").css("height",e)}()},500),t('a[data-action="collapse"]').on("click",function(e){e.preventDefault(),t(this).closest(".card").children(".card-content").collapse("toggle"),t(this).closest(".card").find('[data-action="collapse"] i').toggleClass("ft-minus ft-plus")}),t('a[data-action="expand"]').on("click",function(e){e.preventDefault(),t(this).closest(".card").find('[data-action="expand"] i').toggleClass("ft-maximize ft-minimize"),t(this).closest(".card").toggleClass("card-fullscreen")}),t('a[data-action="reload"]').on("click",function(){t(this).closest(".card").block({message:'<div class="ft-refresh-cw icon-spin font-medium-2"></div>',timeout:2e3,overlayCSS:{backgroundColor:"#FFF",cursor:"wait"},css:{border:0,padding:0,backgroundColor:"none"}})}),t('a[data-action="close"]').on("click",function(){t(this).closest(".card").removeClass().slideUp("fast")}),setTimeout(function(){t(".row.match-height").each(function(){t(this).find(".card").not(".card .card").matchHeight()})},500),t('.card .heading-elements a[data-action="collapse"]').on("click",function(){var e,n=t(this).closest(".card");parseInt(n[0].style.height,10)>0?(e=n.css("height"),n.css("height","").attr("data-height",e)):n.data("height")&&(e=n.data("height"),n.css("height",e).attr("data-height",""))});var r=i.data("menu");"vertical-compact-menu"!=r&&"horizontal-menu"!=r&&("vertical-menu-modern"==i.data("menu")?"true"===localStorage.getItem("menuLocked")&&t(".main-menu-content").find("li.active").parents("li").addClass("open"):t(".main-menu-content").find("li.active").parents("li").addClass("open")),"vertical-compact-menu"!=r&&"horizontal-menu"!=r||(t(".main-menu-content").find("li.active").parents("li:not(.nav-item)").addClass("open"),t(".main-menu-content").find("li.active").parents("li").addClass("active")),t(".heading-elements-toggle").on("click",function(){t(this).parent().children(".heading-elements").toggleClass("visible")});var s=t(".chartjs"),c=s.children("canvas").attr("height");if(s.css("height",c),i.hasClass("boxed-layout")&&(i.hasClass("vertical-overlay-menu")||i.hasClass("vertical-compact-menu"))){var l=t(".main-menu").width(),u=t(".app-content").position().left-l;i.hasClass("menu-flipped")?t(".main-menu").css("right",u+"px"):t(".main-menu").css("left",u+"px")}t(".nav-link-search").on("click",function(){t(this);var e=t(this).siblings(".search-input");e.hasClass("open")?e.removeClass("open"):e.addClass("open")})}),t(n).on("click",".menu-toggle, .modern-nav-toggle",function(n){return n.preventDefault(),t.app.menu.toggle(),setTimeout(function(){t(e).trigger("resize")},200),t("#collapsed-sidebar").length>0&&setTimeout(function(){i.hasClass("menu-expanded")||i.hasClass("menu-open")?t("#collapsed-sidebar").prop("checked",!1):t("#collapsed-sidebar").prop("checked",!0)},1e3),!1}),t(n).on("click",".close-navbar",function(e){e.preventDefault(),t.app.menu.toggle()}),t(n).on("click",".open-navbar-container",function(e){var n=Unison.fetch.now();t.app.menu.drillDownMenu(n.name)}),t(n).on("click",".main-menu-footer .footer-toggle",function(e){return e.preventDefault(),t(this).find("i").toggleClass("pe-is-i-angle-down pe-is-i-angle-up"),t(".main-menu-footer").toggleClass("footer-close footer-open"),!1}),t(".navigation").find("li").has("ul").addClass("has-sub"),t(".carousel").carousel({interval:2e3}),t(".nav-link-expand").on("click",function(e){"undefined"!=typeof screenfull&&screenfull.enabled&&screenfull.toggle()}),"undefined"!=typeof screenfull&&screenfull.enabled&&t(n).on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?t(".nav-link-expand").find("i").toggleClass("ft-minimize ft-maximize"):t(".nav-link-expand").find("i").toggleClass("ft-maximize ft-minimize")}),t(n).on("click",".mega-dropdown-menu",function(e){e.stopPropagation()}),t(n).ready(function(){t(".step-icon").each(function(){var e=t(this);e.siblings("span.step").length>0&&(e.siblings("span.step").empty(),t(this).appendTo(t(this).siblings("span.step")))})}),t(e).resize(function(){t.app.menu.manualScroller.updateHeight()})}(window,document,jQuery)},function(e,n){!function(e,n,t){"use strict";t(".buttonAnimation").each(function(){t(this).hover(function(){var e=t(this).attr("data-animation");t(this).addClass("animated "+e)},function(){var e=t(this).attr("data-animation");t(this).removeClass("animated "+e)})}),t(".collapseAnimation").each(function(){t(this).on("click",function(){var e=t(this).attr("data-animation"),n=t(this).attr("href");t(n).addClass("animated "+e)})}),t(".alertAnimation").each(function(){t(this).on("click",function(){var e=t(this).attr("data-animation");t(this).parent(".alert").addClass("animated "+e),t(this).parent("div").one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(n){t("div").removeClass("animated "+e)})})}),t(".cardAnimation .card").toggle(),t(n).on("appear",'[data-appear="appear"]',function(){var e=t(this),n=e.data("animation");e.hasClass("appear-no-repeat")||e.addClass("animated "+n)}),t(n).on("disappear",'[data-appear="appear"]',function(){var e=t(this),n=e.data("animation");e.hasClass("appear-no-repeat")||e.removeClass("animated "+n)})}(window,document,jQuery)},function(e,n){document.querySelectorAll(".thp-dashboard-tree-link").forEach(function(e){e.addEventListener("click",function(e){var n=e.target.hash.substring(1),t=e.target.parentElement.parentElement;document.querySelectorAll(".thp-dashboard-tree-content-child").forEach(function(e){e.classList.contains("hidden")||e.classList.add("hidden")}),function(e){e.classList.contains("no-select")&&e.classList.remove("no-select"),document.querySelectorAll(".thp-dashboard-tree-header-content-child").forEach(function(n){!function(e){e.classList.contains("no-select")||(e.childNodes[1].classList.replace("badge-light","badge-info"),e.childNodes[3].classList.contains("badge-secondary")&&e.childNodes[3].classList.replace("badge-secondary","badge-primary"))}(n),e!==n&&(n.classList.add("no-select"),function(e){e.childNodes[1].classList.replace("badge-info","badge-light"),e.childNodes[3].classList.contains("badge-primary")&&e.childNodes[3].classList.replace("badge-primary","badge-secondary")}(n))})}(t),document.getElementsByClassName("thp-dashboard-tree-header")[0].classList.add("col-lg-7"),document.getElementsByClassName(n)[1].classList.remove("hidden")})})},,,,,,,,function(e,n){$("#validation_modal").on("show.bs.modal",function(e){$(e.relatedTarget);var n=document.getElementById("content").value;$(this);document.getElementById("inner-modal").innerHTML=n})},function(e,n){$("#mixitUp-item").length&&mixitup("#mixitUp-item"),$(document).ready(function(){$("#user-contact")&&$("#user-contact").DataTable({language:{url:"dataTables.french.lang"}})})},,,,,,function(e,n){Prism.languages.ruby={comment:/#[^\r\n]*(\r?\n|$)/g,string:/("|')(\\?.)*?\1/g,regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0},keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/g,builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,boolean:/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?\d+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,"inst-var":/[@&]\b[a-zA-Z_][a-zA-Z_0-9]*[?!]?\b/g,symbol:/:\b[a-zA-Z_][a-zA-Z_0-9]*[?!]?\b/g,const:/\b[A-Z][a-zA-Z_0-9]*[?!]?\b/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g}},,function(e,n){},function(e,n){},function(e,n,t){var a={"./app.css":126,"./bootstrap-extended.css":73,"./bootstrap.css":74,"./colors.css":127,"./components.css":128,"./core/colors/palette-gradient.css":129,"./core/colors/palette-switch.css":130,"./core/colors/palette-tooltip.css":131,"./core/menu/menu-types/vertical-menu.css":132,"./core/menu/menu-types/vertical-overlay-menu.css":133,"./pages/advanced-cards.css":134,"./pages/coming-soon.css":135,"./pages/dashboard-analytics.css":136,"./pages/dashboard-ecommerce.css":137,"./pages/email-application.css":138,"./pages/error.css":139,"./pages/gallery.css":140,"./pages/invoice.css":141,"./pages/login-register.css":142,"./pages/project.css":143,"./pages/search.css":144,"./pages/timeline.css":145,"./pages/under-maintenance.css":146,"./pages/users.css":147,"./plugins/animate/animate.css":148,"./plugins/calendars/fullcalendar.css":149,"./plugins/charts/c3-chart.css":150,"./plugins/charts/chartist.css":151,"./plugins/extensions/toastr.css":152,"./plugins/file-uploaders/dropzone.css":153,"./plugins/forms/checkboxes-radios.css":154,"./plugins/forms/extended/form-extended.css":155,"./plugins/forms/extended/typeahed.css":156,"./plugins/forms/switch.css":157,"./plugins/forms/validation/form-validation.css":158,"./plugins/forms/wizard.css":159,"./plugins/pickers/daterange/daterange.css":160,"./plugins/tables/handsontable.css":161,"./plugins/ui/coming-soon.css":162,"./plugins/ui/shapes.css":163};function i(e){return t(o(e))}function o(e){var n=a[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id=125},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n,t){var a={"./feather/style.css":165,"./line-awesome/css/line-awesome-font-awesome.css":166,"./line-awesome/css/line-awesome.css":167};function i(e){return t(o(e))}function o(e){var n=a[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id=164},function(e,n){},function(e,n){},function(e,n){},function(e,n){}]),[91]);